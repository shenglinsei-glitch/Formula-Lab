(function(){const N=document.createElement("link").relList;if(N&&N.supports&&N.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))E(O);new MutationObserver(O=>{for(const D of O)if(D.type==="childList")for(const C of D.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&E(C)}).observe(document,{childList:!0,subtree:!0});function u(O){const D={};return O.integrity&&(D.integrity=O.integrity),O.referrerPolicy&&(D.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?D.credentials="include":O.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function E(O){if(O.ep)return;O.ep=!0;const D=u(O);fetch(O.href,D)}})();function qd(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var Ai={exports:{}},Ur={},Hi={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu;function Yd(){if(Tu)return ke;Tu=1;var b=Symbol.for("react.element"),N=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),C=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),H=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),G=Symbol.iterator;function re(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,ie={};function Y(p,m,z){this.props=p,this.context=m,this.refs=ie,this.updater=z||J}Y.prototype.isReactComponent={},Y.prototype.setState=function(p,m){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,m,"setState")},Y.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function Ce(){}Ce.prototype=Y.prototype;function W(p,m,z){this.props=p,this.context=m,this.refs=ie,this.updater=z||J}var ce=W.prototype=new Ce;ce.constructor=W,ue(ce,Y.prototype),ce.isPureReactComponent=!0;var Ne=Array.isArray,Fe=Object.prototype.hasOwnProperty,xe={current:null},pe={key:!0,ref:!0,__self:!0,__source:!0};function Se(p,m,z){var _,k={},A=null,V=null;if(m!=null)for(_ in m.ref!==void 0&&(V=m.ref),m.key!==void 0&&(A=""+m.key),m)Fe.call(m,_)&&!pe.hasOwnProperty(_)&&(k[_]=m[_]);var M=arguments.length-2;if(M===1)k.children=z;else if(1<M){for(var K=Array(M),g=0;g<M;g++)K[g]=arguments[g+2];k.children=K}if(p&&p.defaultProps)for(_ in M=p.defaultProps,M)k[_]===void 0&&(k[_]=M[_]);return{$$typeof:b,type:p,key:A,ref:V,props:k,_owner:xe.current}}function Le(p,m){return{$$typeof:b,type:p.type,key:m,ref:p.ref,props:p.props,_owner:p._owner}}function te(p){return typeof p=="object"&&p!==null&&p.$$typeof===b}function de(p){var m={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(z){return m[z]})}var ye=/\/+/g;function ge(p,m){return typeof p=="object"&&p!==null&&p.key!=null?de(""+p.key):m.toString(36)}function Pe(p,m,z,_,k){var A=typeof p;(A==="undefined"||A==="boolean")&&(p=null);var V=!1;if(p===null)V=!0;else switch(A){case"string":case"number":V=!0;break;case"object":switch(p.$$typeof){case b:case N:V=!0}}if(V)return V=p,k=k(V),p=_===""?"."+ge(V,0):_,Ne(k)?(z="",p!=null&&(z=p.replace(ye,"$&/")+"/"),Pe(k,m,z,"",function(g){return g})):k!=null&&(te(k)&&(k=Le(k,z+(!k.key||V&&V.key===k.key?"":(""+k.key).replace(ye,"$&/")+"/")+p)),m.push(k)),1;if(V=0,_=_===""?".":_+":",Ne(p))for(var M=0;M<p.length;M++){A=p[M];var K=_+ge(A,M);V+=Pe(A,m,z,K,k)}else if(K=re(p),typeof K=="function")for(p=K.call(p),M=0;!(A=p.next()).done;)A=A.value,K=_+ge(A,M++),V+=Pe(A,m,z,K,k);else if(A==="object")throw m=String(p),Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.");return V}function be(p,m,z){if(p==null)return p;var _=[],k=0;return Pe(p,_,"","",function(A){return m.call(z,A,k++)}),_}function Re(p){if(p._status===-1){var m=p._result;m=m(),m.then(function(z){(p._status===0||p._status===-1)&&(p._status=1,p._result=z)},function(z){(p._status===0||p._status===-1)&&(p._status=2,p._result=z)}),p._status===-1&&(p._status=0,p._result=m)}if(p._status===1)return p._result.default;throw p._result}var we={current:null},U={transition:null},w={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:U,ReactCurrentOwner:xe};function I(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:be,forEach:function(p,m,z){be(p,function(){m.apply(this,arguments)},z)},count:function(p){var m=0;return be(p,function(){m++}),m},toArray:function(p){return be(p,function(m){return m})||[]},only:function(p){if(!te(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},ke.Component=Y,ke.Fragment=u,ke.Profiler=O,ke.PureComponent=W,ke.StrictMode=E,ke.Suspense=S,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w,ke.act=I,ke.cloneElement=function(p,m,z){if(p==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var _=ue({},p.props),k=p.key,A=p.ref,V=p._owner;if(m!=null){if(m.ref!==void 0&&(A=m.ref,V=xe.current),m.key!==void 0&&(k=""+m.key),p.type&&p.type.defaultProps)var M=p.type.defaultProps;for(K in m)Fe.call(m,K)&&!pe.hasOwnProperty(K)&&(_[K]=m[K]===void 0&&M!==void 0?M[K]:m[K])}var K=arguments.length-2;if(K===1)_.children=z;else if(1<K){M=Array(K);for(var g=0;g<K;g++)M[g]=arguments[g+2];_.children=M}return{$$typeof:b,type:p.type,key:k,ref:A,props:_,_owner:V}},ke.createContext=function(p){return p={$$typeof:C,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},p.Provider={$$typeof:D,_context:p},p.Consumer=p},ke.createElement=Se,ke.createFactory=function(p){var m=Se.bind(null,p);return m.type=p,m},ke.createRef=function(){return{current:null}},ke.forwardRef=function(p){return{$$typeof:f,render:p}},ke.isValidElement=te,ke.lazy=function(p){return{$$typeof:T,_payload:{_status:-1,_result:p},_init:Re}},ke.memo=function(p,m){return{$$typeof:H,type:p,compare:m===void 0?null:m}},ke.startTransition=function(p){var m=U.transition;U.transition={};try{p()}finally{U.transition=m}},ke.unstable_act=I,ke.useCallback=function(p,m){return we.current.useCallback(p,m)},ke.useContext=function(p){return we.current.useContext(p)},ke.useDebugValue=function(){},ke.useDeferredValue=function(p){return we.current.useDeferredValue(p)},ke.useEffect=function(p,m){return we.current.useEffect(p,m)},ke.useId=function(){return we.current.useId()},ke.useImperativeHandle=function(p,m,z){return we.current.useImperativeHandle(p,m,z)},ke.useInsertionEffect=function(p,m){return we.current.useInsertionEffect(p,m)},ke.useLayoutEffect=function(p,m){return we.current.useLayoutEffect(p,m)},ke.useMemo=function(p,m){return we.current.useMemo(p,m)},ke.useReducer=function(p,m,z){return we.current.useReducer(p,m,z)},ke.useRef=function(p){return we.current.useRef(p)},ke.useState=function(p){return we.current.useState(p)},ke.useSyncExternalStore=function(p,m,z){return we.current.useSyncExternalStore(p,m,z)},ke.useTransition=function(){return we.current.useTransition()},ke.version="18.3.1",ke}var Ou;function Qi(){return Ou||(Ou=1,Hi.exports=Yd()),Hi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du;function Xd(){if(Du)return Ur;Du=1;var b=Qi(),N=Symbol.for("react.element"),u=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,O=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function C(f,S,H){var T,G={},re=null,J=null;H!==void 0&&(re=""+H),S.key!==void 0&&(re=""+S.key),S.ref!==void 0&&(J=S.ref);for(T in S)E.call(S,T)&&!D.hasOwnProperty(T)&&(G[T]=S[T]);if(f&&f.defaultProps)for(T in S=f.defaultProps,S)G[T]===void 0&&(G[T]=S[T]);return{$$typeof:N,type:f,key:re,ref:J,props:G,_owner:O.current}}return Ur.Fragment=u,Ur.jsx=C,Ur.jsxs=C,Ur}var Mu;function Gd(){return Mu||(Mu=1,Ai.exports=Xd()),Ai.exports}var i=Gd(),Yl={},Bi={exports:{}},pt={},Vi={exports:{}},Wi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u;function Zd(){return $u||($u=1,(function(b){function N(U,w){var I=U.length;U.push(w);e:for(;0<I;){var p=I-1>>>1,m=U[p];if(0<O(m,w))U[p]=w,U[I]=m,I=p;else break e}}function u(U){return U.length===0?null:U[0]}function E(U){if(U.length===0)return null;var w=U[0],I=U.pop();if(I!==w){U[0]=I;e:for(var p=0,m=U.length,z=m>>>1;p<z;){var _=2*(p+1)-1,k=U[_],A=_+1,V=U[A];if(0>O(k,I))A<m&&0>O(V,k)?(U[p]=V,U[A]=I,p=A):(U[p]=k,U[_]=I,p=_);else if(A<m&&0>O(V,I))U[p]=V,U[A]=I,p=A;else break e}}return w}function O(U,w){var I=U.sortIndex-w.sortIndex;return I!==0?I:U.id-w.id}if(typeof performance=="object"&&typeof performance.now=="function"){var D=performance;b.unstable_now=function(){return D.now()}}else{var C=Date,f=C.now();b.unstable_now=function(){return C.now()-f}}var S=[],H=[],T=1,G=null,re=3,J=!1,ue=!1,ie=!1,Y=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(U){for(var w=u(H);w!==null;){if(w.callback===null)E(H);else if(w.startTime<=U)E(H),w.sortIndex=w.expirationTime,N(S,w);else break;w=u(H)}}function Ne(U){if(ie=!1,ce(U),!ue)if(u(S)!==null)ue=!0,Re(Fe);else{var w=u(H);w!==null&&we(Ne,w.startTime-U)}}function Fe(U,w){ue=!1,ie&&(ie=!1,Ce(Se),Se=-1),J=!0;var I=re;try{for(ce(w),G=u(S);G!==null&&(!(G.expirationTime>w)||U&&!de());){var p=G.callback;if(typeof p=="function"){G.callback=null,re=G.priorityLevel;var m=p(G.expirationTime<=w);w=b.unstable_now(),typeof m=="function"?G.callback=m:G===u(S)&&E(S),ce(w)}else E(S);G=u(S)}if(G!==null)var z=!0;else{var _=u(H);_!==null&&we(Ne,_.startTime-w),z=!1}return z}finally{G=null,re=I,J=!1}}var xe=!1,pe=null,Se=-1,Le=5,te=-1;function de(){return!(b.unstable_now()-te<Le)}function ye(){if(pe!==null){var U=b.unstable_now();te=U;var w=!0;try{w=pe(!0,U)}finally{w?ge():(xe=!1,pe=null)}}else xe=!1}var ge;if(typeof W=="function")ge=function(){W(ye)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,be=Pe.port2;Pe.port1.onmessage=ye,ge=function(){be.postMessage(null)}}else ge=function(){Y(ye,0)};function Re(U){pe=U,xe||(xe=!0,ge())}function we(U,w){Se=Y(function(){U(b.unstable_now())},w)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(U){U.callback=null},b.unstable_continueExecution=function(){ue||J||(ue=!0,Re(Fe))},b.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<U?Math.floor(1e3/U):5},b.unstable_getCurrentPriorityLevel=function(){return re},b.unstable_getFirstCallbackNode=function(){return u(S)},b.unstable_next=function(U){switch(re){case 1:case 2:case 3:var w=3;break;default:w=re}var I=re;re=w;try{return U()}finally{re=I}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(U,w){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=re;re=U;try{return w()}finally{re=I}},b.unstable_scheduleCallback=function(U,w,I){var p=b.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?p+I:p):I=p,U){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=I+m,U={id:T++,callback:w,priorityLevel:U,startTime:I,expirationTime:m,sortIndex:-1},I>p?(U.sortIndex=I,N(H,U),u(S)===null&&U===u(H)&&(ie?(Ce(Se),Se=-1):ie=!0,we(Ne,I-p))):(U.sortIndex=m,N(S,U),ue||J||(ue=!0,Re(Fe))),U},b.unstable_shouldYield=de,b.unstable_wrapCallback=function(U){var w=re;return function(){var I=re;re=w;try{return U.apply(this,arguments)}finally{re=I}}}})(Wi)),Wi}var Uu;function ef(){return Uu||(Uu=1,Vi.exports=Zd()),Vi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au;function tf(){if(Au)return pt;Au=1;var b=Qi(),N=ef();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E=new Set,O={};function D(e,t){C(e,t),C(e+"Capture",t)}function C(e,t){for(O[e]=t,e=0;e<t.length;e++)E.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=Object.prototype.hasOwnProperty,H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},G={};function re(e){return S.call(G,e)?!0:S.call(T,e)?!1:H.test(e)?G[e]=!0:(T[e]=!0,!1)}function J(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ue(e,t,n,r){if(t===null||typeof t>"u"||J(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ie(e,t,n,r,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new ie(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new ie(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new ie(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new ie(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new ie(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new ie(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new ie(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new ie(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ce=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ce,W);Y[t]=new ie(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ce,W);Y[t]=new ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ce,W);Y[t]=new ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new ie(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function ce(e,t,n,r){var l=Y.hasOwnProperty(t)?Y[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ue(t,n,l,r)&&(n=null),r||l===null?re(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ne=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),xe=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),de=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),U=Symbol.iterator;function w(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,p;function m(e){if(p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);p=t&&t[1]||""}return`
`+p+e}var z=!1;function _(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var l=v.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,a=s.length-1;1<=o&&0<=a&&l[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==s[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?m(e):""}function k(e){switch(e.tag){case 5:return m(e.type);case 16:return m("Lazy");case 13:return m("Suspense");case 19:return m("SuspenseList");case 0:case 2:case 15:return e=_(e.type,!1),e;case 11:return e=_(e.type.render,!1),e;case 1:return e=_(e.type,!0),e;default:return""}}function A(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case xe:return"Portal";case Le:return"Profiler";case Se:return"StrictMode";case ge:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case be:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function M(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P(e){e._valueTracker||(e._valueTracker=g(e))}function le(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function he(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ee(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ze(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=M(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lt(e,t){t=t.checked,t!=null&&ce(e,"checked",t,!1)}function zt(e,t){lt(e,t);var n=M(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h(e,t.type,n):t.hasOwnProperty("defaultValue")&&h(e,t.type,M(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function h(e,t,n){(t!=="number"||he(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var j=Array.isArray;function B(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+M(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function se(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function me(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(j(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:M(n)}}function Ye(e,t){var n=M(t.value),r=M(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ot(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pn,Gl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zu=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){Zu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function qi(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function Yi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=qi(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var ec=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(ec[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function es(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function ns(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,In=null,Fn=null;function Xi(e){if(e=Cr(e)){if(typeof rs!="function")throw Error(u(280));var t=e.stateNode;t&&(t=dl(t),rs(e.stateNode,e.type,t))}}function Gi(e){In?Fn?Fn.push(e):Fn=[e]:In=e}function Zi(){if(In){var e=In,t=Fn;if(Fn=In=null,Xi(e),t)for(e=0;e<t.length;e++)Xi(t[e])}}function eo(e,t){return e(t)}function to(){}var ls=!1;function no(e,t,n){if(ls)return e(t,n);ls=!0;try{return eo(e,t,n)}finally{ls=!1,(In!==null||Fn!==null)&&(to(),Zi())}}function lr(e,t){var n=e.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var ss=!1;if(f)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){ss=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{ss=!1}function tc(e,t,n,r,l,s,o,a,c){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(L){this.onError(L)}}var ir=!1,Br=null,Vr=!1,is=null,nc={onError:function(e){ir=!0,Br=e}};function rc(e,t,n,r,l,s,o,a,c){ir=!1,Br=null,tc.apply(nc,arguments)}function lc(e,t,n,r,l,s,o,a,c){if(rc.apply(this,arguments),ir){if(ir){var v=Br;ir=!1,Br=null}else throw Error(u(198));Vr||(Vr=!0,is=v)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ro(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lo(e){if(mn(e)!==e)throw Error(u(188))}function sc(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return lo(l),e;if(s===r)return lo(l),t;s=s.sibling}throw Error(u(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function so(e){return e=sc(e),e!==null?io(e):null}function io(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=io(e);if(t!==null)return t;e=e.sibling}return null}var oo=N.unstable_scheduleCallback,ao=N.unstable_cancelCallback,ic=N.unstable_shouldYield,oc=N.unstable_requestPaint,Ae=N.unstable_now,ac=N.unstable_getCurrentPriorityLevel,os=N.unstable_ImmediatePriority,uo=N.unstable_UserBlockingPriority,Wr=N.unstable_NormalPriority,uc=N.unstable_LowPriority,co=N.unstable_IdlePriority,Kr=null,bt=null;function cc(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:pc,dc=Math.log,fc=Math.LN2;function pc(e){return e>>>=0,e===0?32:31-(dc(e)/fc|0)|0}var Qr=64,Jr=4194304;function or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=or(a):(s&=o,s!==0&&(r=or(s)))}else o=n&~l,o!==0?r=or(o):s!==0&&(r=or(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),l=1<<n,r|=e[n],t&=~l;return r}function mc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ct(s),a=1<<o,c=l[o];c===-1?((a&n)===0||(a&r)!==0)&&(l[o]=mc(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function as(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fo(){var e=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),e}function us(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ar(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function xc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ct(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function cs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ie=0;function po(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var mo,ds,ho,xo,go,fs=!1,Yr=[],Qt=null,Jt=null,qt=null,ur=new Map,cr=new Map,Yt=[],gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yo(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function dr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Cr(t),t!==null&&ds(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function yc(e,t,n,r,l){switch(t){case"focusin":return Qt=dr(Qt,e,t,n,r,l),!0;case"dragenter":return Jt=dr(Jt,e,t,n,r,l),!0;case"mouseover":return qt=dr(qt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return ur.set(s,dr(ur.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,cr.set(s,dr(cr.get(s)||null,e,t,n,r,l)),!0}return!1}function vo(e){var t=hn(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=ro(n),t!==null){e.blockedOn=t,go(e.priority,function(){ho(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ms(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ts=r,n.target.dispatchEvent(r),ts=null}else return t=Cr(n),t!==null&&ds(t),e.blockedOn=n,!1;t.shift()}return!0}function wo(e,t,n){Xr(e)&&n.delete(t)}function vc(){fs=!1,Qt!==null&&Xr(Qt)&&(Qt=null),Jt!==null&&Xr(Jt)&&(Jt=null),qt!==null&&Xr(qt)&&(qt=null),ur.forEach(wo),cr.forEach(wo)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,fs||(fs=!0,N.unstable_scheduleCallback(N.unstable_NormalPriority,vc)))}function pr(e){function t(l){return fr(l,e)}if(0<Yr.length){fr(Yr[0],e);for(var n=1;n<Yr.length;n++){var r=Yr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&fr(Qt,e),Jt!==null&&fr(Jt,e),qt!==null&&fr(qt,e),ur.forEach(t),cr.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)vo(n),n.blockedOn===null&&Yt.shift()}var Ln=Ne.ReactCurrentBatchConfig,Gr=!0;function wc(e,t,n,r){var l=Ie,s=Ln.transition;Ln.transition=null;try{Ie=1,ps(e,t,n,r)}finally{Ie=l,Ln.transition=s}}function kc(e,t,n,r){var l=Ie,s=Ln.transition;Ln.transition=null;try{Ie=4,ps(e,t,n,r)}finally{Ie=l,Ln.transition=s}}function ps(e,t,n,r){if(Gr){var l=ms(e,t,n,r);if(l===null)Ls(e,t,r,Zr,n),yo(e,r);else if(yc(l,e,t,n,r))r.stopPropagation();else if(yo(e,r),t&4&&-1<gc.indexOf(e)){for(;l!==null;){var s=Cr(l);if(s!==null&&mo(s),s=ms(e,t,n,r),s===null&&Ls(e,t,r,Zr,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Ls(e,t,r,null,n)}}var Zr=null;function ms(e,t,n,r){if(Zr=null,e=ns(r),e=hn(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ro(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zr=e,null}function ko(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ac()){case os:return 1;case uo:return 4;case Wr:case uc:return 16;case co:return 536870912;default:return 16}default:return 16}}var Xt=null,hs=null,el=null;function No(){if(el)return el;var e,t=hs,n=t.length,r,l="value"in Xt?Xt.value:Xt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[s-r];r++);return el=l.slice(e,1<r?1-r:void 0)}function tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function So(){return!1}function mt(e){function t(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nl:So,this.isPropagationStopped=So,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=mt(zn),mr=I({},zn,{view:0,detail:0}),Nc=mt(mr),gs,ys,hr,rl=I({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(gs=e.screenX-hr.screenX,ys=e.screenY-hr.screenY):ys=gs=0,hr=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ys}}),jo=mt(rl),Sc=I({},rl,{dataTransfer:0}),jc=mt(Sc),Cc=I({},mr,{relatedTarget:0}),vs=mt(Cc),Ec=I({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=mt(Ec),Pc=I({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ic=mt(Pc),Fc=I({},zn,{data:0}),Co=mt(Fc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bc[e])?!!t[e]:!1}function ws(){return Rc}var Tc=I({},mr,{key:function(e){if(e.key){var t=Lc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oc=mt(Tc),Dc=I({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=mt(Dc),Mc=I({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),$c=mt(Mc),Uc=I({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=mt(Uc),Hc=I({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bc=mt(Hc),Vc=[9,13,27,32],ks=f&&"CompositionEvent"in window,xr=null;f&&"documentMode"in document&&(xr=document.documentMode);var Wc=f&&"TextEvent"in window&&!xr,_o=f&&(!ks||xr&&8<xr&&11>=xr),Po=" ",Io=!1;function Fo(e,t){switch(e){case"keyup":return Vc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function Kc(e,t){switch(e){case"compositionend":return Lo(t);case"keypress":return t.which!==32?null:(Io=!0,Po);case"textInput":return e=t.data,e===Po&&Io?null:e;default:return null}}function Qc(e,t){if(bn)return e==="compositionend"||!ks&&Fo(e,t)?(e=No(),el=hs=Xt=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _o&&t.locale!=="ko"?null:t.data;default:return null}}var Jc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jc[e.type]:t==="textarea"}function bo(e,t,n,r){Gi(r),t=al(t,"onChange"),0<t.length&&(n=new xs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,yr=null;function qc(e){Xo(e,0)}function ll(e){var t=Mn(e);if(le(t))return e}function Yc(e,t){if(e==="change")return t}var Ro=!1;if(f){var Ns;if(f){var Ss="oninput"in document;if(!Ss){var To=document.createElement("div");To.setAttribute("oninput","return;"),Ss=typeof To.oninput=="function"}Ns=Ss}else Ns=!1;Ro=Ns&&(!document.documentMode||9<document.documentMode)}function Oo(){gr&&(gr.detachEvent("onpropertychange",Do),yr=gr=null)}function Do(e){if(e.propertyName==="value"&&ll(yr)){var t=[];bo(t,yr,e,ns(e)),no(qc,t)}}function Xc(e,t,n){e==="focusin"?(Oo(),gr=t,yr=n,gr.attachEvent("onpropertychange",Do)):e==="focusout"&&Oo()}function Gc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(yr)}function Zc(e,t){if(e==="click")return ll(t)}function ed(e,t){if(e==="input"||e==="change")return ll(t)}function td(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:td;function vr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!S.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function Mo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $o(e,t){var n=Mo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mo(n)}}function Uo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ao(){for(var e=window,t=he();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=he(e.document)}return t}function js(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nd(e){var t=Ao(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uo(n.ownerDocument.documentElement,n)){if(r!==null&&js(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=$o(n,s);var o=$o(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rd=f&&"documentMode"in document&&11>=document.documentMode,Rn=null,Cs=null,wr=null,Es=!1;function Ho(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Es||Rn==null||Rn!==he(r)||(r=Rn,"selectionStart"in r&&js(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&vr(wr,r)||(wr=r,r=al(Cs,"onSelect"),0<r.length&&(t=new xs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tn={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},_s={},Bo={};f&&(Bo=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function il(e){if(_s[e])return _s[e];if(!Tn[e])return e;var t=Tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bo)return _s[e]=t[n];return e}var Vo=il("animationend"),Wo=il("animationiteration"),Ko=il("animationstart"),Qo=il("transitionend"),Jo=new Map,qo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){Jo.set(e,t),D(t,[e])}for(var Ps=0;Ps<qo.length;Ps++){var Is=qo[Ps],ld=Is.toLowerCase(),sd=Is[0].toUpperCase()+Is.slice(1);Gt(ld,"on"+sd)}Gt(Vo,"onAnimationEnd"),Gt(Wo,"onAnimationIteration"),Gt(Ko,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Qo,"onTransitionEnd"),C("onMouseEnter",["mouseout","mouseover"]),C("onMouseLeave",["mouseout","mouseover"]),C("onPointerEnter",["pointerout","pointerover"]),C("onPointerLeave",["pointerout","pointerover"]),D("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),D("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),D("onBeforeInput",["compositionend","keypress","textInput","paste"]),D("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),D("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),D("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),id=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Yo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lc(r,t,void 0,e),e.currentTarget=null}function Xo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,v=a.currentTarget;if(a=a.listener,c!==s&&l.isPropagationStopped())break e;Yo(l,a,v),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,v=a.currentTarget,a=a.listener,c!==s&&l.isPropagationStopped())break e;Yo(l,a,v),s=c}}}if(Vr)throw e=is,Vr=!1,is=null,e}function Te(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var r=e+"__bubble";n.has(r)||(Go(t,e,2,!1),n.add(r))}function Fs(e,t,n){var r=0;t&&(r|=4),Go(n,e,r,t)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[ol]){e[ol]=!0,E.forEach(function(n){n!=="selectionchange"&&(id.has(n)||Fs(n,!1,e),Fs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ol]||(t[ol]=!0,Fs("selectionchange",!1,t))}}function Go(e,t,n,r){switch(ko(t)){case 1:var l=wc;break;case 4:l=kc;break;default:l=ps}n=l.bind(null,t,n,e),l=void 0,!ss||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ls(e,t,n,r,l){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=hn(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}no(function(){var v=s,L=ns(n),R=[];e:{var F=Jo.get(e);if(F!==void 0){var Q=xs,Z=e;switch(e){case"keypress":if(tl(n)===0)break e;case"keydown":case"keyup":Q=Oc;break;case"focusin":Z="focus",Q=vs;break;case"focusout":Z="blur",Q=vs;break;case"beforeblur":case"afterblur":Q=vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=$c;break;case Vo:case Wo:case Ko:Q=_c;break;case Qo:Q=Ac;break;case"scroll":Q=Nc;break;case"wheel":Q=Bc;break;case"copy":case"cut":case"paste":Q=Ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Eo}var ee=(t&4)!==0,He=!ee&&e==="scroll",x=ee?F!==null?F+"Capture":null:F;ee=[];for(var d=v,y;d!==null;){y=d;var $=y.stateNode;if(y.tag===5&&$!==null&&(y=$,x!==null&&($=lr(d,x),$!=null&&ee.push(Sr(d,$,y)))),He)break;d=d.return}0<ee.length&&(F=new Q(F,Z,null,n,L),R.push({event:F,listeners:ee}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",F&&n!==ts&&(Z=n.relatedTarget||n.fromElement)&&(hn(Z)||Z[Mt]))break e;if((Q||F)&&(F=L.window===L?L:(F=L.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(Z=n.relatedTarget||n.toElement,Q=v,Z=Z?hn(Z):null,Z!==null&&(He=mn(Z),Z!==He||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=v),Q!==Z)){if(ee=jo,$="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Eo,$="onPointerLeave",x="onPointerEnter",d="pointer"),He=Q==null?F:Mn(Q),y=Z==null?F:Mn(Z),F=new ee($,d+"leave",Q,n,L),F.target=He,F.relatedTarget=y,$=null,hn(L)===v&&(ee=new ee(x,d+"enter",Z,n,L),ee.target=y,ee.relatedTarget=He,$=ee),He=$,Q&&Z)t:{for(ee=Q,x=Z,d=0,y=ee;y;y=On(y))d++;for(y=0,$=x;$;$=On($))y++;for(;0<d-y;)ee=On(ee),d--;for(;0<y-d;)x=On(x),y--;for(;d--;){if(ee===x||x!==null&&ee===x.alternate)break t;ee=On(ee),x=On(x)}ee=null}else ee=null;Q!==null&&Zo(R,F,Q,ee,!1),Z!==null&&He!==null&&Zo(R,He,Z,ee,!0)}}e:{if(F=v?Mn(v):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ne=Yc;else if(zo(F))if(Ro)ne=ed;else{ne=Gc;var oe=Xc}else(Q=F.nodeName)&&Q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ne=Zc);if(ne&&(ne=ne(e,v))){bo(R,ne,n,L);break e}oe&&oe(e,F,v),e==="focusout"&&(oe=F._wrapperState)&&oe.controlled&&F.type==="number"&&h(F,"number",F.value)}switch(oe=v?Mn(v):window,e){case"focusin":(zo(oe)||oe.contentEditable==="true")&&(Rn=oe,Cs=v,wr=null);break;case"focusout":wr=Cs=Rn=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Ho(R,n,L);break;case"selectionchange":if(rd)break;case"keydown":case"keyup":Ho(R,n,L)}var ae;if(ks)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else bn?Fo(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(_o&&n.locale!=="ko"&&(bn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&bn&&(ae=No()):(Xt=L,hs="value"in Xt?Xt.value:Xt.textContent,bn=!0)),oe=al(v,fe),0<oe.length&&(fe=new Co(fe,e,null,n,L),R.push({event:fe,listeners:oe}),ae?fe.data=ae:(ae=Lo(n),ae!==null&&(fe.data=ae)))),(ae=Wc?Kc(e,n):Qc(e,n))&&(v=al(v,"onBeforeInput"),0<v.length&&(L=new Co("onBeforeInput","beforeinput",null,n,L),R.push({event:L,listeners:v}),L.data=ae))}Xo(R,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function al(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=lr(e,n),s!=null&&r.unshift(Sr(e,s,l)),s=lr(e,t),s!=null&&r.push(Sr(e,s,l))),e=e.return}return r}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zo(e,t,n,r,l){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,v=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&v!==null&&(a=v,l?(c=lr(n,s),c!=null&&o.unshift(Sr(n,c,a))):l||(c=lr(n,s),c!=null&&o.push(Sr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var od=/\r\n?/g,ad=/\u0000|\uFFFD/g;function ea(e){return(typeof e=="string"?e:""+e).replace(od,`
`).replace(ad,"")}function ul(e,t,n){if(t=ea(t),ea(e)!==t&&n)throw Error(u(425))}function cl(){}var zs=null,bs=null;function Rs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ts=typeof setTimeout=="function"?setTimeout:void 0,ud=typeof clearTimeout=="function"?clearTimeout:void 0,ta=typeof Promise=="function"?Promise:void 0,cd=typeof queueMicrotask=="function"?queueMicrotask:typeof ta<"u"?function(e){return ta.resolve(null).then(e).catch(dd)}:Ts;function dd(e){setTimeout(function(){throw e})}function Os(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),pr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);pr(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function na(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Dn,jr="__reactProps$"+Dn,Mt="__reactContainer$"+Dn,Ds="__reactEvents$"+Dn,fd="__reactListeners$"+Dn,pd="__reactHandles$"+Dn;function hn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=na(e);e!==null;){if(n=e[Rt])return n;e=na(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[Rt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function dl(e){return e[jr]||null}var Ms=[],$n=-1;function en(e){return{current:e}}function Oe(e){0>$n||(e.current=Ms[$n],Ms[$n]=null,$n--)}function ze(e,t){$n++,Ms[$n]=e.current,e.current=t}var tn={},et=en(tn),at=en(!1),xn=tn;function Un(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function fl(){Oe(at),Oe(et)}function ra(e,t,n){if(et.current!==tn)throw Error(u(168));ze(et,t),ze(at,n)}function la(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(u(108,V(e)||"Unknown",l));return I({},n,r)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,xn=et.current,ze(et,e),ze(at,at.current),!0}function sa(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=la(e,t,xn),r.__reactInternalMemoizedMergedChildContext=e,Oe(at),Oe(et),ze(et,e)):Oe(at),ze(at,n)}var $t=null,ml=!1,$s=!1;function ia(e){$t===null?$t=[e]:$t.push(e)}function md(e){ml=!0,ia(e)}function nn(){if(!$s&&$t!==null){$s=!0;var e=0,t=Ie;try{var n=$t;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,ml=!1}catch(l){throw $t!==null&&($t=$t.slice(e+1)),oo(os,nn),l}finally{Ie=t,$s=!1}}return null}var An=[],Hn=0,hl=null,xl=0,yt=[],vt=0,gn=null,Ut=1,At="";function yn(e,t){An[Hn++]=xl,An[Hn++]=hl,hl=e,xl=t}function oa(e,t,n){yt[vt++]=Ut,yt[vt++]=At,yt[vt++]=gn,gn=e;var r=Ut;e=At;var l=32-Ct(r)-1;r&=~(1<<l),n+=1;var s=32-Ct(t)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Ut=1<<32-Ct(t)+l|n<<l|r,At=s+e}else Ut=1<<s|n<<l|r,At=e}function Us(e){e.return!==null&&(yn(e,1),oa(e,1,0))}function As(e){for(;e===hl;)hl=An[--Hn],An[Hn]=null,xl=An[--Hn],An[Hn]=null;for(;e===gn;)gn=yt[--vt],yt[vt]=null,At=yt[--vt],yt[vt]=null,Ut=yt[--vt],yt[vt]=null}var ht=null,xt=null,De=!1,_t=null;function aa(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,xt=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:Ut,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,xt=null,!0):!1;default:return!1}}function Hs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bs(e){if(De){var t=xt;if(t){var n=t;if(!ua(e,t)){if(Hs(e))throw Error(u(418));t=Zt(n.nextSibling);var r=ht;t&&ua(e,t)?aa(r,n):(e.flags=e.flags&-4097|2,De=!1,ht=e)}}else{if(Hs(e))throw Error(u(418));e.flags=e.flags&-4097|2,De=!1,ht=e}}}function ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function gl(e){if(e!==ht)return!1;if(!De)return ca(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rs(e.type,e.memoizedProps)),t&&(t=xt)){if(Hs(e))throw da(),Error(u(418));for(;t;)aa(e,t),t=Zt(t.nextSibling)}if(ca(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=ht?Zt(e.stateNode.nextSibling):null;return!0}function da(){for(var e=xt;e;)e=Zt(e.nextSibling)}function Bn(){xt=ht=null,De=!1}function Vs(e){_t===null?_t=[e]:_t.push(e)}var hd=Ne.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=l.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function yl(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){var t=e._init;return t(e._payload)}function pa(e){function t(x,d){if(e){var y=x.deletions;y===null?(x.deletions=[d],x.flags|=16):y.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function r(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function l(x,d){return x=dn(x,d),x.index=0,x.sibling=null,x}function s(x,d,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<d?(x.flags|=2,d):y):(x.flags|=2,d)):(x.flags|=1048576,d)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,d,y,$){return d===null||d.tag!==6?(d=Ti(y,x.mode,$),d.return=x,d):(d=l(d,y),d.return=x,d)}function c(x,d,y,$){var ne=y.type;return ne===pe?L(x,d,y.props.children,$,y.key):d!==null&&(d.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Re&&fa(ne)===d.type)?($=l(d,y.props),$.ref=Er(x,d,y),$.return=x,$):($=Hl(y.type,y.key,y.props,null,x.mode,$),$.ref=Er(x,d,y),$.return=x,$)}function v(x,d,y,$){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=Oi(y,x.mode,$),d.return=x,d):(d=l(d,y.children||[]),d.return=x,d)}function L(x,d,y,$,ne){return d===null||d.tag!==7?(d=En(y,x.mode,$,ne),d.return=x,d):(d=l(d,y),d.return=x,d)}function R(x,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ti(""+d,x.mode,y),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Fe:return y=Hl(d.type,d.key,d.props,null,x.mode,y),y.ref=Er(x,null,d),y.return=x,y;case xe:return d=Oi(d,x.mode,y),d.return=x,d;case Re:var $=d._init;return R(x,$(d._payload),y)}if(j(d)||w(d))return d=En(d,x.mode,y,null),d.return=x,d;yl(x,d)}return null}function F(x,d,y,$){var ne=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return ne!==null?null:a(x,d,""+y,$);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fe:return y.key===ne?c(x,d,y,$):null;case xe:return y.key===ne?v(x,d,y,$):null;case Re:return ne=y._init,F(x,d,ne(y._payload),$)}if(j(y)||w(y))return ne!==null?null:L(x,d,y,$,null);yl(x,y)}return null}function Q(x,d,y,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number")return x=x.get(y)||null,a(d,x,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Fe:return x=x.get($.key===null?y:$.key)||null,c(d,x,$,ne);case xe:return x=x.get($.key===null?y:$.key)||null,v(d,x,$,ne);case Re:var oe=$._init;return Q(x,d,y,oe($._payload),ne)}if(j($)||w($))return x=x.get(y)||null,L(d,x,$,ne,null);yl(d,$)}return null}function Z(x,d,y,$){for(var ne=null,oe=null,ae=d,fe=d=0,Je=null;ae!==null&&fe<y.length;fe++){ae.index>fe?(Je=ae,ae=null):Je=ae.sibling;var _e=F(x,ae,y[fe],$);if(_e===null){ae===null&&(ae=Je);break}e&&ae&&_e.alternate===null&&t(x,ae),d=s(_e,d,fe),oe===null?ne=_e:oe.sibling=_e,oe=_e,ae=Je}if(fe===y.length)return n(x,ae),De&&yn(x,fe),ne;if(ae===null){for(;fe<y.length;fe++)ae=R(x,y[fe],$),ae!==null&&(d=s(ae,d,fe),oe===null?ne=ae:oe.sibling=ae,oe=ae);return De&&yn(x,fe),ne}for(ae=r(x,ae);fe<y.length;fe++)Je=Q(ae,x,fe,y[fe],$),Je!==null&&(e&&Je.alternate!==null&&ae.delete(Je.key===null?fe:Je.key),d=s(Je,d,fe),oe===null?ne=Je:oe.sibling=Je,oe=Je);return e&&ae.forEach(function(fn){return t(x,fn)}),De&&yn(x,fe),ne}function ee(x,d,y,$){var ne=w(y);if(typeof ne!="function")throw Error(u(150));if(y=ne.call(y),y==null)throw Error(u(151));for(var oe=ne=null,ae=d,fe=d=0,Je=null,_e=y.next();ae!==null&&!_e.done;fe++,_e=y.next()){ae.index>fe?(Je=ae,ae=null):Je=ae.sibling;var fn=F(x,ae,_e.value,$);if(fn===null){ae===null&&(ae=Je);break}e&&ae&&fn.alternate===null&&t(x,ae),d=s(fn,d,fe),oe===null?ne=fn:oe.sibling=fn,oe=fn,ae=Je}if(_e.done)return n(x,ae),De&&yn(x,fe),ne;if(ae===null){for(;!_e.done;fe++,_e=y.next())_e=R(x,_e.value,$),_e!==null&&(d=s(_e,d,fe),oe===null?ne=_e:oe.sibling=_e,oe=_e);return De&&yn(x,fe),ne}for(ae=r(x,ae);!_e.done;fe++,_e=y.next())_e=Q(ae,x,fe,_e.value,$),_e!==null&&(e&&_e.alternate!==null&&ae.delete(_e.key===null?fe:_e.key),d=s(_e,d,fe),oe===null?ne=_e:oe.sibling=_e,oe=_e);return e&&ae.forEach(function(Jd){return t(x,Jd)}),De&&yn(x,fe),ne}function He(x,d,y,$){if(typeof y=="object"&&y!==null&&y.type===pe&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Fe:e:{for(var ne=y.key,oe=d;oe!==null;){if(oe.key===ne){if(ne=y.type,ne===pe){if(oe.tag===7){n(x,oe.sibling),d=l(oe,y.props.children),d.return=x,x=d;break e}}else if(oe.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Re&&fa(ne)===oe.type){n(x,oe.sibling),d=l(oe,y.props),d.ref=Er(x,oe,y),d.return=x,x=d;break e}n(x,oe);break}else t(x,oe);oe=oe.sibling}y.type===pe?(d=En(y.props.children,x.mode,$,y.key),d.return=x,x=d):($=Hl(y.type,y.key,y.props,null,x.mode,$),$.ref=Er(x,d,y),$.return=x,x=$)}return o(x);case xe:e:{for(oe=y.key;d!==null;){if(d.key===oe)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(x,d.sibling),d=l(d,y.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=Oi(y,x.mode,$),d.return=x,x=d}return o(x);case Re:return oe=y._init,He(x,d,oe(y._payload),$)}if(j(y))return Z(x,d,y,$);if(w(y))return ee(x,d,y,$);yl(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(x,d.sibling),d=l(d,y),d.return=x,x=d):(n(x,d),d=Ti(y,x.mode,$),d.return=x,x=d),o(x)):n(x,d)}return He}var Vn=pa(!0),ma=pa(!1),vl=en(null),wl=null,Wn=null,Ws=null;function Ks(){Ws=Wn=wl=null}function Qs(e){var t=vl.current;Oe(vl),e._currentValue=t}function Js(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){wl=e,Ws=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ct=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(wl===null)throw Error(u(308));Wn=e,wl.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var vn=null;function qs(e){vn===null?vn=[e]:vn.push(e)}function ha(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,qs(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(je&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ht(e,n)}return l=r.interleaved,l===null?(t.next=t,qs(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ht(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cs(e,n)}}function ga(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nl(e,t,n,r){var l=e.updateQueue;rn=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,v=c.next;c.next=null,o===null?s=v:o.next=v,o=c;var L=e.alternate;L!==null&&(L=L.updateQueue,a=L.lastBaseUpdate,a!==o&&(a===null?L.firstBaseUpdate=v:a.next=v,L.lastBaseUpdate=c))}if(s!==null){var R=l.baseState;o=0,L=v=c=null,a=s;do{var F=a.lane,Q=a.eventTime;if((r&F)===F){L!==null&&(L=L.next={eventTime:Q,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var Z=e,ee=a;switch(F=t,Q=n,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){R=Z.call(Q,R,F);break e}R=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,F=typeof Z=="function"?Z.call(Q,R,F):Z,F==null)break e;R=I({},R,F);break e;case 2:rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,F=l.effects,F===null?l.effects=[a]:F.push(a))}else Q={eventTime:Q,lane:F,tag:a.tag,payload:a.payload,callback:a.callback,next:null},L===null?(v=L=Q,c=R):L=L.next=Q,o|=F;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;F=a,a=F.next,F.next=null,l.lastBaseUpdate=F,l.shared.pending=null}}while(!0);if(L===null&&(c=R),l.baseState=c,l.firstBaseUpdate=v,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=R}}function ya(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(u(191,l));l.call(r)}}}var _r={},Tt=en(_r),Pr=en(_r),Ir=en(_r);function wn(e){if(e===_r)throw Error(u(174));return e}function Xs(e,t){switch(ze(Ir,t),ze(Pr,e),ze(Tt,_r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pn(t,e)}Oe(Tt),ze(Tt,t)}function Qn(){Oe(Tt),Oe(Pr),Oe(Ir)}function va(e){wn(Ir.current);var t=wn(Tt.current),n=pn(t,e.type);t!==n&&(ze(Pr,e),ze(Tt,n))}function Gs(e){Pr.current===e&&(Oe(Tt),Oe(Pr))}var Me=en(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zs=[];function ei(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var jl=Ne.ReactCurrentDispatcher,ti=Ne.ReactCurrentBatchConfig,kn=0,$e=null,Ve=null,Ke=null,Cl=!1,Fr=!1,Lr=0,xd=0;function tt(){throw Error(u(321))}function ni(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function ri(e,t,n,r,l,s){if(kn=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?wd:kd,e=n(r,l),Fr){s=0;do{if(Fr=!1,Lr=0,25<=s)throw Error(u(301));s+=1,Ke=Ve=null,t.updateQueue=null,jl.current=Nd,e=n(r,l)}while(Fr)}if(jl.current=Pl,t=Ve!==null&&Ve.next!==null,kn=0,Ke=Ve=$e=null,Cl=!1,t)throw Error(u(300));return e}function li(){var e=Lr!==0;return Lr=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?$e.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function kt(){if(Ve===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?$e.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(u(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?$e.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function zr(e,t){return typeof t=="function"?t(e):t}function si(e){var t=kt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=Ve,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=o=null,c=null,v=s;do{var L=v.lane;if((kn&L)===L)c!==null&&(c=c.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var R={lane:L,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};c===null?(a=c=R,o=r):c=c.next=R,$e.lanes|=L,Nn|=L}v=v.next}while(v!==null&&v!==s);c===null?o=r:c.next=a,Et(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,$e.lanes|=s,Nn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ii(e){var t=kt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);Et(s,t.memoizedState)||(ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wa(){}function ka(e,t){var n=$e,r=kt(),l=t(),s=!Et(r.memoizedState,l);if(s&&(r.memoizedState=l,ct=!0),r=r.queue,oi(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,br(9,Sa.bind(null,n,r,l,t),void 0,null),Qe===null)throw Error(u(349));(kn&30)!==0||Na(n,t,l)}return l}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ea(e)}function ja(e,t,n){return n(function(){Ca(t)&&Ea(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Ea(e){var t=Ht(e,1);t!==null&&Lt(t,e,1,-1)}function _a(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=vd.bind(null,$e,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Pa(){return kt().memoizedState}function El(e,t,n,r){var l=Ot();$e.flags|=e,l.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var l=kt();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var o=Ve.memoizedState;if(s=o.destroy,r!==null&&ni(r,o.deps)){l.memoizedState=br(t,n,s,r);return}}$e.flags|=e,l.memoizedState=br(1|t,n,s,r)}function Ia(e,t){return El(8390656,8,e,t)}function oi(e,t){return _l(2048,8,e,t)}function Fa(e,t){return _l(4,2,e,t)}function La(e,t){return _l(4,4,e,t)}function za(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ba(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,za.bind(null,t,e),n)}function ai(){}function Ra(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ni(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ni(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t,n){return(kn&21)===0?(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n):(Et(n,t)||(n=fo(),$e.lanes|=n,Nn|=n,e.baseState=!0),t)}function gd(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=ti.transition;ti.transition={};try{e(!1),t()}finally{Ie=n,ti.transition=r}}function Da(){return kt().memoizedState}function yd(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ma(e))$a(t,n);else if(n=ha(e,t,n,r),n!==null){var l=it();Lt(n,e,r,l),Ua(n,t,r)}}function vd(e,t,n){var r=un(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ma(e))$a(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(l.hasEagerState=!0,l.eagerState=a,Et(a,o)){var c=t.interleaved;c===null?(l.next=l,qs(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=ha(e,t,l,r),n!==null&&(l=it(),Lt(n,e,r,l),Ua(n,t,r))}}function Ma(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function $a(e,t){Fr=Cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ua(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cs(e,n)}}var Pl={readContext:wt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},wd={readContext:wt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yd.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:_a,useDebugValue:ai,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=gd.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,l=Ot();if(De){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Qe===null)throw Error(u(349));(kn&30)!==0||Na(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Ia(ja.bind(null,r,s,e),[e]),r.flags|=2048,br(9,Sa.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Qe.identifierPrefix;if(De){var n=At,r=Ut;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kd={readContext:wt,useCallback:Ra,useContext:wt,useEffect:oi,useImperativeHandle:ba,useInsertionEffect:Fa,useLayoutEffect:La,useMemo:Ta,useReducer:si,useRef:Pa,useState:function(){return si(zr)},useDebugValue:ai,useDeferredValue:function(e){var t=kt();return Oa(t,Ve.memoizedState,e)},useTransition:function(){var e=si(zr)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wa,useSyncExternalStore:ka,useId:Da,unstable_isNewReconciler:!1},Nd={readContext:wt,useCallback:Ra,useContext:wt,useEffect:oi,useImperativeHandle:ba,useInsertionEffect:Fa,useLayoutEffect:La,useMemo:Ta,useReducer:ii,useRef:Pa,useState:function(){return ii(zr)},useDebugValue:ai,useDeferredValue:function(e){var t=kt();return Ve===null?t.memoizedState=e:Oa(t,Ve.memoizedState,e)},useTransition:function(){var e=ii(zr)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wa,useSyncExternalStore:ka,useId:Da,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=I({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ui(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:I({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),l=un(e),s=Bt(r,l);s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,l),t!==null&&(Lt(t,e,l,r),kl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),l=un(e),s=Bt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,l),t!==null&&(Lt(t,e,l,r),kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=un(e),l=Bt(n,r);l.tag=2,t!=null&&(l.callback=t),t=ln(e,l,r),t!==null&&(Lt(t,e,r,n),kl(t,e,r))}};function Aa(e,t,n,r,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!vr(n,r)||!vr(l,s):!0}function Ha(e,t,n){var r=!1,l=tn,s=t.contextType;return typeof s=="object"&&s!==null?s=wt(s):(l=ut(t)?xn:et.current,r=t.contextTypes,s=(r=r!=null)?Un(e,l):tn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ba(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ys(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=wt(s):(s=ut(t)?xn:et.current,l.context=Un(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ui(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Il.enqueueReplaceState(l,l.state,null),Nl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var n="",r=t;do n+=k(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function di(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sd=typeof WeakMap=="function"?WeakMap:Map;function Va(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,_i=r),fi(e,t)},n}function Wa(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){fi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fi(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ka(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Dd.bind(null,e,t,n),t.then(e,e))}function Qa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ja(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var jd=Ne.ReactCurrentOwner,ct=!1;function st(e,t,n,r){t.child=e===null?ma(t,null,n,r):Vn(t,e.child,n,r)}function qa(e,t,n,r,l){n=n.render;var s=t.ref;return Kn(t,l),r=ri(e,t,n,r,s,l),n=li(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Vt(e,t,l)):(De&&n&&Us(t),t.flags|=1,st(e,t,r,l),t.child)}function Ya(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Ri(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Xa(e,t,s,r,l)):(e=Hl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&l)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(o,r)&&e.ref===t.ref)return Vt(e,t,l)}return t.flags|=1,e=dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Xa(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(vr(s,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=s,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Vt(e,t,l)}return pi(e,t,n,r,l)}function Ga(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Yn,gt),gt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Yn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Yn,gt),gt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ze(Yn,gt),gt|=r;return st(e,t,l,n),t.child}function Za(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pi(e,t,n,r,l){var s=ut(n)?xn:et.current;return s=Un(t,s),Kn(t,l),n=ri(e,t,n,r,s,l),r=li(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Vt(e,t,l)):(De&&r&&Us(t),t.flags|=1,st(e,t,n,l),t.child)}function eu(e,t,n,r,l){if(ut(n)){var s=!0;pl(t)}else s=!1;if(Kn(t,l),t.stateNode===null)Ll(e,t),Ha(t,n,r),ci(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,v=n.contextType;typeof v=="object"&&v!==null?v=wt(v):(v=ut(n)?xn:et.current,v=Un(t,v));var L=n.getDerivedStateFromProps,R=typeof L=="function"||typeof o.getSnapshotBeforeUpdate=="function";R||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==v)&&Ba(t,o,r,v),rn=!1;var F=t.memoizedState;o.state=F,Nl(t,r,o,l),c=t.memoizedState,a!==r||F!==c||at.current||rn?(typeof L=="function"&&(ui(t,n,L,r),c=t.memoizedState),(a=rn||Aa(t,n,a,r,F,c,v))?(R||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=v,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xa(e,t),a=t.memoizedProps,v=t.type===t.elementType?a:Pt(t.type,a),o.props=v,R=t.pendingProps,F=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=ut(n)?xn:et.current,c=Un(t,c));var Q=n.getDerivedStateFromProps;(L=typeof Q=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==R||F!==c)&&Ba(t,o,r,c),rn=!1,F=t.memoizedState,o.state=F,Nl(t,r,o,l);var Z=t.memoizedState;a!==R||F!==Z||at.current||rn?(typeof Q=="function"&&(ui(t,n,Q,r),Z=t.memoizedState),(v=rn||Aa(t,n,v,r,F,Z,c)||!1)?(L||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,Z,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,Z,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Z),o.props=r,o.state=Z,o.context=c,r=v):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),r=!1)}return mi(e,t,n,r,s,l)}function mi(e,t,n,r,l,s){Za(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&sa(t,n,!1),Vt(e,t,s);r=t.stateNode,jd.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vn(t,e.child,null,s),t.child=Vn(t,null,a,s)):st(e,t,a,s),t.memoizedState=r.state,l&&sa(t,n,!0),t.child}function tu(e){var t=e.stateNode;t.pendingContext?ra(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ra(e,t.context,!1),Xs(e,t.containerInfo)}function nu(e,t,n,r,l){return Bn(),Vs(l),t.flags|=256,st(e,t,n,r),t.child}var hi={dehydrated:null,treeContext:null,retryLane:0};function xi(e){return{baseLanes:e,cachePool:null,transitions:null}}function ru(e,t,n){var r=t.pendingProps,l=Me.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ze(Me,l&1),e===null)return Bs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bl(o,r,0,null),e=En(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xi(n),t.memoizedState=hi,e):gi(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Cd(e,t,o,r,a,l,n);if(s){s=r.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=dn(a,s):(s=En(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?xi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=hi,r}return s=e.child,e=s.sibling,r=dn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gi(e,t){return t=Bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,n,r){return r!==null&&Vs(r),Vn(t,e.child,null,n),e=gi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cd(e,t,n,r,l,s,o){if(n)return t.flags&256?(t.flags&=-257,r=di(Error(u(422))),Fl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Bl({mode:"visible",children:r.children},l,0,null),s=En(s,l,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Vn(t,e.child,null,o),t.child.memoizedState=xi(o),t.memoizedState=hi,s);if((t.mode&1)===0)return Fl(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(u(419)),r=di(s,r,void 0),Fl(e,t,o,r)}if(a=(o&e.childLanes)!==0,ct||a){if(r=Qe,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|o))!==0?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Ht(e,l),Lt(r,e,l,-1))}return bi(),r=di(Error(u(421))),Fl(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Md.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,xt=Zt(l.nextSibling),ht=t,De=!0,_t=null,e!==null&&(yt[vt++]=Ut,yt[vt++]=At,yt[vt++]=gn,Ut=e.id,At=e.overflow,gn=t),t=gi(t,r.children),t.flags|=4096,t)}function lu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Js(e.return,t,n)}function yi(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function su(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(st(e,t,r.children,n),r=Me.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lu(e,n,t);else if(e.tag===19)lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Me,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),yi(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Sl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}yi(t,!0,n,null,s);break;case"together":yi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ed(e,t,n){switch(t.tag){case 3:tu(t),Bn();break;case 5:va(t);break;case 1:ut(t.type)&&pl(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ze(vl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Me,Me.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ru(e,t,n):(ze(Me,Me.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);ze(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return su(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ze(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n)}return Vt(e,t,n)}var iu,vi,ou,au;iu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vi=function(){},ou=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,wn(Tt.current);var s=null;switch(n){case"input":l=Ee(e,l),r=Ee(e,r),s=[];break;case"select":l=I({},l,{value:void 0}),r=I({},r,{value:void 0}),s=[];break;case"textarea":l=se(e,l),r=se(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cl)}Zl(n,r);var o;n=null;for(v in l)if(!r.hasOwnProperty(v)&&l.hasOwnProperty(v)&&l[v]!=null)if(v==="style"){var a=l[v];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(O.hasOwnProperty(v)?s||(s=[]):(s=s||[]).push(v,null));for(v in r){var c=r[v];if(a=l?.[v],r.hasOwnProperty(v)&&c!==a&&(c!=null||a!=null))if(v==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(v,n)),n=c;else v==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(v,c)):v==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(v,""+c):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(O.hasOwnProperty(v)?(c!=null&&v==="onScroll"&&Te("scroll",e),s||a===c||(s=[])):(s=s||[]).push(v,c))}n&&(s=s||[]).push("style",n);var v=s;(t.updateQueue=v)&&(t.flags|=4)}},au=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _d(e,t,n){var r=t.pendingProps;switch(As(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ut(t.type)&&fl(),nt(t),null;case 3:return r=t.stateNode,Qn(),Oe(at),Oe(et),ei(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(Fi(_t),_t=null))),vi(e,t),nt(t),null;case 5:Gs(t);var l=wn(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)ou(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(u(166));return nt(t),null}if(e=wn(Tt.current),gl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rt]=t,r[jr]=s,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(l=0;l<kr.length;l++)Te(kr[l],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Ze(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":me(r,s),Te("invalid",r)}Zl(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ul(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ul(r.textContent,a,e),l=["children",""+a]):O.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":P(r),tr(r,s,!0);break;case"textarea":P(r),ot(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[jr]=r,iu(e,t,!1,!1),t.stateNode=e;e:{switch(o=es(n,r),n){case"dialog":Te("cancel",e),Te("close",e),l=r;break;case"iframe":case"object":case"embed":Te("load",e),l=r;break;case"video":case"audio":for(l=0;l<kr.length;l++)Te(kr[l],e);l=r;break;case"source":Te("error",e),l=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),l=r;break;case"details":Te("toggle",e),l=r;break;case"input":Ze(e,r),l=Ee(e,r),Te("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=I({},r,{value:void 0}),Te("invalid",e);break;case"textarea":me(e,r),l=se(e,r),Te("invalid",e);break;default:l=r}Zl(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Yi(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gl(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kt(e,c):typeof c=="number"&&Kt(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(O.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Te("scroll",e):c!=null&&ce(e,s,c,o))}switch(n){case"input":P(e),tr(e,r,!1);break;case"textarea":P(e),ot(e);break;case"option":r.value!=null&&e.setAttribute("value",""+M(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?B(e,!!r.multiple,s,!1):r.defaultValue!=null&&B(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)au(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(u(166));if(n=wn(Ir.current),wn(Tt.current),gl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(s=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:ul(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ul(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return nt(t),null;case 13:if(Oe(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&xt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)da(),Bn(),t.flags|=98560,s=!1;else if(s=gl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[Rt]=t}else Bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),s=!1}else _t!==null&&(Fi(_t),_t=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?We===0&&(We=3):bi())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Qn(),vi(e,t),e===null&&Nr(t.stateNode.containerInfo),nt(t),null;case 10:return Qs(t.type._context),nt(t),null;case 17:return ut(t.type)&&fl(),nt(t),null;case 19:if(Oe(Me),s=t.memoizedState,s===null)return nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Rr(s,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,Rr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Me,Me.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>Xn&&(t.flags|=128,r=!0,Rr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return nt(t),null}else 2*Ae()-s.renderingStartTime>Xn&&n!==1073741824&&(t.flags|=128,r=!0,Rr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,n=Me.current,ze(Me,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return zi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(gt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function Pd(e,t){switch(As(t),t.tag){case 1:return ut(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),Oe(at),Oe(et),ei(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Gs(t),null;case 13:if(Oe(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Me),null;case 4:return Qn(),null;case 10:return Qs(t.type._context),null;case 22:case 23:return zi(),null;case 24:return null;default:return null}}var zl=!1,rt=!1,Id=typeof WeakSet=="function"?WeakSet:Set,X=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function wi(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var uu=!1;function Fd(e,t){if(zs=Gr,e=Ao(),js(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,v=0,L=0,R=e,F=null;t:for(;;){for(var Q;R!==n||l!==0&&R.nodeType!==3||(a=o+l),R!==s||r!==0&&R.nodeType!==3||(c=o+r),R.nodeType===3&&(o+=R.nodeValue.length),(Q=R.firstChild)!==null;)F=R,R=Q;for(;;){if(R===e)break t;if(F===n&&++v===l&&(a=o),F===s&&++L===r&&(c=o),(Q=R.nextSibling)!==null)break;R=F,F=R.parentNode}R=Q}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bs={focusedElem:e,selectionRange:n},Gr=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,He=Z.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?ee:Pt(t.type,ee),He);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch($){Ue(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=uu,uu=!1,Z}function Tr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&wi(t,n,s)}l=l.next}while(l!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ki(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cu(e){var t=e.alternate;t!==null&&(e.alternate=null,cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[jr],delete t[Ds],delete t[fd],delete t[pd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function du(e){return e.tag===5||e.tag===3||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||du(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ni(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(r!==4&&(e=e.child,e!==null))for(Ni(e,t,n),e=e.sibling;e!==null;)Ni(e,t,n),e=e.sibling}function Si(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Si(e,t,n),e=e.sibling;e!==null;)Si(e,t,n),e=e.sibling}var Xe=null,It=!1;function sn(e,t,n){for(n=n.child;n!==null;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:rt||qn(n,t);case 6:var r=Xe,l=It;Xe=null,sn(e,t,n),Xe=r,It=l,Xe!==null&&(It?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(It?(e=Xe,n=n.stateNode,e.nodeType===8?Os(e.parentNode,n):e.nodeType===1&&Os(e,n),pr(e)):Os(Xe,n.stateNode));break;case 4:r=Xe,l=It,Xe=n.stateNode.containerInfo,It=!0,sn(e,t,n),Xe=r,It=l;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&wi(n,t,o),l=l.next}while(l!==r)}sn(e,t,n);break;case 1:if(!rt&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,t,a)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,sn(e,t,n),rt=r):sn(e,t,n);break;default:sn(e,t,n)}}function mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Id),t.forEach(function(r){var l=$d.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,It=!1;break e;case 3:Xe=a.stateNode.containerInfo,It=!0;break e;case 4:Xe=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Xe===null)throw Error(u(160));pu(s,o,l),Xe=null,It=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(v){Ue(l,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Dt(e),r&4){try{Tr(3,e,e.return),bl(3,e)}catch(ee){Ue(e,e.return,ee)}try{Tr(5,e,e.return)}catch(ee){Ue(e,e.return,ee)}}break;case 1:Ft(t,e),Dt(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(Ft(t,e),Dt(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var l=e.stateNode;try{Kt(l,"")}catch(ee){Ue(e,e.return,ee)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lt(l,s),es(a,o);var v=es(a,s);for(o=0;o<c.length;o+=2){var L=c[o],R=c[o+1];L==="style"?Yi(l,R):L==="dangerouslySetInnerHTML"?Gl(l,R):L==="children"?Kt(l,R):ce(l,L,R,v)}switch(a){case"input":zt(l,s);break;case"textarea":Ye(l,s);break;case"select":var F=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var Q=s.value;Q!=null?B(l,!!s.multiple,Q,!1):F!==!!s.multiple&&(s.defaultValue!=null?B(l,!!s.multiple,s.defaultValue,!0):B(l,!!s.multiple,s.multiple?[]:"",!1))}l[jr]=s}catch(ee){Ue(e,e.return,ee)}}break;case 6:if(Ft(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(ee){Ue(e,e.return,ee)}}break;case 3:if(Ft(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pr(t.containerInfo)}catch(ee){Ue(e,e.return,ee)}break;case 4:Ft(t,e),Dt(e);break;case 13:Ft(t,e),Dt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Ei=Ae())),r&4&&mu(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(v=rt)||L,Ft(t,e),rt=v):Ft(t,e),Dt(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!L&&(e.mode&1)!==0)for(X=e,L=e.child;L!==null;){for(R=X=L;X!==null;){switch(F=X,Q=F.child,F.tag){case 0:case 11:case 14:case 15:Tr(4,F,F.return);break;case 1:qn(F,F.return);var Z=F.stateNode;if(typeof Z.componentWillUnmount=="function"){r=F,n=F.return;try{t=r,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(ee){Ue(r,n,ee)}}break;case 5:qn(F,F.return);break;case 22:if(F.memoizedState!==null){yu(R);continue}}Q!==null?(Q.return=F,X=Q):yu(R)}L=L.sibling}e:for(L=null,R=e;;){if(R.tag===5){if(L===null){L=R;try{l=R.stateNode,v?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=R.stateNode,c=R.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qi("display",o))}catch(ee){Ue(e,e.return,ee)}}}else if(R.tag===6){if(L===null)try{R.stateNode.nodeValue=v?"":R.memoizedProps}catch(ee){Ue(e,e.return,ee)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===e)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===e)break e;for(;R.sibling===null;){if(R.return===null||R.return===e)break e;L===R&&(L=null),R=R.return}L===R&&(L=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:Ft(t,e),Dt(e),r&4&&mu(e);break;case 21:break;default:Ft(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(du(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Kt(l,""),r.flags&=-33);var s=fu(e);Si(e,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fu(e);Ni(e,a,o);break;default:throw Error(u(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ld(e,t,n){X=e,xu(e)}function xu(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var l=X,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||zl;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||rt;a=zl;var v=rt;if(zl=o,(rt=c)&&!v)for(X=l;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?vu(l):c!==null?(c.return=o,X=c):vu(l);for(;s!==null;)X=s,xu(s),s=s.sibling;X=l,zl=a,rt=v}gu(e)}else(l.subtreeFlags&8772)!==0&&s!==null?(s.return=l,X=s):gu(e)}}function gu(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ya(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ya(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var L=v.memoizedState;if(L!==null){var R=L.dehydrated;R!==null&&pr(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}rt||t.flags&512&&ki(t)}catch(F){Ue(t,t.return,F)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function yu(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function vu(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(c){Ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Ue(t,l,c)}}var s=t.return;try{ki(t)}catch(c){Ue(t,s,c)}break;case 5:var o=t.return;try{ki(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var zd=Math.ceil,Rl=Ne.ReactCurrentDispatcher,ji=Ne.ReactCurrentOwner,Nt=Ne.ReactCurrentBatchConfig,je=0,Qe=null,Be=null,Ge=0,gt=0,Yn=en(0),We=0,Or=null,Nn=0,Tl=0,Ci=0,Dr=null,dt=null,Ei=0,Xn=1/0,Wt=null,Ol=!1,_i=null,on=null,Dl=!1,an=null,Ml=0,Mr=0,Pi=null,$l=-1,Ul=0;function it(){return(je&6)!==0?Ae():$l!==-1?$l:$l=Ae()}function un(e){return(e.mode&1)===0?1:(je&2)!==0&&Ge!==0?Ge&-Ge:hd.transition!==null?(Ul===0&&(Ul=fo()),Ul):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:ko(e.type)),e)}function Lt(e,t,n,r){if(50<Mr)throw Mr=0,Pi=null,Error(u(185));ar(e,n,r),((je&2)===0||e!==Qe)&&(e===Qe&&((je&2)===0&&(Tl|=n),We===4&&cn(e,Ge)),ft(e,r),n===1&&je===0&&(t.mode&1)===0&&(Xn=Ae()+500,ml&&nn()))}function ft(e,t){var n=e.callbackNode;hc(e,t);var r=qr(e,e===Qe?Ge:0);if(r===0)n!==null&&ao(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ao(n),t===1)e.tag===0?md(ku.bind(null,e)):ia(ku.bind(null,e)),cd(function(){(je&6)===0&&nn()}),n=null;else{switch(po(r)){case 1:n=os;break;case 4:n=uo;break;case 16:n=Wr;break;case 536870912:n=co;break;default:n=Wr}n=Iu(n,wu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wu(e,t){if($l=-1,Ul=0,(je&6)!==0)throw Error(u(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var r=qr(e,e===Qe?Ge:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Al(e,r);else{t=r;var l=je;je|=2;var s=Su();(Qe!==e||Ge!==t)&&(Wt=null,Xn=Ae()+500,jn(e,t));do try{Td();break}catch(a){Nu(e,a)}while(!0);Ks(),Rl.current=s,je=l,Be!==null?t=0:(Qe=null,Ge=0,t=We)}if(t!==0){if(t===2&&(l=as(e),l!==0&&(r=l,t=Ii(e,l))),t===1)throw n=Or,jn(e,0),cn(e,r),ft(e,Ae()),n;if(t===6)cn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!bd(l)&&(t=Al(e,r),t===2&&(s=as(e),s!==0&&(r=s,t=Ii(e,s))),t===1))throw n=Or,jn(e,0),cn(e,r),ft(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:Cn(e,dt,Wt);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Ei+500-Ae(),10<t)){if(qr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ts(Cn.bind(null,e,dt,Wt),t);break}Cn(e,dt,Wt);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Ct(r);s=1<<o,o=t[o],o>l&&(l=o),r&=~s}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zd(r/1960))-r,10<r){e.timeoutHandle=Ts(Cn.bind(null,e,dt,Wt),r);break}Cn(e,dt,Wt);break;case 5:Cn(e,dt,Wt);break;default:throw Error(u(329))}}}return ft(e,Ae()),e.callbackNode===n?wu.bind(null,e):null}function Ii(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Al(e,t),e!==2&&(t=dt,dt=n,t!==null&&Fi(t)),e}function Fi(e){dt===null?dt=e:dt.push.apply(dt,e)}function bd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Et(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Ci,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if((je&6)!==0)throw Error(u(327));Gn();var t=qr(e,0);if((t&1)===0)return ft(e,Ae()),null;var n=Al(e,t);if(e.tag!==0&&n===2){var r=as(e);r!==0&&(t=r,n=Ii(e,r))}if(n===1)throw n=Or,jn(e,0),cn(e,t),ft(e,Ae()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,dt,Wt),ft(e,Ae()),null}function Li(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Xn=Ae()+500,ml&&nn())}}function Sn(e){an!==null&&an.tag===0&&(je&6)===0&&Gn();var t=je;je|=1;var n=Nt.transition,r=Ie;try{if(Nt.transition=null,Ie=1,e)return e()}finally{Ie=r,Nt.transition=n,je=t,(je&6)===0&&nn()}}function zi(){gt=Yn.current,Oe(Yn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ud(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(As(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:Qn(),Oe(at),Oe(et),ei();break;case 5:Gs(r);break;case 4:Qn();break;case 13:Oe(Me);break;case 19:Oe(Me);break;case 10:Qs(r.type._context);break;case 22:case 23:zi()}n=n.return}if(Qe=e,Be=e=dn(e.current,null),Ge=gt=t,We=0,Or=null,Ci=Tl=Nn=0,dt=Dr=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}vn=null}return e}function Nu(e,t){do{var n=Be;try{if(Ks(),jl.current=Pl,Cl){for(var r=$e.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Cl=!1}if(kn=0,Ke=Ve=$e=null,Fr=!1,Lr=0,ji.current=null,n===null||n.return===null){We=1,Or=t,Be=null;break}e:{var s=e,o=n.return,a=n,c=t;if(t=Ge,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var v=c,L=a,R=L.tag;if((L.mode&1)===0&&(R===0||R===11||R===15)){var F=L.alternate;F?(L.updateQueue=F.updateQueue,L.memoizedState=F.memoizedState,L.lanes=F.lanes):(L.updateQueue=null,L.memoizedState=null)}var Q=Qa(o);if(Q!==null){Q.flags&=-257,Ja(Q,o,a,s,t),Q.mode&1&&Ka(s,v,t),t=Q,c=v;var Z=t.updateQueue;if(Z===null){var ee=new Set;ee.add(c),t.updateQueue=ee}else Z.add(c);break e}else{if((t&1)===0){Ka(s,v,t),bi();break e}c=Error(u(426))}}else if(De&&a.mode&1){var He=Qa(o);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Ja(He,o,a,s,t),Vs(Jn(c,a));break e}}s=c=Jn(c,a),We!==4&&(We=2),Dr===null?Dr=[s]:Dr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Va(s,c,t);ga(s,x);break e;case 1:a=c;var d=s.type,y=s.stateNode;if((s.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(on===null||!on.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var $=Wa(s,a,t);ga(s,$);break e}}s=s.return}while(s!==null)}Cu(n)}catch(ne){t=ne,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Su(){var e=Rl.current;return Rl.current=Pl,e===null?Pl:e}function bi(){(We===0||We===3||We===2)&&(We=4),Qe===null||(Nn&268435455)===0&&(Tl&268435455)===0||cn(Qe,Ge)}function Al(e,t){var n=je;je|=2;var r=Su();(Qe!==e||Ge!==t)&&(Wt=null,jn(e,t));do try{Rd();break}catch(l){Nu(e,l)}while(!0);if(Ks(),je=n,Rl.current=r,Be!==null)throw Error(u(261));return Qe=null,Ge=0,We}function Rd(){for(;Be!==null;)ju(Be)}function Td(){for(;Be!==null&&!ic();)ju(Be)}function ju(e){var t=Pu(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Cu(e):Be=t,ji.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=_d(n,t,gt),n!==null){Be=n;return}}else{if(n=Pd(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function Cn(e,t,n){var r=Ie,l=Nt.transition;try{Nt.transition=null,Ie=1,Od(e,t,n,r)}finally{Nt.transition=l,Ie=r}return null}function Od(e,t,n,r){do Gn();while(an!==null);if((je&6)!==0)throw Error(u(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(xc(e,s),e===Qe&&(Be=Qe=null,Ge=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Dl||(Dl=!0,Iu(Wr,function(){return Gn(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Nt.transition,Nt.transition=null;var o=Ie;Ie=1;var a=je;je|=4,ji.current=null,Fd(e,n),hu(n,e),nd(bs),Gr=!!zs,bs=zs=null,e.current=n,Ld(n),oc(),je=a,Ie=o,Nt.transition=s}else e.current=n;if(Dl&&(Dl=!1,an=e,Ml=l),s=e.pendingLanes,s===0&&(on=null),cc(n.stateNode),ft(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ol)throw Ol=!1,e=_i,_i=null,e;return(Ml&1)!==0&&e.tag!==0&&Gn(),s=e.pendingLanes,(s&1)!==0?e===Pi?Mr++:(Mr=0,Pi=e):Mr=0,nn(),null}function Gn(){if(an!==null){var e=po(Ml),t=Nt.transition,n=Ie;try{if(Nt.transition=null,Ie=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,Ml=0,(je&6)!==0)throw Error(u(331));var l=je;for(je|=4,X=e.current;X!==null;){var s=X,o=s.child;if((X.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var v=a[c];for(X=v;X!==null;){var L=X;switch(L.tag){case 0:case 11:case 15:Tr(8,L,s)}var R=L.child;if(R!==null)R.return=L,X=R;else for(;X!==null;){L=X;var F=L.sibling,Q=L.return;if(cu(L),L===v){X=null;break}if(F!==null){F.return=Q,X=F;break}X=Q}}}var Z=s.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var He=ee.sibling;ee.sibling=null,ee=He}while(ee!==null)}}X=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Tr(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,X=x;break e}X=s.return}}var d=e.current;for(X=d;X!==null;){o=X;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,X=y;else e:for(o=d;X!==null;){if(a=X,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:bl(9,a)}}catch(ne){Ue(a,a.return,ne)}if(a===o){X=null;break e}var $=a.sibling;if($!==null){$.return=a.return,X=$;break e}X=a.return}}if(je=l,nn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Kr,e)}catch{}r=!0}return r}finally{Ie=n,Nt.transition=t}}return!1}function Eu(e,t,n){t=Jn(n,t),t=Va(e,t,1),e=ln(e,t,1),t=it(),e!==null&&(ar(e,1,t),ft(e,t))}function Ue(e,t,n){if(e.tag===3)Eu(e,e,n);else for(;t!==null;){if(t.tag===3){Eu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=Jn(n,e),e=Wa(t,e,1),t=ln(t,e,1),e=it(),t!==null&&(ar(t,1,e),ft(t,e));break}}t=t.return}}function Dd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(Ge&n)===n&&(We===4||We===3&&(Ge&130023424)===Ge&&500>Ae()-Ei?jn(e,0):Ci|=n),ft(e,t)}function _u(e,t){t===0&&((e.mode&1)===0?t=1:(t=Jr,Jr<<=1,(Jr&130023424)===0&&(Jr=4194304)));var n=it();e=Ht(e,t),e!==null&&(ar(e,t,n),ft(e,n))}function Md(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_u(e,n)}function $d(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}r!==null&&r.delete(t),_u(e,n)}var Pu;Pu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ct=!1,Ed(e,t,n);ct=(e.flags&131072)!==0}else ct=!1,De&&(t.flags&1048576)!==0&&oa(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ll(e,t),e=t.pendingProps;var l=Un(t,et.current);Kn(t,n),l=ri(null,t,r,e,l,n);var s=li();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(s=!0,pl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ys(t),l.updater=Il,t.stateNode=l,l._reactInternals=t,ci(t,r,e,n),t=mi(null,t,r,!0,s,n)):(t.tag=0,De&&s&&Us(t),st(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Ad(r),e=Pt(r,e),l){case 0:t=pi(null,t,r,e,n);break e;case 1:t=eu(null,t,r,e,n);break e;case 11:t=qa(null,t,r,e,n);break e;case 14:t=Ya(null,t,r,Pt(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),pi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),eu(e,t,r,l,n);case 3:e:{if(tu(t),e===null)throw Error(u(387));r=t.pendingProps,s=t.memoizedState,l=s.element,xa(e,t),Nl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Jn(Error(u(423)),t),t=nu(e,t,r,n,l);break e}else if(r!==l){l=Jn(Error(u(424)),t),t=nu(e,t,r,n,l);break e}else for(xt=Zt(t.stateNode.containerInfo.firstChild),ht=t,De=!0,_t=null,n=ma(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===l){t=Vt(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return va(t),e===null&&Bs(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,Rs(r,l)?o=null:s!==null&&Rs(r,s)&&(t.flags|=32),Za(e,t),st(e,t,o,n),t.child;case 6:return e===null&&Bs(t),null;case 13:return ru(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vn(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),qa(e,t,r,l,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,ze(vl,r._currentValue),r._currentValue=o,s!==null)if(Et(s.value,o)){if(s.children===l.children&&!at.current){t=Vt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Bt(-1,n&-n),c.tag=2;var v=s.updateQueue;if(v!==null){v=v.shared;var L=v.pending;L===null?c.next=c:(c.next=L.next,L.next=c),v.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Js(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(u(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Js(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Kn(t,n),l=wt(l),r=r(l),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,l=Pt(r,t.pendingProps),l=Pt(r.type,l),Ya(e,t,r,l,n);case 15:return Xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Ll(e,t),t.tag=1,ut(r)?(e=!0,pl(t)):e=!1,Kn(t,n),Ha(t,r,l),ci(t,r,l,n),mi(null,t,r,!0,e,n);case 19:return su(e,t,n);case 22:return Ga(e,t,n)}throw Error(u(156,t.tag))};function Iu(e,t){return oo(e,t)}function Ud(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new Ud(e,t,n,r)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ad(e){if(typeof e=="function")return Ri(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===be)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,l,s){var o=2;if(r=e,typeof e=="function")Ri(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pe:return En(n.children,l,s,t);case Se:o=8,l|=8;break;case Le:return e=St(12,n,t,l|2),e.elementType=Le,e.lanes=s,e;case ge:return e=St(13,n,t,l),e.elementType=ge,e.lanes=s,e;case Pe:return e=St(19,n,t,l),e.elementType=Pe,e.lanes=s,e;case we:return Bl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:o=10;break e;case de:o=9;break e;case ye:o=11;break e;case be:o=14;break e;case Re:o=16,r=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=St(o,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function En(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function Bl(e,t,n,r){return e=St(22,e,r,t),e.elementType=we,e.lanes=n,e.stateNode={isHidden:!1},e}function Ti(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Oi(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hd(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Di(e,t,n,r,l,s,o,a,c){return e=new Hd(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=St(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ys(s),e}function Bd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fu(e){if(!e)return tn;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(ut(n))return la(e,n,t)}return t}function Lu(e,t,n,r,l,s,o,a,c){return e=Di(n,r,!0,e,l,s,o,a,c),e.context=Fu(null),n=e.current,r=it(),l=un(n),s=Bt(r,l),s.callback=t??null,ln(n,s,l),e.current.lanes=l,ar(e,l,r),ft(e,r),e}function Vl(e,t,n,r){var l=t.current,s=it(),o=un(l);return n=Fu(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(l,t,o),e!==null&&(Lt(e,l,o,s),kl(e,l,o)),o}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mi(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function Vd(){return null}var bu=typeof reportError=="function"?reportError:function(e){console.error(e)};function $i(e){this._internalRoot=e}Kl.prototype.render=$i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));Vl(e,t,null,null)},Kl.prototype.unmount=$i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sn(function(){Vl(null,e,null,null)}),t[Mt]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&vo(e)}};function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function Wd(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var v=Wl(o);s.call(v)}}var o=Lu(t,r,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=o,e[Mt]=o.current,Nr(e.nodeType===8?e.parentNode:e),Sn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var v=Wl(c);a.call(v)}}var c=Di(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=c,e[Mt]=c.current,Nr(e.nodeType===8?e.parentNode:e),Sn(function(){Vl(t,c,n,r)}),c}function Jl(e,t,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var a=l;l=function(){var c=Wl(o);a.call(c)}}Vl(t,o,e,l)}else o=Wd(n,t,e,l,r);return Wl(o)}mo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=or(t.pendingLanes);n!==0&&(cs(t,n|1),ft(t,Ae()),(je&6)===0&&(Xn=Ae()+500,nn()))}break;case 13:Sn(function(){var r=Ht(e,1);if(r!==null){var l=it();Lt(r,e,1,l)}}),Mi(e,1)}},ds=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=it();Lt(t,e,134217728,n)}Mi(e,134217728)}},ho=function(e){if(e.tag===13){var t=un(e),n=Ht(e,t);if(n!==null){var r=it();Lt(n,e,t,r)}Mi(e,t)}},xo=function(){return Ie},go=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}},rs=function(e,t,n){switch(t){case"input":if(zt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=dl(r);if(!l)throw Error(u(90));le(r),zt(r,l)}}}break;case"textarea":Ye(e,n);break;case"select":t=n.value,t!=null&&B(e,!!n.multiple,t,!1)}},eo=Li,to=Sn;var Kd={usingClientEntryPoint:!1,Events:[Cr,Mn,dl,Gi,Zi,Li]},$r={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qd={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=so(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||Vd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Kr=ql.inject(Qd),bt=ql}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kd,pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ui(t))throw Error(u(200));return Bd(e,t,null,n)},pt.createRoot=function(e,t){if(!Ui(e))throw Error(u(299));var n=!1,r="",l=bu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Di(e,1,!1,null,null,n,!1,r,l),e[Mt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new $i(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=so(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Sn(e)},pt.hydrate=function(e,t,n){if(!Ql(t))throw Error(u(200));return Jl(null,e,t,!0,n)},pt.hydrateRoot=function(e,t,n){if(!Ui(e))throw Error(u(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=bu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lu(t,null,e,1,n??null,l,!1,s,o),e[Mt]=t.current,Nr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Kl(t)},pt.render=function(e,t,n){if(!Ql(t))throw Error(u(200));return Jl(null,e,t,!1,n)},pt.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(u(40));return e._reactRootContainer?(Sn(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},pt.unstable_batchedUpdates=Li,pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Jl(e,t,n,!1,r)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Hu;function nf(){if(Hu)return Bi.exports;Hu=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(N){console.error(N)}}return b(),Bi.exports=tf(),Bi.exports}var Bu;function rf(){if(Bu)return Yl;Bu=1;var b=nf();return Yl.createRoot=b.createRoot,Yl.hydrateRoot=b.hydrateRoot,Yl}var lf=rf(),q=Qi();const Ji=qd(q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=b=>b.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),of=b=>b.replace(/^([A-Z])|[\s-_]+(\w)/g,(N,u,E)=>E?E.toUpperCase():u.toLowerCase()),Vu=b=>{const N=of(b);return N.charAt(0).toUpperCase()+N.slice(1)},qu=(...b)=>b.filter((N,u,E)=>!!N&&N.trim()!==""&&E.indexOf(N)===u).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var af={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=q.forwardRef(({color:b="currentColor",size:N=24,strokeWidth:u=2,absoluteStrokeWidth:E,className:O="",children:D,iconNode:C,...f},S)=>q.createElement("svg",{ref:S,...af,width:N,height:N,stroke:b,strokeWidth:E?Number(u)*24/Number(N):u,className:qu("lucide",O),...f},[...C.map(([H,T])=>q.createElement(H,T)),...Array.isArray(D)?D:[D]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(b,N)=>{const u=q.forwardRef(({className:E,...O},D)=>q.createElement(uf,{ref:D,iconNode:N,className:qu(`lucide-${sf(Vu(b))}`,`lucide-${b}`,E),...O}));return u.displayName=Vu(b),u};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zn=qe("check",cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ar=qe("chevron-down",df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],er=qe("chevron-left",ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_n=qe("chevron-right",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],hf=qe("ellipsis-vertical",mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gf=qe("eye",xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],vf=qe("graduation-cap",yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kf=qe("house",wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Sf=qe("maximize-2",Nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Cf=qe("minimize-2",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_f=qe("pen",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ki=qe("plus",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Yu=qe("redo",If);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Lf=qe("rotate-ccw",Ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bf=qe("search",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tf=qe("settings",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Xu=qe("undo",Of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gu=qe("x",Df),Wu={f1:{id:"f1",name:"",expression:"F = ma",description:"",usedFormulas:[],derivableFormulas:["f2","f3"],symbols:[{symbol:"F",meaning:"",unit:"N"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"a",meaning:"",unit:"m/s"}],equivalentExpressions:["ma = F","F = ma"],usedInContexts:[{scenarioId:"s1",stepId:"step1"},{scenarioId:"s2",stepId:"step1"},{scenarioId:"s3",stepId:"step1"},{scenarioId:"s4",stepId:"step1"},{scenarioId:"s5",stepId:"step1"}]},f2:{id:"f2",name:"",expression:"a = F/m",description:"",usedFormulas:["f1"],derivableFormulas:[],symbols:[{symbol:"a",meaning:"",unit:"m/s"},{symbol:"F",meaning:"",unit:"N"},{symbol:"m",meaning:"",unit:"kg"}],usedInContexts:[{scenarioId:"s2",stepId:"step2"}]},f3:{id:"f3",name:"",expression:"m = F/a",description:"",usedFormulas:["f1"],derivableFormulas:[],symbols:[{symbol:"m",meaning:"",unit:"kg"},{symbol:"F",meaning:"",unit:"N"},{symbol:"a",meaning:"",unit:"m/s"}]},f4:{id:"f4",name:"",expression:"v = v + at",description:"",usedFormulas:[],derivableFormulas:["f5","f6"],symbols:[{symbol:"v",meaning:"",unit:"m/s"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"a",meaning:"",unit:"m/s"},{symbol:"t",meaning:"",unit:"s"}],equivalentExpressions:["v - v = at","at = v - v"],usedInContexts:[{scenarioId:"s1",stepId:"step2"},{scenarioId:"s2",stepId:"step3"},{scenarioId:"s3",stepId:"step2"},{scenarioId:"s6",stepId:"step1"}]},f5:{id:"f5",name:"",expression:"s = vt + at",description:"",usedFormulas:["f4"],derivableFormulas:[],symbols:[{symbol:"s",meaning:"",unit:"m"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"t",meaning:"",unit:"s"},{symbol:"a",meaning:"",unit:"m/s"}],usedInContexts:[{scenarioId:"s1",stepId:"step2"},{scenarioId:"s2",stepId:"step3"},{scenarioId:"s6",stepId:"step1"}]},f6:{id:"f6",name:"",expression:"v = v + 2as",description:"",usedFormulas:["f4","f5"],derivableFormulas:[],symbols:[{symbol:"v",meaning:"",unit:"m/s"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"a",meaning:"",unit:"m/s"},{symbol:"s",meaning:"",unit:"m"}],equivalentExpressions:["v - v = 2as"],usedInContexts:[{scenarioId:"s2",stepId:"step3"},{scenarioId:"s6",stepId:"step2"}]},f7:{id:"f7",name:"",expression:"K = mv",description:"",usedFormulas:[],derivableFormulas:["f8"],symbols:[{symbol:"K",meaning:"",unit:"J"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"v",meaning:"",unit:"m/s"}],usedInContexts:[{scenarioId:"s1",stepId:"step3"},{scenarioId:"s4",stepId:"step2"},{scenarioId:"s5",stepId:"step2"}]},f8:{id:"f8",name:"",expression:"W = K",description:"",usedFormulas:["f7"],derivableFormulas:[],symbols:[{symbol:"W",meaning:"",unit:"J"},{symbol:"K",meaning:"",unit:"J"}],equivalentExpressions:["W = K - K","K = W"],usedInContexts:[{scenarioId:"s4",stepId:"step2"}]},f9:{id:"f9",name:"",expression:"U = mgh",description:"h",usedFormulas:[],derivableFormulas:[],symbols:[{symbol:"U",meaning:"",unit:"J"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"g",meaning:"",unit:"m/s"},{symbol:"h",meaning:"",unit:"m"}],usedInContexts:[{scenarioId:"s1",stepId:"step3"}]},f10:{id:"f10",name:"",expression:"K + U = ",description:"",usedFormulas:["f7","f9"],derivableFormulas:[],symbols:[{symbol:"K",meaning:"",unit:"J"},{symbol:"U",meaning:"",unit:"J"}],equivalentExpressions:["E = K + U = ","K + U = K + U"],usedInContexts:[{scenarioId:"s1",stepId:"step3"},{scenarioId:"s5",stepId:"step2"}]}},Ku=[{id:"s1",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f4","f5"]},{id:"step3",name:"3",formulaIds:["f7","f9","f10"]}]},{id:"s2",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f2"]},{id:"step3",name:"3",formulaIds:["f4","f5","f6"]}]},{id:"s3",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f4"]}]},{id:"s4",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f7","f8"]}]},{id:"s5",name:"",icon:"~",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f7","f10"]}]},{id:"s6",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f4","f5"]},{id:"step2",name:"2",formulaIds:["f6"]}]}],Qu="mechanics_formulas",Ju="mechanics_scenarios",jt="uncategorized";class Mf{formulas;scenarios;listeners=new Set;constructor(){const N=localStorage.getItem(Qu),u=localStorage.getItem(Ju);this.formulas=N?JSON.parse(N):{...Wu},this.scenarios=u?JSON.parse(u):[...Ku],this.migrateOldDataFormat(),this.ensureUncategorizedScenario()}migrateOldDataFormat(){let N=!1;this.scenarios.forEach(u=>{u.steps.forEach(E=>{E.formulas&&!E.formulaIds?(N=!0,E.formulaIds=E.formulas.map(O=>O.id||O),delete E.formulas):E.formulaIds||(E.formulaIds=[])})}),N&&this.persist()}ensureUncategorizedScenario(){this.scenarios.some(u=>u.id===jt)||this.scenarios.unshift({id:jt,name:"",icon:"",steps:[{id:"uncategorized-step",name:"",formulaIds:[]}]})}getFormulas(){return this.formulas}getFormula(N){return this.formulas[N]}saveFormula(N){if(this.formulas[N.id]=N,this.scenarios.forEach(u=>{u.steps.forEach(E=>{E.formulaIds=E.formulaIds.filter(O=>O!==N.id)})}),N.usedInContexts&&N.usedInContexts.length>0)N.usedInContexts.forEach(u=>{const E=this.scenarios.find(O=>O.id===u.scenarioId);if(E){const O=E.steps.find(D=>D.id===u.stepId);O&&O.formulaIds.push(N.id)}});else{const u=this.scenarios.find(E=>E.id===jt);u&&u.steps[0]&&u.steps[0].formulaIds.push(N.id)}this.persist(),this.notifyListeners()}deleteFormula(N){delete this.formulas[N],this.scenarios.forEach(u=>{u.steps.forEach(E=>{E.formulaIds=E.formulaIds.filter(O=>O!==N)})}),this.persist(),this.notifyListeners()}getScenarios(){return this.scenarios}getRootScenarios(){return this.scenarios.filter(N=>!N.parentId)}getChildScenarios(N){return this.scenarios.filter(u=>u.parentId===N)}getScenario(N){return this.scenarios.find(u=>u.id===N)}saveScenario(N){const u=this.scenarios.findIndex(E=>E.id===N.id);u>=0?this.scenarios[u]=N:this.scenarios.push(N),this.persist(),this.notifyListeners()}addStep(N,u){const E=this.scenarios.find(O=>O.id===N);if(E){const O={id:`step-${Date.now()}`,name:u,formulaIds:[]};E.steps.push(O),this.persist(),this.notifyListeners()}}deleteStep(N,u){const E=this.scenarios.find(O=>O.id===N);if(E){const O=E.steps.find(D=>D.id===u);O&&O.formulaIds.forEach(D=>{const C=this.formulas[D];if(C&&C.usedInContexts&&(C.usedInContexts=C.usedInContexts.filter(f=>!(f.scenarioId===N&&f.stepId===u)),C.usedInContexts.length===0)){const f=this.scenarios.find(S=>S.id===jt);f&&f.steps[0]&&f.steps[0].formulaIds.push(D)}}),E.steps=E.steps.filter(D=>D.id!==u),this.persist(),this.notifyListeners()}}addFormulaToStep(N,u,E){const O=this.scenarios.find(H=>H.id===N);if(!O)return;const D=O.steps.find(H=>H.id===u);if(!D)return;const C=this.formulas[E];if(!C)return;D.formulaIds.includes(E)||D.formulaIds.push(E),C.usedInContexts||(C.usedInContexts=[]),C.usedInContexts.some(H=>H.scenarioId===N&&H.stepId===u)||C.usedInContexts.push({scenarioId:N,stepId:u});const S=this.scenarios.find(H=>H.id===jt);S&&S.steps[0]&&(S.steps[0].formulaIds=S.steps[0].formulaIds.filter(H=>H!==E)),this.persist(),this.notifyListeners()}removeFormulaFromStep(N,u,E){const O=this.scenarios.find(f=>f.id===N);if(!O)return;const D=O.steps.find(f=>f.id===u);if(!D)return;const C=this.formulas[E];if(C){if(D.formulaIds=D.formulaIds.filter(f=>f!==E),C.usedInContexts&&(C.usedInContexts=C.usedInContexts.filter(f=>!(f.scenarioId===N&&f.stepId===u)),C.usedInContexts.length===0)){const f=this.scenarios.find(S=>S.id===jt);f&&f.steps[0]&&(f.steps[0].formulaIds.includes(E)||f.steps[0].formulaIds.push(E))}this.persist(),this.notifyListeners()}}deleteScenario(N){if(N===jt)return;this.getChildScenarios(N).forEach(E=>this.deleteScenario(E.id)),this.scenarios=this.scenarios.filter(E=>E.id!==N),this.persist(),this.notifyListeners()}subscribe(N){return this.listeners.add(N),()=>{this.listeners.delete(N)}}notifyListeners(){this.listeners.forEach(N=>N())}persist(){localStorage.setItem(Qu,JSON.stringify(this.formulas)),localStorage.setItem(Ju,JSON.stringify(this.scenarios))}reset(){this.formulas={...Wu},this.scenarios=[...Ku],this.persist(),this.notifyListeners()}}const ve=new Mf;function Xl({currentPage:b,onNavigateHome:N,onNavigateLearning:u}){return i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-nav border-t border-border",children:i.jsxs("div",{className:"flex",children:[i.jsx("button",{onClick:N,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${b==="home"?"text-primary":"text-muted-foreground"}`,children:i.jsx(kf,{className:"w-6 h-6"})}),i.jsx("button",{onClick:u,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${b==="learning"?"text-primary":"text-muted-foreground"}`,children:i.jsx(vf,{className:"w-6 h-6"})})]})})}function Hr({root:b,fallback:N,className:u,maskBlocks:E=[],isMaskRevealed:O,onRevealMask:D}){const C=(S,H)=>i.jsx("span",{className:"inline-flex items-center gap-0.5 leading-none",children:S.children.map((T,G)=>i.jsx(Ji.Fragment,{children:f(T,[...H,G])},`${H.join("-")}-${G}`))}),f=(S,H)=>{const T=`formula-${H.join("-")}`,G=E.find(re=>re.id===T);if(G&&!(O?O(G.id):!0))return i.jsx("button",{type:"button",onClick:()=>D?.(G.id),className:"inline-block px-2 py-0.5 mx-0.5 rounded bg-muted/50 text-muted-foreground hover:bg-muted transition-colors",children:"?"});switch(S.type){case"symbol":return i.jsx("span",{className:"font-mono leading-none",children:S.value});case"fraction":return i.jsx("span",{className:"inline-block mx-1 align-middle",children:i.jsxs("span",{className:"flex flex-col items-center",style:{lineHeight:1},children:[i.jsx("span",{className:"border-b border-foreground/70 px-1",style:{paddingBottom:"0.18em"},children:C(S.numerator,[...H,"numerator"])}),i.jsx("span",{className:"px-1",style:{paddingTop:"0.18em"},children:C(S.denominator,[...H,"denominator"])})]})});case"superscript":return i.jsxs("span",{className:"inline-flex items-start",children:[C(S.base,[...H,"base"]),i.jsx("sup",{className:"text-xs ml-0.5 leading-none",children:C(S.exponent,[...H,"exponent"])})]});case"subscript":return i.jsxs("span",{className:"inline-flex items-center leading-none",children:[C(S.base,[...H,"base"]),i.jsx("sub",{className:"text-xs ml-0.5 leading-none",children:C(S.index,[...H,"index"])})]});case"sqrt":return i.jsx("span",{className:"inline-block mx-0.5 align-bottom leading-none",children:i.jsxs("span",{className:"inline-flex items-center leading-none",children:[i.jsx("span",{className:"mr-0.5 leading-none",children:""}),i.jsx("span",{className:"border-t border-foreground/70 px-0.5",style:{paddingTop:"0.10em"},children:C(S.content,[...H,"content"])})]})});case"abs":return i.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[i.jsx("span",{className:"mx-0.5",children:"|"}),C(S.content,[...H,"content"]),i.jsx("span",{className:"mx-0.5",children:"|"})]});case"function":return i.jsxs("span",{className:"inline-flex items-baseline mx-0.5",children:[i.jsx("span",{className:"font-mono",children:S.name}),i.jsx("span",{className:"mx-0.5",children:"("}),C(S.argument,[...H,"argument"]),i.jsx("span",{className:"mx-0.5",children:")"})]});case"sum":return i.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[i.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[i.jsx("span",{className:"text-base leading-none",children:""}),i.jsx("sub",{className:"text-[10px] leading-none",children:C(S.lower,[...H,"lower"])}),i.jsx("sup",{className:"text-[10px] leading-none",children:C(S.upper,[...H,"upper"])})]}),C(S.body,[...H,"body"])]});case"integral":return i.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[i.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[i.jsx("span",{className:"text-base leading-none",children:""}),i.jsx("sub",{className:"text-[10px] leading-none",children:C(S.lower,[...H,"lower"])}),i.jsx("sup",{className:"text-[10px] leading-none",children:C(S.upper,[...H,"upper"])})]}),C(S.body,[...H,"body"])]});default:return null}};return b?i.jsx("span",{className:u,children:C(b,[])}):N?i.jsx("span",{className:u,children:N}):null}function $f({onScenarioClick:b,onFormulaClick:N,onCreateFormula:u,onLearningClick:E}){const[O,D]=q.useState("scenario"),[C,f]=q.useState(""),[S,H]=q.useState(new Set([jt])),[T,G]=q.useState(null),[re,J]=q.useState(null),[ue,ie]=q.useState(null),[Y,Ce]=q.useState(""),W=q.useRef(null),ce=q.useRef(!1),Fe=(()=>{if(!C.trim())return[];const w=C.toLowerCase(),I=[],p=ve.getFormulas();return Object.values(p).forEach(m=>{(m.name.toLowerCase().includes(w)||m.expression.toLowerCase().includes(w))&&I.push({type:"formula",id:m.id,name:m.name,secondaryInfo:m.expression})}),O==="scenario"&&ve.getScenarios().forEach(z=>{z.name.toLowerCase().includes(w)&&I.push({type:"scenario",id:z.id,name:z.name}),z.steps.forEach(_=>{_.name.toLowerCase().includes(w)&&I.push({type:"step",id:_.id,name:_.name,secondaryInfo:z.name,scenarioId:z.id,stepId:_.id})})}),I})(),xe=C.trim().length>0,pe=w=>{w.type==="formula"?N(w.id):w.type==="scenario"?b(w.id):w.type==="step"&&w.scenarioId&&w.stepId&&b(w.scenarioId,w.stepId),f("")},Se=w=>{const I=new Set(S);I.has(w)?I.delete(w):I.add(w),H(I)},Le=(w,I,p)=>{ce.current=!1,W.current=setTimeout(()=>{ce.current=!0;const m=w.target.getBoundingClientRect();G({type:I,id:p,x:m.left+m.width/2,y:m.top+m.height/2})},500)},te=()=>{W.current&&(clearTimeout(W.current),W.current=null)},de=()=>{W.current&&(clearTimeout(W.current),W.current=null),T||(ce.current=!1)},ye=(w,I)=>{w.stopPropagation(),ce.current||I(),setTimeout(()=>{ce.current=!1},100)},ge=(w,I)=>{const p=w==="scenario"?ve.getScenario(I)?.name||"":ve.getFormula(I)?.name||"";J({type:w,id:I,name:p}),G(null)},Pe=()=>{if(re){if(re.type==="scenario"){const w=ve.getScenario(re.id);w&&ve.saveScenario({...w,name:re.name})}else{const w=ve.getFormula(re.id);w&&ve.saveFormula({...w,name:re.name})}J(null)}},be=(w,I)=>{const p=w==="scenario"?"":"";window.confirm(p)&&(w==="scenario"?ve.deleteScenario(I):ve.deleteFormula(I)),G(null)},Re=w=>{ie({parentId:w}),Ce(""),G(null)},we=()=>{if(!Y.trim())return;const w={id:`scenario-${Date.now()}`,name:Y.trim(),icon:"",parentId:ue?.parentId,steps:[{id:`step-${Date.now()}`,name:"",formulaIds:[]}]};ve.saveScenario(w),ie(null),Ce("")},U=(w,I=0)=>(w?ve.getChildScenarios(w):ve.getRootScenarios()).map(m=>{const z=S.has(m.id),_=ve.getChildScenarios(m.id).length>0;return m.id,i.jsxs("div",{children:[i.jsx("div",{className:"relative group",children:i.jsxs("button",{onTouchStart:k=>Le(k,"scenario",m.id),onTouchEnd:te,onTouchCancel:de,onMouseDown:k=>Le(k,"scenario",m.id),onMouseUp:te,onMouseLeave:de,onClick:k=>ye(k,()=>{_?Se(m.id):b(m.id)}),className:"w-full glass-card rounded-xl px-4 py-3 hover:shadow-md transition-all text-left flex items-center gap-3",style:{marginLeft:`${I*1.25}rem`},children:[_&&i.jsx("div",{className:"text-primary",children:z?i.jsx(Ar,{className:"w-5 h-5"}):i.jsx(_n,{className:"w-5 h-5"})}),i.jsx("div",{className:"flex-1 text-card-foreground",children:m.name})]})}),z&&_&&i.jsx("div",{className:"mt-2 space-y-2",children:U(m.id,I+1)})]},m.id)});return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsxs("header",{className:"bg-background px-4 pt-3 pb-2 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex gap-2 mb-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx("input",{type:"text",value:C,onChange:w=>f(w.target.value),placeholder:O==="scenario"?"...":"...",className:"w-full pl-10 pr-3 py-2.5 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"})]}),i.jsx("button",{onClick:u,className:"px-3 py-2.5 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity flex items-center gap-1",children:i.jsx(Ki,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex gap-1 p-1 glass-card rounded-xl",children:[i.jsx("button",{onClick:()=>D("scenario"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${O==="scenario"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""}),i.jsx("button",{onClick:()=>D("formula"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${O==="formula"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""})]}),xe&&i.jsx("div",{className:"absolute left-4 right-4 mt-2 glass-card rounded-xl shadow-lg max-h-80 overflow-y-auto z-50 border border-border",children:Fe.length===0?i.jsx("div",{className:"px-4 py-8 text-sm text-muted-foreground text-center",children:""}):Fe.map((w,I)=>i.jsx("button",{onClick:()=>pe(w),className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 transition-colors first:rounded-t-xl last:rounded-b-xl",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-md",children:[w.type==="formula"&&"",w.type==="scenario"&&"",w.type==="step"&&""]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm text-foreground",children:w.name}),w.secondaryInfo&&i.jsx("div",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:w.secondaryInfo})]})]})},`${w.type}-${w.id}-${I}`))})]}),i.jsx("main",{className:"flex-1 p-4 pb-20 overflow-y-auto space-y-2",children:O==="scenario"?i.jsxs(i.Fragment,{children:[U(),i.jsxs("button",{onClick:()=>Re(),className:"w-full glass-card rounded-2xl px-4 py-3 text-sm text-muted-foreground hover:shadow-md hover:text-primary transition-all flex items-center justify-center gap-2 border border-dashed border-primary/30",children:[i.jsx(Ki,{className:"w-4 h-4"}),i.jsx("span",{children:""})]})]}):Object.values(ve.getFormulas()).map(w=>i.jsx("div",{className:"relative group",children:i.jsxs("button",{onTouchStart:I=>Le(I,"formula",w.id),onTouchEnd:te,onTouchCancel:de,onMouseDown:I=>Le(I,"formula",w.id),onMouseUp:te,onMouseLeave:de,onClick:I=>ye(I,()=>N(w.id)),className:"w-full glass-card rounded-2xl px-4 py-3 hover:shadow-md transition-all text-left",children:[i.jsx("div",{className:"text-foreground mb-1",children:w.name}),i.jsx("div",{className:"text-sm text-muted-foreground font-mono",children:w.structureTree||w.structureData?i.jsx(Hr,{root:w.structureTree||w.structureData,fallback:w.structureTree||w.structureData?i.jsx(Hr,{root:w.structureTree||w.structureData,fallback:w.expression,maskBlocks:[],className:""}):w.expression,maskBlocks:[],className:""}):w.expression})]})},w.id))}),i.jsx(Xl,{currentPage:"home",onNavigateHome:()=>{},onNavigateLearning:E}),T&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>G(null)}),i.jsxs("div",{className:"fixed glass-card rounded-2xl shadow-2xl py-2 z-50 min-w-[160px]",style:{left:`${T.x}px`,top:`${T.y}px`,transform:"translate(-50%, -50%)"},children:[i.jsx("button",{onClick:()=>ge(T.type,T.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),T.type==="scenario"&&i.jsx("button",{onClick:()=>Re(T.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),T.id!==jt&&i.jsx("button",{onClick:()=>be(T.type,T.id),className:"w-full px-5 py-3 text-left text-sm text-destructive hover:bg-destructive/5 transition-colors",children:""})]})]}),re&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>J(null)}),i.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:i.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[i.jsx("h3",{className:"text-foreground mb-4",children:re.type==="scenario"?"":""}),i.jsx("input",{type:"text",value:re.name,onChange:w=>J({...re,name:w.target.value}),onKeyDown:w=>{w.key==="Enter"&&Pe(),w.key==="Escape"&&J(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>J(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),i.jsx("button",{onClick:Pe,className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity",children:""})]})]})})]}),ue&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>ie(null)}),i.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:i.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[i.jsx("h3",{className:"text-foreground mb-4",children:ue.parentId?"":""}),i.jsx("input",{type:"text",value:Y,onChange:w=>Ce(w.target.value),onKeyDown:w=>{w.key==="Enter"&&we(),w.key==="Escape"&&ie(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>ie(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),i.jsx("button",{onClick:we,disabled:!Y.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function Uf({scenarioId:b,targetStepId:N,onBack:u,onFormulaClick:E,onLearningClick:O}){const[D,C]=q.useState(()=>ve.getScenario(b)),[f,S]=q.useState(new Set),[H,T]=q.useState(!1),[G,re]=q.useState(""),[J,ue]=q.useState(null),[ie,Y]=q.useState(null),Ce=(te,de)=>{const be=window.innerWidth||0,Re=window.innerHeight||0;let we=de?de.right-220:be-220-12,U=de?de.bottom+8:12;we<12&&(we=12),we+220>be-12&&(we=Math.max(12,be-220-12)),U+110>Re-12&&de&&(U=de.top-110-8),U<12&&(U=12),Y({stepId:te,x:we,y:U})},W=()=>{Y(null)};if(q.useEffect(()=>{if(!ie)return;const te=de=>{de.key==="Escape"&&W()};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[ie]),q.useEffect(()=>ve.subscribe(()=>{C(ve.getScenario(b))}),[b]),!D)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsx("div",{className:"text-muted-foreground",children:""})});const ce=te=>{const de=new Set(f);de.has(te)?de.delete(te):de.add(te),S(de)},Ne=()=>{S(new Set(D.steps.map(te=>te.id)))},Fe=()=>{S(new Set)};q.useEffect(()=>{N&&S(new Set([N]))},[N]);const xe=()=>{G.trim()&&(ve.addStep(b,G),re(""),T(!1))},pe=te=>{confirm("")&&ve.deleteStep(b,te)},Se=(te,de)=>{ve.addFormulaToStep(b,te,de),ue(null)},Le=(te,de,ye)=>{ye.stopPropagation(),ve.removeFormulaFromStep(b,te,de)};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[ie&&i.jsx("div",{className:"fixed inset-0 z-50",onPointerDown:()=>W(),onContextMenu:te=>te.preventDefault(),children:i.jsxs("div",{className:"absolute bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md shadow-xl rounded-xl border border-border p-1 min-w-[200px]",style:{left:ie.x,top:ie.y},onPointerDown:te=>te.stopPropagation(),children:[i.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors",onClick:()=>{ue(ie.stepId),W()},children:" "}),i.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors text-red-600",onClick:()=>{pe(ie.stepId),W()},children:""})]})}),i.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[i.jsx("button",{onClick:u,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(er,{className:"w-5 h-5 text-foreground"})}),i.jsx("h1",{className:"flex-1 text-center text-foreground",children:D.name}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:Ne,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:i.jsx(Sf,{className:"w-5 h-5"})}),i.jsx("button",{onClick:Fe,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:i.jsx(Cf,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>T(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:i.jsx(Ki,{className:"w-5 h-5"})})]})]}),i.jsx("main",{className:"flex-1 p-4 pb-4 overflow-y-auto space-y-2",children:D.steps.map((te,de)=>{const ye=f.has(te.id);return i.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 flex items-center justify-between select-none",onContextMenu:ge=>{ge.preventDefault(),Ce(te.id,ge.currentTarget?.getBoundingClientRect?.())},children:[i.jsxs("button",{type:"button",onClick:()=>ce(te.id),className:"flex items-center gap-2 flex-1 text-left",children:[i.jsx(Ar,{className:`w-4 h-4 transition-transform ${ye?"rotate-180":""}`}),i.jsxs("span",{className:"font-medium text-foreground",children:["",de+1,": ",te.name]})]}),i.jsx("button",{type:"button","aria-label":"",onClick:ge=>{ge.stopPropagation(),Ce(te.id,ge.currentTarget.getBoundingClientRect())},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-xl transition-colors",children:i.jsx(hf,{className:"w-4 h-4"})})]}),ye&&i.jsxs("div",{className:"border-t border-border",children:[(te.formulaIds||[]).map(ge=>{const Pe=ve.getFormula(ge);return Pe?i.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[i.jsxs("button",{onClick:()=>E(Pe.id),className:"flex-1 text-left",children:[i.jsx("div",{className:"text-sm text-foreground mb-1",children:Pe.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:i.jsx(Hr,{root:Pe.structureTree||Pe.structureData,fallback:Pe.expression,className:"text-sm text-muted-foreground"})})]}),b!==jt&&i.jsx("button",{onClick:be=>Le(te.id,ge,be),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-colors",children:i.jsx(Gu,{className:"w-4 h-4"})})]},Pe.id):null}),b!==jt&&i.jsx("div",{className:"p-4",children:J===te.id?i.jsx("div",{className:"glass-card rounded-xl max-h-60 overflow-y-auto",children:Object.values(ve.getFormulas()).map(ge=>{const Pe=te.formulaIds.includes(ge.id);return i.jsxs("button",{onClick:()=>Se(te.id,ge.id),disabled:Pe,className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:[i.jsx("div",{className:"text-sm text-foreground",children:ge.name}),i.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:ge.expression})]},ge.id)})}):i.jsx("div",{className:"text-xs text-muted-foreground px-1",children:" / "})})]})]},te.id)})}),i.jsx(Xl,{currentPage:"home",onNavigateHome:u,onNavigateLearning:O}),H&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>T(!1)}),i.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:i.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[i.jsx("h2",{className:"text-foreground mb-4",children:""}),i.jsx("input",{type:"text",value:G,onChange:te=>re(te.target.value),onKeyDown:te=>{te.key==="Enter"&&xe(),te.key==="Escape"&&T(!1)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),i.jsx("button",{onClick:xe,disabled:!G.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function Af({formulaId:b,onBack:N,onEdit:u,onLearningClick:E,onFormulaClick:O,onContextClick:D}){const C=ve.getFormula(b),[f,S]=q.useState(!1),[H,T]=q.useState(!1),[G,re]=q.useState(!1);return C?i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[i.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[i.jsx("button",{onClick:N,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(er,{className:"w-5 h-5 text-foreground"})}),i.jsx("h1",{className:"flex-1 text-center text-foreground",children:C.name}),i.jsx("button",{onClick:u,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(_f,{className:"w-5 h-5"})})]}),i.jsxs("main",{className:"flex-1 p-4 pb-4 space-y-3 overflow-y-auto",children:[i.jsx("div",{className:"glass-card rounded-2xl p-5",children:i.jsx("div",{className:"text-2xl text-foreground text-center",children:i.jsx(Hr,{root:C.structureTree||C.structureData,fallback:C.expression,className:"",maskBlocks:[]})})}),C.usedInContexts&&C.usedInContexts.length>0&&i.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>T(!H),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[i.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),i.jsx("div",{className:"text-primary",children:H?i.jsx(Ar,{className:"w-5 h-5"}):i.jsx(_n,{className:"w-5 h-5"})})]}),H&&i.jsx("div",{className:"border-t border-border",children:C.usedInContexts.map((J,ue)=>{const Y=ve.getScenarios().find(W=>W.id===J.scenarioId),Ce=Y?.steps.find(W=>W.id===J.stepId);return i.jsxs("button",{onClick:()=>D(J.scenarioId,J.stepId),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[i.jsx("div",{className:"text-foreground text-sm",children:Y?.name}),i.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:Ce?.name})]},ue)})})]}),C.symbols&&C.symbols.length>0&&i.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>re(!G),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[i.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),i.jsx("div",{className:"text-primary",children:G?i.jsx(Ar,{className:"w-5 h-5"}):i.jsx(_n,{className:"w-5 h-5"})})]}),G&&i.jsx("div",{className:"border-t border-border",children:C.symbols.map((J,ue)=>i.jsxs("div",{className:"px-5 py-3 flex items-center gap-4 text-sm border-b border-border last:border-b-0",children:[i.jsx("div",{className:"font-mono text-foreground text-lg w-10 text-center",children:J.symbol}),i.jsx("div",{className:"flex-1 text-foreground",children:J.meaning}),J.unit&&i.jsx("div",{className:"text-muted-foreground text-xs",children:J.unit})]},ue))})]}),C.equivalentExpressions&&C.equivalentExpressions.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),i.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:C.equivalentExpressions.map((J,ue)=>i.jsx("div",{className:"px-5 py-3 text-sm font-mono text-foreground",children:J},ue))})]}),C.description&&i.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>S(!f),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[i.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),i.jsx("div",{className:"text-primary",children:f?i.jsx(Ar,{className:"w-5 h-5"}):i.jsx(_n,{className:"w-5 h-5"})})]}),f&&i.jsx("div",{className:"px-5 py-4 pt-2 text-sm text-foreground leading-relaxed border-t border-border",children:C.description})]}),C.usedFormulas.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),i.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:C.usedFormulas.map(J=>{const ue=ve.getFormula(J);return ue?i.jsxs("button",{onClick:()=>O(J),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[i.jsx("div",{className:"text-sm text-foreground mb-1",children:ue.name}),i.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:ue.expression})]},J):null})})]}),C.derivableFormulas.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),i.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:C.derivableFormulas.map(J=>{const ue=ve.getFormula(J);return ue?i.jsxs("button",{onClick:()=>O(J),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[i.jsx("div",{className:"text-sm text-foreground mb-1",children:ue.name}),i.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:ue.expression})]},J):null})})]})]}),i.jsx(Xl,{currentPage:"home",onNavigateHome:N,onNavigateLearning:E})]}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[i.jsx("button",{onClick:N,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(er,{className:"w-5 h-5 text-foreground"})}),i.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),i.jsx("div",{className:"w-9"})]}),i.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-muted-foreground mb-6",children:""}),i.jsx("button",{onClick:N,className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity",children:""})]})})]})}function Hf({selectedScenarioIds:b,onToggleScenario:N,contentTypes:u,onToggleContentType:E,stepCoverMode:O,onStepCoverModeChange:D,mode:C,ratio:f,isRandom:S,onModeChange:H,onRatioChange:T,onToggleRandom:G,onApply:re,onClose:J}){const ue=ve.getScenarios(),ie=b.length>0&&u.length>0;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:J}),i.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-full max-w-md bg-background shadow-2xl z-50 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-5 py-4 flex items-center justify-between",children:[i.jsx("h2",{className:"text-foreground",children:""}),i.jsx("button",{onClick:J,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted/10 rounded-xl transition-colors",children:i.jsx(Gu,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-5 space-y-6 pb-32",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),i.jsx("div",{className:"space-y-2",children:ue.map(Y=>i.jsxs("button",{onClick:()=>N(Y.id),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${b.includes(Y.id)?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${b.includes(Y.id)?"border-primary bg-primary":"border-muted-foreground"}`,children:b.includes(Y.id)&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:Y.name})]},Y.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>E("formula"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${u.includes("formula")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u.includes("formula")?"border-primary bg-primary":"border-muted-foreground"}`,children:u.includes("formula")&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:""})]}),i.jsxs("button",{onClick:()=>E("symbols"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${u.includes("symbols")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u.includes("symbols")?"border-primary bg-primary":"border-muted-foreground"}`,children:u.includes("symbols")&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:""})]}),i.jsxs("button",{onClick:()=>E("relations"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${u.includes("relations")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u.includes("relations")?"border-primary bg-primary":"border-muted-foreground"}`,children:u.includes("relations")&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:""})]}),i.jsxs("button",{onClick:()=>E("steps"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${u.includes("steps")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u.includes("steps")?"border-primary bg-primary":"border-muted-foreground"}`,children:u.includes("steps")&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:""})]})]})]}),u.length>0&&i.jsxs(i.Fragment,{children:[(u.includes("formula")||u.includes("symbols"))&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>H("left"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${C==="left"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),i.jsx("button",{onClick:()=>H("right"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${C==="right"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),i.jsx("button",{onClick:()=>H("whole"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${C==="whole"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),u.includes("steps")&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>D("title"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${O==="title"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),i.jsx("button",{onClick:()=>D("formulas"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${O==="formulas"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),i.jsx("button",{onClick:()=>D("random"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${O==="random"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[30,50,70,100].map(Y=>i.jsxs("button",{onClick:()=>T(Y),className:`py-2.5 rounded-xl text-sm transition-all ${f===Y?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:[Y,"%"]},Y))})]}),i.jsx("div",{children:i.jsxs("button",{onClick:G,className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${S?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${S?"border-primary bg-primary":"border-muted-foreground"}`,children:S&&i.jsx(Zn,{className:"w-3 h-3 text-primary-foreground"})}),i.jsx("span",{className:"flex-1 text-foreground",children:""})]})})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md ml-auto glass-nav px-5 py-4",children:i.jsx("button",{onClick:re,disabled:!ie,className:"w-full py-4 bg-primary text-primary-foreground rounded-2xl shadow-lg hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:ie?" / ":""})})]})]})}function Bf({onBack:b,onNavigateHome:N}){const[u,E]=q.useState(!1),[O,D]=q.useState([]),[C,f]=q.useState(["formula"]),[S,H]=q.useState("right"),[T,G]=q.useState(50),[re,J]=q.useState(!0),[ue,ie]=q.useState("random"),[Y,Ce]=q.useState(!1),[W,ce]=q.useState(new Set),[Ne,Fe]=q.useState(0),[xe,pe]=q.useState([]),Se=()=>{const m=new Set;O.forEach(_=>{const k=ve.getScenario(_);k&&k.steps.forEach(A=>{A.formulaIds.forEach(V=>m.add(V))})});const z=[];return m.forEach(_=>{const k=ve.getFormula(_);k&&z.push(k)}),z},Le=()=>{const m=[];return O.forEach(z=>{const _=ve.getScenario(z);_&&_.steps.forEach(k=>{m.push({scenarioId:z,scenarioName:_.name,stepId:k.id,stepName:k.name,formulaIds:k.formulaIds||[]})})}),m},te=m=>{if(ue==="title"?!0:ue==="formulas"?!1:Math.random()<.5)return[{id:`step-${m.stepId}-title`,content:{kind:"title"}}];const _=m.formulaIds||[];if(_.length===0)return[{id:`step-${m.stepId}-title`,content:{kind:"title"}}];const k=Math.max(1,Math.ceil(_.length*(T/100)));let A;return re?A=[...Array(_.length).keys()].sort(()=>Math.random()-.5).slice(0,k):A=[...Array(_.length).keys()].slice(0,k),A.map(V=>({id:`step-${m.stepId}-formula-${V}`,content:{kind:"formula",index:V}}))},de=(m,z=[])=>{const _=[],k=(A,V)=>{A.children.forEach((M,K)=>{const g=[...V,K];_.push(g),M.type==="fraction"?(k(M.numerator,[...g,"numerator"]),k(M.denominator,[...g,"denominator"])):M.type==="superscript"?(k(M.base,[...g,"base"]),k(M.exponent,[...g,"exponent"])):M.type==="subscript"?(k(M.base,[...g,"base"]),k(M.index,[...g,"index"])):M.type==="sqrt"||M.type==="abs"?k(M.content,[...g,"content"]):M.type==="sum"||M.type==="integral"?(k(M.lower,[...g,"lower"]),k(M.upper,[...g,"upper"]),k(M.body,[...g,"body"])):M.type==="function"&&k(M.argument,[...g,"argument"])})};return k(m,z),_},ye=m=>{for(let z=0;z<m.children.length;z++){const _=m.children[z];if(_.type==="symbol"&&_.value==="=")return z}return-1},ge=m=>{const z=de(m),_=ye(m);let k=[];S==="left"&&_>=0?k=z.filter(M=>{const K=M[0];return typeof K=="number"&&K<_}):S==="right"&&_>=0?k=z.filter(M=>{const K=M[0];return typeof K=="number"&&K>_}):k=z;const A=Math.ceil(k.length*(T/100));let V;return re?V=[...k].sort(()=>Math.random()-.5).slice(0,A):V=k.slice(0,A),V.map(M=>({id:`formula-${M.join("-")}`,content:M}))},Pe=m=>{const z=Math.ceil(m.length*(T/100));let _;return re?_=m.map((A,V)=>V).sort(()=>Math.random()-.5).slice(0,z):_=Array.from({length:z},(k,A)=>A),_.map(k=>({id:`symbol-${k}-${S}`,content:{index:k,mode:S}}))},be=m=>{const z=Math.ceil(m.length*(T/100));let _;return re?_=m.map((A,V)=>V).sort(()=>Math.random()-.5).slice(0,z):_=Array.from({length:z},(k,A)=>A),_.map(k=>({id:`relation-${k}`,content:k}))},Re=()=>{const m=Se(),z=Le(),_=[];if(m.forEach(A=>{if(C.includes("formula")&&(A.structureTree||A.structureData)){const V=A.structureTree||A.structureData,M=ge(V);_.push({type:"formula",formula:A,maskBlocks:M})}if(C.includes("symbols")&&A.symbols&&A.symbols.length>0){const V=Pe(A.symbols);_.push({type:"symbols",formula:A,maskBlocks:V})}if(C.includes("relations")){const V=[...A.usedFormulas||[],...A.derivableFormulas||[],...A.equivalentExpressions||[]];if(V.length>0){const M=be(V);_.push({type:"relations",formula:A,maskBlocks:M})}}}),C.includes("steps")&&z.forEach(A=>{const V=te({stepId:A.stepId,formulaIds:A.formulaIds});_.push({type:"steps",step:A,maskBlocks:V})}),_.length===0){alert("");return}const k=re?[..._].sort(()=>Math.random()-.5):_;pe(k),Fe(0),Ce(!0),ce(new Set),E(!1)},we=()=>{if(!Y||xe.length===0)return i.jsx("div",{className:"text-center py-16",children:i.jsxs("div",{className:"text-muted-foreground",children:["",i.jsx("br",{})," / "]})});const m=xe[Ne];if(m.type==="steps"&&m.step){const k=m.step,A=K=>{const g=new Set(W);g.add(K),ce(g)},V=`step-${k.stepId}-title`,M=m.maskBlocks.some(K=>K.id===V)&&!W.has(V);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:k.scenarioName}),M?i.jsx("button",{onClick:()=>A(V),className:"inline-block px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):i.jsx("div",{className:"text-xl text-foreground font-medium",children:k.stepName})]}),i.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),i.jsxs("div",{className:"space-y-2",children:[(k.formulaIds||[]).length===0&&i.jsx("div",{className:"text-sm text-muted-foreground",children:""}),(k.formulaIds||[]).map((K,g)=>{const P=ve.getFormula(K);if(!P)return null;const le=`step-${k.stepId}-formula-${g}`;return m.maskBlocks.some(Ee=>Ee.id===le)&&!W.has(le)?i.jsx("button",{onClick:()=>A(le),className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},K):i.jsx("div",{className:"font-mono text-foreground",children:P.expression},K)})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:""})]})}const z=m.formula,_=m.type==="formula"?z.structureTree||z.structureData:null;return i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:z.name||z.expression}),_&&i.jsx("div",{className:"text-3xl inline-block",children:i.jsx(Hr,{root:_,fallback:z.expression,className:"",maskBlocks:m.type==="formula"?m.maskBlocks:[],isMaskRevealed:k=>W.has(k),onRevealMask:k=>{ce(A=>new Set([...Array.from(A),k]))}})})]}),m.type==="symbols"&&i.jsx("div",{className:"space-y-3",children:z.symbols.map((k,A)=>{const V=m.maskBlocks.find(g=>g.content.index===A),M=V&&W.has(V.id),K=V?.content.mode;return i.jsxs("div",{className:"glass-card rounded-2xl p-4 flex items-center gap-4",children:[K==="left"&&V&&!M?i.jsx("button",{onClick:()=>{const g=new Set(W);g.add(V.id),ce(g)},className:"w-12 text-center px-2 py-0.5 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):i.jsx("div",{className:"text-2xl font-mono w-12 text-center",children:k.symbol}),(K==="right"||K==="whole")&&V&&!M?i.jsx("button",{onClick:()=>{const g=new Set(W);g.add(V.id),ce(g)},className:"flex-1 px-3 py-1 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-foreground",children:k.meaning}),k.unit&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[": ",k.unit]})]})]},A)})}),m.type==="relations"&&i.jsxs("div",{className:"space-y-3",children:[z.usedFormulas&&z.usedFormulas.length>0&&i.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),i.jsx("div",{className:"space-y-2",children:z.usedFormulas.map((k,A)=>{const V=ve.getFormula(k);if(!V)return null;const M=m.maskBlocks.find(g=>g.content===A),K=M&&W.has(M.id);return M&&!K?i.jsx("button",{onClick:()=>{const g=new Set(W);g.add(M.id),ce(g)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},k):i.jsx("div",{className:"font-mono text-foreground",children:V.expression},k)})})]}),z.derivableFormulas&&z.derivableFormulas.length>0&&i.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),i.jsx("div",{className:"space-y-2",children:z.derivableFormulas.map((k,A)=>{const V=ve.getFormula(k);if(!V)return null;const M=z.usedFormulas?.length||0,K=m.maskBlocks.find(P=>P.content===M+A),g=K&&W.has(K.id);return K&&!g?i.jsx("button",{onClick:()=>{const P=new Set(W);P.add(K.id),ce(P)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},k):i.jsx("div",{className:"font-mono text-foreground",children:V.expression},k)})})]})]})]})},U=()=>{Ne>0&&(Fe(Ne-1),ce(new Set))},w=()=>{Ne<xe.length-1&&(Fe(Ne+1),ce(new Set))},I=()=>{if(xe.length>0){const m=new Set(xe[Ne].maskBlocks.map(z=>z.id));ce(m)}},p=()=>{ce(new Set)};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[i.jsxs("header",{className:"px-5 py-4 flex items-center justify-between",children:[i.jsx("button",{onClick:()=>E(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(Tf,{className:"w-6 h-6"})}),i.jsx("div",{className:"text-sm text-muted-foreground",children:Y&&`${Ne+1} / ${xe.length}`}),i.jsx("div",{className:"w-10"})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center px-6 pb-24 overflow-y-auto",children:i.jsx("div",{className:"w-full max-w-2xl",children:we()})}),i.jsx("div",{className:"fixed bottom-20 left-0 right-0 px-6 pb-4 bg-gradient-to-t from-background via-background to-transparent pt-8",children:Y?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:I,className:"flex-1 py-3.5 bg-primary text-primary-foreground rounded-2xl shadow-md hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[i.jsx(gf,{className:"w-5 h-5"}),i.jsx("span",{children:""})]}),i.jsx("button",{onClick:p,className:"px-4 py-3.5 glass-card rounded-2xl shadow-md hover:shadow-lg transition-all",children:i.jsx(Lf,{className:"w-5 h-5 text-primary"})})]}),xe.length>1&&i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:U,disabled:Ne===0,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[i.jsx(er,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:""})]}),i.jsxs("button",{onClick:w,disabled:Ne>=xe.length-1,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx(_n,{className:"w-4 h-4"})]})]})]}):null}),i.jsx(Xl,{currentPage:"learning",onNavigateHome:N,onNavigateLearning:()=>{}}),u&&i.jsx(Hf,{selectedScenarioIds:O,onToggleScenario:m=>{O.includes(m)?D(O.filter(z=>z!==m)):D([...O,m])},contentTypes:C,onToggleContentType:m=>{C.includes(m)?f(C.filter(z=>z!==m)):f([...C,m])},mode:S,ratio:T,isRandom:re,stepCoverMode:ue,onStepCoverModeChange:ie,onModeChange:H,onRatioChange:G,onToggleRandom:()=>J(!re),onApply:Re,onClose:()=>E(!1)})]})}function Vf({formulaId:b,onNext:N,onCancel:u}){const E=b?ve.getFormula(b):null,O=E?.structureData?E.structureData:{children:E?.expression?[{type:"symbol",value:E.expression}]:[]},[D,C]=q.useState(O),[f,S]=q.useState({path:[],index:0}),[H,T]=q.useState(null),[G,re]=q.useState([{root:O,cursor:{path:[],index:0}}]),[J,ue]=q.useState(0),ie=q.useRef(null),Y=q.useRef(null),Ce=q.useRef(!1),[W,ce]=q.useState(0),[Ne,Fe]=q.useState(0),xe=q.useRef(null),pe=()=>{const h=Y.current;if(h)try{h.focus({preventScroll:!0})}catch{try{h.focus()}catch{}}},Se=()=>{const h=Y.current;h&&(h.value="")};q.useEffect(()=>{const h=window.visualViewport;if(!h)return;const j=()=>{const B=Math.max(0,window.innerHeight-h.height-h.offsetTop);ce(B)};return j(),h.addEventListener("resize",j),h.addEventListener("scroll",j),window.addEventListener("orientationchange",j),()=>{h.removeEventListener("resize",j),h.removeEventListener("scroll",j),window.removeEventListener("orientationchange",j)}},[]),q.useEffect(()=>{const h=xe.current;if(!h)return;const j=()=>Fe(h.getBoundingClientRect().height);j();const B=new ResizeObserver(j);return B.observe(h),()=>B.disconnect()},[]);const Le=(h,j)=>{const B=G.slice(0,J+1);B.push({root:JSON.parse(JSON.stringify(h)),cursor:{...j}}),re(B),ue(B.length-1)},te=()=>{if(J>0){const h=G[J-1];C(JSON.parse(JSON.stringify(h.root))),S({...h.cursor}),ue(J-1),T(null)}},de=()=>{if(J<G.length-1){const h=G[J+1];C(JSON.parse(JSON.stringify(h.root))),S({...h.cursor}),ue(J+1),T(null)}},ye=(h,j)=>{if(j.length===0)return"children"in h?h:null;const[B,...se]=j;if("children"in h){const me=h;if(typeof B=="number"&&me.children[B])return ye(me.children[B],se)}if(typeof B=="string"&&B in h){const me=h[B];if(me&&"children"in me)return ye(me,se)}return null},ge=h=>{const j=JSON.parse(JSON.stringify(D)),B=ye(j,f.path);if(!B)return;B.children.splice(f.index,0,{type:"symbol",value:h});const se={...f,index:f.index+1};C(j),S(se),Le(j,se),T(null)},Pe=h=>{let j;switch(h){case"fraction":j={type:"fraction",numerator:{children:[]},denominator:{children:[]}};break;case"superscript":j={type:"superscript",base:{children:[]},exponent:{children:[]}};break;case"subscript":j={type:"subscript",base:{children:[]},index:{children:[]}};break;case"sqrt":j={type:"sqrt",content:{children:[]}};break;case"sum":j={type:"sum",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"integral":j={type:"integral",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"abs":j={type:"abs",content:{children:[]}};break;default:return}const B=JSON.parse(JSON.stringify(D)),se=ye(B,f.path);if(se){se.children.splice(f.index,0,j);const me=Re(h),Ye=me?{path:[...f.path,f.index,me],index:0}:{...f,index:f.index+1};C(B),S(Ye),Le(B,Ye),T(null)}},be=h=>{const j={type:"function",name:h,argument:{children:[]}},B=JSON.parse(JSON.stringify(D)),se=ye(B,f.path);if(se){se.children.splice(f.index,0,j);const me={path:[...f.path,f.index,"argument"],index:0};C(B),S(me),Le(B,me),T(null)}},Re=h=>{switch(h){case"fraction":return"numerator";case"superscript":case"subscript":return"base";case"sqrt":case"abs":return"content";case"function":return"argument";case"sum":case"integral":return"lower";default:return null}},we=()=>{if(f.index===0&&f.path.length===0){T(null);return}const h=JSON.parse(JSON.stringify(D)),j=ye(h,f.path);if(j){if(f.index>0){const B=f.index-1,se=[...f.path,B],me=j.children[B],Ye=H&&JSON.stringify(H)===JSON.stringify(se);if(me.type==="symbol")if(me.value.length>1)me.value=me.value.slice(0,-1),C(h),Le(h,f),T(null);else{j.children.splice(B,1);const ot={...f,index:f.index-1};C(h),S(ot),Le(h,ot),T(null)}else if(Ye){j.children.splice(B,1);const ot={...f,index:f.index-1};C(h),S(ot),Le(h,ot),T(null)}else T(se)}else if(f.path.length>0){const B=ye(h,f.path);if(B&&B.children.length===0&&typeof f.path[f.path.length-1]=="string"){const me=f.path.slice(0,-1),Ye=me[me.length-1];if(typeof Ye=="number"){const ot=me.slice(0,-1),nr=me,pn=ye(h,ot);if(pn){const Pn=pn.children[Ye];if(U(Pn))if(H&&JSON.stringify(H)===JSON.stringify(nr)){pn.children.splice(Ye,1);const Kt={path:ot,index:Ye};C(h),S(Kt),Le(h,Kt),T(null)}else T(nr)}}}}}},U=h=>h.type==="symbol"?!1:w(h).every(B=>B.children.length===0),w=h=>{switch(h.type){case"fraction":return[h.numerator,h.denominator];case"superscript":return[h.base,h.exponent];case"subscript":return[h.base,h.index];case"sqrt":case"abs":return[h.content];case"function":return[h.argument];case"sum":case"integral":return[h.lower,h.upper,h.body];default:return[]}},I=()=>{if(f.path.length===0)return;const h=f.path[f.path.length-1];if(typeof h=="string"){const j=f.path.slice(0,-1),B=j[j.length-1];if(typeof B=="number"){const se=ye(D,j.slice(0,-1));if(se){const me=se.children[B],Ye=p(me,h);S(Ye?{path:[...j,Ye],index:0}:{path:j.slice(0,-1),index:B+1}),T(null)}}}},p=(h,j)=>{const se={fraction:["numerator","denominator"],superscript:["base","exponent"],subscript:["base","index"],sqrt:["content"],abs:["content"],function:["argument"],sum:["lower","upper","body"],integral:["lower","upper","body"]}[h.type];if(!se)return null;const me=se.indexOf(j);return me>=0&&me<se.length-1?se[me+1]:null},m=()=>{if(f.path.length===0||typeof f.path[f.path.length-1]!="string")return;const j=f.path.slice(0,-1),B=j[j.length-1];if(typeof B!="number")return;const se=j.slice(0,-1);S({path:se,index:B+1}),T(null),pe()},z=()=>{const h=ye(D,f.path);if(!h)return;const j=[];h.children[f.index]&&h.children[f.index].type!=="symbol"&&j.push({node:h.children[f.index],idx:f.index}),f.index>0&&h.children[f.index-1]&&h.children[f.index-1].type!=="symbol"&&j.push({node:h.children[f.index-1],idx:f.index-1});const B=j[0];if(!B)return;const se=_(B.node);se&&(S({path:[...f.path,B.idx,se],index:0}),T(null),pe())},_=h=>{switch(h.type){case"fraction":return"numerator";case"superscript":return"base";case"subscript":return"base";case"sqrt":case"abs":return"content";case"function":return"argument";case"sum":case"integral":return"lower";default:return null}},k=()=>{if(!ye(D,f.path))return;if(f.index>0){S({...f,index:f.index-1}),T(null),pe();return}if(f.path.length===0||typeof f.path[f.path.length-1]!="string")return;const B=f.path.slice(0,-1),se=B[B.length-1];if(typeof se!="number")return;const me=B.slice(0,-1);S({path:me,index:se}),T(null),pe()},A=()=>{const h=ye(D,f.path);if(!h)return;if(f.index<h.children.length){S({...f,index:f.index+1}),T(null),pe();return}if(f.path.length===0||typeof f.path[f.path.length-1]!="string")return;const B=f.path.slice(0,-1),se=B[B.length-1];if(typeof se!="number")return;const me=B.slice(0,-1);S({path:me,index:se+1}),T(null),pe()},V=h=>"children"in h&&!("type"in h)?h.children.map(j=>M(j)).join(" "):M(h),M=h=>{switch(h.type){case"symbol":return h.value;case"fraction":return`(${h.numerator.children.map(M).join(" ")})/(${h.denominator.children.map(M).join(" ")})`;case"superscript":return`${h.base.children.map(M).join(" ")}^${h.exponent.children.map(M).join(" ")}`;case"subscript":return`${h.base.children.map(M).join(" ")}_${h.index.children.map(M).join(" ")}`;case"sqrt":return`(${h.content.children.map(M).join(" ")})`;case"abs":return`|${h.content.children.map(M).join(" ")}|`;case"function":return`${h.name}(${h.argument.children.map(M).join(" ")})`;case"sum":return`[${h.lower.children.map(M).join(" ")}${h.upper.children.map(M).join(" ")}](${h.body.children.map(M).join(" ")})`;case"integral":return`[${h.lower.children.map(M).join(" ")}${h.upper.children.map(M).join(" ")}](${h.body.children.map(M).join(" ")})`;default:return""}},K=(h,j)=>{const B=JSON.stringify(f.path)===JSON.stringify(j);return i.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[h.children.length===0?i.jsx("span",{className:`inline-block w-4 h-5 border border-dashed ${B?"border-blue-400 bg-blue-50":"border-gray-300"} cursor-pointer`,onClick:se=>{se.stopPropagation(),S({path:j,index:0}),T(null),pe()}}):h.children.map((se,me)=>i.jsxs(Ji.Fragment,{children:[B&&f.index===me&&i.jsx("span",{className:"inline-block w-0.5 h-5 bg-blue-500 animate-pulse"}),g(se,[...j,me])]},me)),B&&f.index===h.children.length&&i.jsx("span",{className:"inline-block w-0.5 h-5 bg-blue-500 animate-pulse"})]})},g=(h,j)=>{const se=H&&JSON.stringify(H)===JSON.stringify(j)?"ring-2 ring-red-400 bg-red-50":"";switch(h.type){case"symbol":return i.jsx("span",{className:`inline-block px-0.5 cursor-pointer hover:bg-gray-100 ${se}`,onClick:me=>{me.stopPropagation();const Ye=j.slice(0,-1),ot=j[j.length-1];typeof ot=="number"&&(S({path:Ye,index:ot+1}),T(null),pe())},children:h.value});case"fraction":return i.jsxs("div",{className:`inline-flex flex-col items-center px-2 mx-1 ${se} rounded`,children:[i.jsx("div",{className:"border-b-2 border-gray-800 pb-1 min-w-[30px] text-center",children:K(h.numerator,[...j,"numerator"])}),i.jsx("div",{className:"pt-1 min-w-[30px] text-center",children:K(h.denominator,[...j,"denominator"])})]});case"superscript":return i.jsxs("div",{className:`inline-flex items-start mx-0.5 ${se} rounded`,children:[i.jsx("div",{className:"text-base",children:K(h.base,[...j,"base"])}),i.jsx("div",{className:"text-xs -mt-1 min-w-[20px]",children:K(h.exponent,[...j,"exponent"])})]});case"subscript":return i.jsxs("div",{className:`inline-flex items-end mx-0.5 ${se} rounded`,children:[i.jsx("div",{className:"text-base",children:K(h.base,[...j,"base"])}),i.jsx("div",{className:"text-xs -mb-1 min-w-[20px]",children:K(h.index,[...j,"index"])})]});case"sqrt":return i.jsxs("div",{className:`inline-flex items-center mx-1 ${se} rounded`,children:[i.jsx("span",{className:"text-2xl mr-0.5",children:""}),i.jsx("div",{className:"border-t-2 border-gray-800 pt-1 px-1 min-w-[30px]",children:K(h.content,[...j,"content"])})]});case"abs":return i.jsxs("div",{className:`inline-flex items-center mx-1 ${se} rounded`,children:[i.jsx("span",{className:"text-2xl mr-0.5",children:"|"}),i.jsx("div",{className:"px-1 min-w-[30px]",children:K(h.content,[...j,"content"])}),i.jsx("span",{className:"text-2xl ml-0.5",children:"|"})]});case"function":return i.jsxs("div",{className:`inline-flex items-center mx-0.5 ${se} rounded`,children:[i.jsx("span",{className:"text-base",children:h.name}),i.jsx("span",{className:"text-base",children:"("}),i.jsx("div",{className:"min-w-[30px]",children:K(h.argument,[...j,"argument"])}),i.jsx("span",{className:"text-base",children:")"})]});case"sum":return i.jsxs("div",{className:`inline-flex items-center gap-1 mx-1 ${se} rounded`,children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"text-xs mb-0.5 min-w-[20px] text-center",children:K(h.upper,[...j,"upper"])}),i.jsx("span",{className:"text-3xl",children:""}),i.jsx("div",{className:"text-xs mt-0.5 min-w-[20px] text-center",children:K(h.lower,[...j,"lower"])})]}),i.jsx("div",{children:K(h.body,[...j,"body"])})]});case"integral":return i.jsxs("div",{className:`inline-flex items-center gap-1 mx-1 ${se} rounded`,children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"text-xs mb-0.5 min-w-[20px] text-center",children:K(h.upper,[...j,"upper"])}),i.jsx("span",{className:"text-3xl",children:""}),i.jsx("div",{className:"text-xs mt-0.5 min-w-[20px] text-center",children:K(h.lower,[...j,"lower"])})]}),i.jsx("div",{children:K(h.body,[...j,"body"])})]});default:return i.jsx("span",{children:"?"})}};q.useEffect(()=>{const h=j=>{if((j.ctrlKey||j.metaKey)&&j.key==="z"&&!j.shiftKey){j.preventDefault(),te();return}if((j.ctrlKey||j.metaKey)&&(j.shiftKey&&j.key==="z"||j.key==="y")){j.preventDefault(),de();return}if(j.key.length===1&&!j.ctrlKey&&!j.metaKey&&!j.altKey){if(j.isComposing||Ce.current)return;j.preventDefault(),ge(j.key)}if(j.key==="Backspace"&&(j.preventDefault(),we()),j.key==="Tab"&&(j.preventDefault(),I()),j.key==="Escape"&&(j.preventDefault(),T(null)),j.key==="ArrowLeft"&&f.index>0&&(j.preventDefault(),S({...f,index:f.index-1}),T(null)),j.key==="ArrowRight"){j.preventDefault();const B=ye(D,f.path);B&&f.index<B.children.length&&(S({...f,index:f.index+1}),T(null))}};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[f,D,H,G,J]);const P=q.useRef(""),le=h=>{const j=h.nativeEvent,B=j?.inputType||"",se=j?.data;if(P.current=B,B==="deleteContentBackward"){h.preventDefault?.(),we(),Se();return}if(B==="insertLineBreak"){h.preventDefault?.(),ge(" "),Se();return}if(B==="insertFromComposition"){if(se){h.preventDefault?.();for(const me of Array.from(se))ge(me);Se()}return}if(B==="insertText"){if(se){h.preventDefault?.();for(const me of Array.from(se))ge(me);Se()}return}},he=h=>{const B=h.currentTarget.value;Ce.current||B&&Se()},Ee=()=>{const h=V(D);h.trim()&&N(h,D)},Ze=[{label:"",type:"fraction"},{label:"x",type:"superscript"},{label:"x",type:"subscript"},{label:"",type:"sqrt"},{label:"",type:"sum"},{label:"",type:"integral"},{label:"|x|",type:"abs"}],lt=[{label:"sin",name:"sin"},{label:"cos",name:"cos"},{label:"tan",name:"tan"},{label:"arcsin",name:"arcsin"},{label:"arccos",name:"arccos"},{label:"arctan",name:"arctan"},{label:"log",name:"log"},{label:"ln",name:"ln"},{label:"exp",name:"exp"}],zt=["=","+","","","","","(",")","[","]",",","."],tr=["","","","","","","","","",""];return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsx("textarea",{ref:Y,inputMode:"text",autoCorrect:"off",autoCapitalize:"none",spellCheck:!1,"aria-hidden":"true",tabIndex:-1,className:"sr-only",style:{position:"fixed",bottom:0,left:0,width:8,height:8,opacity:0,pointerEvents:"none"},onBeforeInput:le,onCompositionStart:()=>{Ce.current=!0},onCompositionEnd:()=>{Ce.current=!1},onInput:he}),i.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[i.jsx("button",{onClick:u,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:i.jsx(er,{className:"w-5 h-5 text-foreground"})}),i.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:te,disabled:J===0,className:"p-2 disabled:opacity-30 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:" (Ctrl+Z)",children:i.jsx(Xu,{className:"w-5 h-5"})}),i.jsx("button",{onClick:de,disabled:J===G.length-1,className:"p-2 disabled:opacity-30 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:" (Ctrl+Shift+Z)",children:i.jsx(Yu,{className:"w-5 h-5"})})]}),i.jsxs("button",{onClick:Ee,className:"flex items-center gap-1 px-4 py-2 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity",children:[i.jsx("span",{children:""}),i.jsx(_n,{className:"w-4 h-4"})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col",children:[i.jsx("div",{ref:ie,className:"flex-1 overflow-auto p-6",style:{paddingBottom:Ne+W+24},onClick:()=>{S({path:[],index:D.children.length}),T(null),pe()},onPointerDown:()=>{pe()},children:i.jsx("div",{className:"min-w-full min-h-full inline-block",children:i.jsx("div",{className:"text-3xl leading-relaxed",children:K(D,[])})})}),i.jsxs("div",{ref:xe,className:"border-t border-border bg-card/50 backdrop-blur-sm fixed left-0 right-0 z-50",style:{bottom:W,paddingBottom:"env(safe-area-inset-bottom)"},children:[i.jsx("div",{className:"px-3 py-3 overflow-x-auto",children:i.jsxs("div",{className:"flex gap-2 pb-1",children:[Ze.map(h=>i.jsx("button",{onClick:()=>{Pe(h.type),pe()},className:"flex-shrink-0 px-4 py-2.5 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-base",children:h.label},h.type)),i.jsx("div",{className:"w-px bg-border mx-1"}),lt.map(h=>i.jsx("button",{onClick:()=>{be(h.name),pe()},className:"flex-shrink-0 px-3 py-2.5 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-sm",children:h.label},h.name))]})}),i.jsx("div",{className:"px-3 pb-3 border-t border-border/50",children:i.jsxs("div",{className:"flex gap-3 pt-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>{m()},className:"w-16 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-sm",children:""}),i.jsx("button",{onClick:()=>{z()},className:"w-16 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-sm",children:""}),i.jsx("button",{onClick:()=>{k()},className:"w-16 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-base","aria-label":"",children:""}),i.jsx("button",{onClick:()=>{A()},className:"w-16 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors text-base","aria-label":"",children:""})]})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsx("div",{className:"flex gap-2 pb-2",children:zt.map(h=>i.jsx("button",{onClick:()=>{ge(h),pe()},className:"flex-shrink-0 w-10 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors flex items-center justify-center",children:h},h))})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("div",{className:"flex gap-2",children:tr.map(h=>i.jsx("button",{onClick:()=>{ge(h),pe()},className:"flex-shrink-0 w-10 h-10 rounded-xl bg-background/80 text-foreground hover:bg-primary/10 hover:text-primary transition-colors flex items-center justify-center",children:h},h))})})]})]})})]})]})]})}function Wf({formulaId:b,onNext:N,onCancel:u}){const E=b?ve.getFormula(b):null,O=E?.structureData?E.structureData:{children:E?.expression?[{type:"symbol",value:E.expression}]:[]},[D,C]=q.useState(O),[f,S]=q.useState({path:[],index:0}),[H,T]=q.useState(null),[G,re]=q.useState([{root:O,cursor:{path:[],index:0}}]),[J,ue]=q.useState(0);q.useRef(null);const ie=q.useRef(null),Y=q.useRef(!1),[Ce,W]=q.useState(0),[ce,Ne]=q.useState(0),Fe=q.useRef(null),xe=()=>{const g=ie.current;g&&g.focus()},pe=()=>{ie.current&&(ie.current.value="")};q.useEffect(()=>{const g=window.visualViewport;if(!g)return;const P=()=>{const le=Math.max(0,window.innerHeight-g.height-g.offsetTop);W(le)};return P(),g.addEventListener("resize",P),g.addEventListener("scroll",P),()=>{g.removeEventListener("resize",P),g.removeEventListener("scroll",P)}},[]),q.useEffect(()=>{const g=Fe.current;if(!g)return;const P=()=>Ne(g.getBoundingClientRect().height),le=new ResizeObserver(P);return le.observe(g),()=>le.disconnect()},[]);const Se=(g,P)=>{const le=G.slice(0,J+1);le.push({root:JSON.parse(JSON.stringify(g)),cursor:{...P}}),re(le),ue(le.length-1)},Le=()=>{if(J>0){const g=G[J-1];C(JSON.parse(JSON.stringify(g.root))),S({...g.cursor}),ue(J-1),T(null)}},te=()=>{if(J<G.length-1){const g=G[J+1];C(JSON.parse(JSON.stringify(g.root))),S({...g.cursor}),ue(J+1),T(null)}},de=(g,P)=>{if(P.length===0)return"children"in g?g:null;const[le,...he]=P;if("children"in g){const Ee=g;if(typeof le=="number"&&Ee.children[le])return de(Ee.children[le],he)}if(typeof le=="string"&&le in g){const Ee=g[le];if(Ee&&"children"in Ee)return de(Ee,he)}return null},ye=g=>{if(!g)return;const P=JSON.parse(JSON.stringify(D)),le=de(P,f.path);if(!le)return;le.children.splice(f.index,0,{type:"symbol",value:g});const he={...f,index:f.index+1};C(P),S(he),Se(P,he),T(null)},ge=g=>{let P;switch(g){case"fraction":P={type:"fraction",numerator:{children:[]},denominator:{children:[]}};break;case"superscript":P={type:"superscript",base:{children:[]},exponent:{children:[]}};break;case"subscript":P={type:"subscript",base:{children:[]},index:{children:[]}};break;case"sqrt":P={type:"sqrt",content:{children:[]}};break;case"sum":P={type:"sum",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"integral":P={type:"integral",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"abs":P={type:"abs",content:{children:[]}};break;default:return}const le=JSON.parse(JSON.stringify(D)),he=de(le,f.path);if(he){he.children.splice(f.index,0,P);const Ee=be(g),Ze=Ee?{path:[...f.path,f.index,Ee],index:0}:{...f,index:f.index+1};C(le),S(Ze),Se(le,Ze),T(null)}},Pe=g=>{const P={type:"function",name:g,argument:{children:[]}},le=JSON.parse(JSON.stringify(D)),he=de(le,f.path);if(he){he.children.splice(f.index,0,P);const Ee={path:[...f.path,f.index,"argument"],index:0};C(le),S(Ee),Se(le,Ee),T(null)}},be=g=>{switch(g){case"fraction":return"numerator";case"superscript":case"subscript":return"base";case"sqrt":case"abs":return"content";case"function":return"argument";case"sum":case"integral":return"lower";default:return null}},Re=()=>{if(f.index===0&&f.path.length===0){T(null);return}const g=JSON.parse(JSON.stringify(D)),P=de(g,f.path);if(P){if(f.index>0){const le=f.index-1,he=[...f.path,le],Ee=P.children[le],Ze=H&&JSON.stringify(H)===JSON.stringify(he);if(Ee.type==="symbol"){P.children.splice(le,1);const lt={...f,index:f.index-1};C(g),S(lt),Se(g,lt),T(null)}else if(Ze){P.children.splice(le,1);const lt={...f,index:f.index-1};C(g),S(lt),Se(g,lt),T(null)}else T(he)}else if(f.path.length>0&&typeof f.path[f.path.length-1]=="string"){const he=f.path.slice(0,-1),Ee=he[he.length-1];if(typeof Ee=="number"){const Ze=he.slice(0,-1),lt=de(g,Ze);if(lt){const zt=he;if(H&&JSON.stringify(H)===JSON.stringify(zt)){lt.children.splice(Ee,1);const h={path:Ze,index:Ee};C(g),S(h),Se(g,h),T(null)}else T(zt)}}}}},we=()=>{if(f.path.length===0)return;const g=f.path.slice(0,-1),P=g[g.length-1];typeof P=="number"&&(S({path:g.slice(0,-1),index:P+1}),T(null),xe())},U=()=>{const g=de(D,f.path);if(!g)return;const P=g.children[f.index]?f.index:f.index>0?f.index-1:-1;if(P===-1)return;const le=g.children[P];if(le.type==="symbol")return;const he=be(le.type);he&&(S({path:[...f.path,P,he],index:0}),T(null),xe())},w=()=>{if(f.index>0)S({...f,index:f.index-1});else if(f.path.length>0){const g=f.path.slice(0,-1),P=g[g.length-1];typeof P=="number"&&S({path:g.slice(0,-1),index:P})}T(null),xe()},I=()=>{const g=de(D,f.path);if(g&&f.index<g.children.length)S({...f,index:f.index+1});else if(f.path.length>0){const P=f.path.slice(0,-1),le=P[P.length-1];typeof le=="number"&&S({path:P.slice(0,-1),index:le+1})}T(null),xe()},p=g=>{if(Y.current)return;const P=g.target.value;if(P){for(const le of Array.from(P))ye(le);pe()}},m=g=>{Y.current=!1;const P=g.data;if(P)for(const le of Array.from(P))ye(le);setTimeout(pe,10)},z=g=>{Y.current||(g.key==="Backspace"?(g.preventDefault(),Re()):g.key==="ArrowLeft"?(g.preventDefault(),w()):g.key==="ArrowRight"&&(g.preventDefault(),I()))},_=g=>{if("children"in g&&!("type"in g))return g.children.map(le=>_(le)).join("");const P=g;switch(P.type){case"symbol":return P.value;case"fraction":return`(${_(P.numerator)})/(${_(P.denominator)})`;case"superscript":return`${_(P.base)}^{${_(P.exponent)}}`;case"subscript":return`${_(P.base)}_{${_(P.index)}}`;case"sqrt":return`(${_(P.content)})`;case"abs":return`|${_(P.content)}|`;case"function":return`${P.name}(${_(P.argument)})`;case"sum":return`[${_(P.lower)}${_(P.upper)}](${_(P.body)})`;case"integral":return`[${_(P.lower)}${_(P.upper)}](${_(P.body)})`;default:return""}},k=(g,P)=>{const le=JSON.stringify(f.path)===JSON.stringify(P);return i.jsxs("div",{className:"inline-flex items-center gap-0.5 min-h-[1.5em]",children:[g.children.length===0?i.jsx("span",{className:`inline-block w-4 h-6 border border-dashed ${le?"border-primary bg-primary/10":"border-muted-foreground/30"} rounded cursor-text`,onClick:he=>{he.stopPropagation(),S({path:P,index:0}),xe()}}):g.children.map((he,Ee)=>i.jsxs(Ji.Fragment,{children:[le&&f.index===Ee&&i.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"}),A(he,[...P,Ee])]},Ee)),le&&f.index===g.children.length&&i.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"})]})},A=(g,P)=>{const he=H&&JSON.stringify(H)===JSON.stringify(P)?"ring-2 ring-destructive bg-destructive/10":"",Ee=Ze=>{Ze.stopPropagation();const lt=P.slice(0,-1),zt=P[P.length-1];S({path:lt,index:zt+1}),T(null),xe()};switch(g.type){case"symbol":return i.jsx("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded ${he}`,onClick:Ee,children:g.value});case"fraction":return i.jsxs("div",{className:`inline-flex flex-col items-center px-1 mx-1 border border-transparent rounded ${he}`,children:[i.jsx("div",{className:"border-b border-foreground px-1",children:k(g.numerator,[...P,"numerator"])}),i.jsx("div",{className:"px-1",children:k(g.denominator,[...P,"denominator"])})]});case"superscript":return i.jsxs("div",{className:`inline-flex items-start mx-0.5 ${he}`,children:[i.jsx("span",{children:k(g.base,[...P,"base"])}),i.jsx("span",{className:"text-xs scale-75 origin-top-left -mt-1",children:k(g.exponent,[...P,"exponent"])})]});case"subscript":return i.jsxs("div",{className:`inline-flex items-end mx-0.5 ${he}`,children:[i.jsx("span",{children:k(g.base,[...P,"base"])}),i.jsx("span",{className:"text-xs scale-75 origin-bottom-left -mb-1",children:k(g.index,[...P,"index"])})]});case"sqrt":return i.jsxs("div",{className:`inline-flex items-center mx-1 border-t-2 border-foreground pt-0.5 ${he}`,children:[i.jsx("span",{className:"text-xl mr-0.5 -ml-1",children:""}),k(g.content,[...P,"content"])]});case"abs":return i.jsx("div",{className:`inline-flex items-center mx-1 px-1 border-x border-foreground ${he}`,children:k(g.content,[...P,"content"])});case"function":return i.jsxs("div",{className:`inline-flex items-center ${he}`,children:[g.name,"(",k(g.argument,[...P,"argument"]),")"]});case"sum":case"integral":const Ze=g.type==="sum"?"":"";return i.jsxs("div",{className:`inline-flex items-center gap-1 mx-1 ${he}`,children:[i.jsxs("div",{className:"flex flex-col items-center text-[10px]",children:[i.jsx("div",{children:k(g.upper,[...P,"upper"])}),i.jsx("span",{className:"text-2xl leading-none",children:Ze}),i.jsx("div",{children:k(g.lower,[...P,"lower"])})]}),k(g.body,[...P,"body"])]});default:return i.jsx("span",{children:"?"})}},V=["=","+","","","","","(",")","[","]","","","","","","","","","",""],M=[{label:"",type:"fraction"},{label:"x",type:"superscript"},{label:"x",type:"subscript"},{label:"",type:"sqrt"},{label:"",type:"sum"},{label:"",type:"integral"},{label:"|x|",type:"abs"}],K=["sin","cos","tan","log","ln","exp"];return i.jsxs("div",{className:"h-screen flex flex-col bg-background text-foreground overflow-hidden",children:[i.jsx("textarea",{ref:ie,className:"fixed opacity-0 pointer-events-none",onInput:p,onKeyDown:z,onCompositionStart:()=>Y.current=!0,onCompositionEnd:m,autoFocus:!0}),i.jsxs("header",{className:"h-14 flex items-center justify-between px-4 border-b shrink-0",children:[i.jsx("button",{onClick:u,className:"p-2",children:i.jsx(er,{})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:Le,disabled:J===0,className:"p-2 disabled:opacity-30",children:i.jsx(Xu,{})}),i.jsx("button",{onClick:te,disabled:J===G.length-1,className:"p-2 disabled:opacity-30",children:i.jsx(Yu,{})})]}),i.jsxs("button",{onClick:()=>N(_(D),D),className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-lg flex items-center gap-1",children:[" ",i.jsx(_n,{size:16})]})]}),i.jsx("main",{className:"flex-1 overflow-auto p-8 flex justify-center items-start",onClick:()=>xe(),style:{paddingBottom:ce+Ce+20},children:i.jsx("div",{className:"text-4xl",children:k(D,[])})}),i.jsxs("footer",{ref:Fe,className:"fixed bottom-0 left-0 w-full bg-card border-t safe-area-bottom shrink-0 z-50",style:{transform:`translateY(-${Ce}px)`},children:[i.jsxs("div",{className:"overflow-x-auto flex gap-2 p-2 border-b",children:[M.map(g=>i.jsx("button",{onClick:()=>ge(g.type),className:"shrink-0 px-4 py-2 bg-muted rounded-md",children:g.label},g.type)),K.map(g=>i.jsx("button",{onClick:()=>Pe(g),className:"shrink-0 px-4 py-2 bg-muted rounded-md",children:g},g))]}),i.jsxs("div",{className:"flex p-2 gap-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-1 shrink-0",children:[i.jsx("button",{onClick:w,className:"p-2 bg-muted rounded",children:""}),i.jsx("button",{onClick:I,className:"p-2 bg-muted rounded",children:""}),i.jsx("button",{onClick:U,className:"p-2 bg-muted rounded text-xs",children:""}),i.jsx("button",{onClick:we,className:"p-2 bg-muted rounded text-xs",children:""})]}),i.jsx("div",{className:"flex-1 overflow-x-auto flex gap-1 items-center",children:V.map(g=>i.jsx("button",{onClick:()=>ye(g),className:"shrink-0 w-10 h-10 bg-muted rounded flex items-center justify-center",children:g},g))})]})]})]})}function Kf(){const[b,N]=q.useState(0),[u,E]=q.useState({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null});q.useEffect(()=>ve.subscribe(()=>{N(ce=>ce+1)}),[]);const O=(W,ce)=>{E({...u,currentPage:"stepList",selectedScenario:W,targetStepId:ce||null,previousPage:u.currentPage,returnSource:"home-scenario"})},D=W=>{E({...u,currentPage:"formulaDetail",selectedFormula:W,previousPage:"stepList",returnSource:"stepList"})},C=W=>{E({...u,currentPage:"formulaDetail",selectedFormula:W,previousPage:"home",returnSource:"home-formula"})},f=(W,ce)=>{E({...u,currentPage:"stepList",selectedScenario:W,targetStepId:ce,previousPage:"formulaDetail",returnSource:"home-scenario"})},S=W=>{E({...u,currentPage:"formulaDetail",selectedFormula:W,previousPage:"formulaDetail"})},H=()=>{E({...u,currentPage:"learning",previousPage:u.currentPage})},T=()=>{E({...u,currentPage:"formulaStructureEdit",selectedFormula:null,previousPage:"home",editEntryState:{returnPage:"home",returnSource:"home-formula",selectedScenario:null,selectedFormula:null}})},G=()=>{E({...u,currentPage:"formulaStructureEdit",previousPage:"formulaDetail",editEntryState:{returnPage:"formulaDetail",returnSource:u.returnSource,selectedScenario:u.selectedScenario,selectedFormula:u.selectedFormula}})},re=(W,ce)=>{E({...u,currentPage:"formulaInfoEdit",tempFormula:{...u.tempFormula,expression:W,structureData:ce},previousPage:"formulaStructureEdit"})},J=()=>{E({...u,currentPage:"formulaStructureEdit",previousPage:"formulaInfoEdit"})},ue=()=>{if(confirm(""))if(u.editEntryState){const W=u.editEntryState;E({currentPage:W.returnPage,selectedScenario:W.selectedScenario,selectedFormula:W.selectedFormula,targetStepId:null,previousPage:null,tempFormula:null,returnSource:W.returnSource,editEntryState:null})}else Ce()},ie=W=>{const ce=u.selectedFormula||"f"+Date.now(),Ne=u.tempFormula?.expression||"",Fe=u.tempFormula?.structureData,xe={id:ce,name:W.name||` ${ce}`,expression:Ne,description:W.description,equivalentExpressions:W.equivalentExpressions,symbols:W.symbols.map(pe=>({symbol:pe.symbol,meaning:pe.meaning,unit:pe.unit||void 0})),usedInContexts:W.usedInContexts,usedFormulas:W.usedFormulas,derivableFormulas:W.derivableFormulas,structureData:Fe,structureTree:Fe};if(ve.saveFormula(xe),u.editEntryState){const pe=u.editEntryState,Se=u.selectedFormula||ce;E({currentPage:pe.returnPage,selectedFormula:Se,selectedScenario:pe.selectedScenario,targetStepId:null,previousPage:null,tempFormula:null,returnSource:pe.returnSource,editEntryState:null})}else Ce()},Y=()=>{u.currentPage==="formulaDetail"?u.returnSource==="stepList"?E({...u,currentPage:"stepList",selectedFormula:null,previousPage:null}):E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):u.currentPage==="stepList"?E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):u.previousPage&&E({...u,currentPage:u.previousPage,previousPage:null})},Ce=()=>{E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null})};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.currentPage==="home"&&i.jsx($f,{onScenarioClick:O,onFormulaClick:C,onCreateFormula:T,onLearningClick:H}),u.currentPage==="stepList"&&u.selectedScenario&&i.jsx(Uf,{scenarioId:u.selectedScenario,targetStepId:u.targetStepId,onBack:Y,onFormulaClick:D,onLearningClick:H}),u.currentPage==="formulaDetail"&&u.selectedFormula&&i.jsx(Af,{formulaId:u.selectedFormula,onBack:Y,onEdit:G,onLearningClick:H,onFormulaClick:S,onContextClick:f}),u.currentPage==="learning"&&i.jsx(Bf,{onBack:Y,onNavigateHome:Ce}),u.currentPage==="formulaStructureEdit"&&i.jsx(Vf,{formulaId:u.selectedFormula,onNext:re,onCancel:ue}),u.currentPage==="formulaInfoEdit"&&i.jsx(Wf,{formulaId:u.selectedFormula,expression:u.tempFormula?.expression||"",onSave:ie,onBack:J,onCancel:ue})]})}lf.createRoot(document.getElementById("root")).render(i.jsx(Kf,{}));
