(function(){const N=document.createElement("link").relList;if(N&&N.supports&&N.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))C(L);new MutationObserver(L=>{for(const H of L)if(H.type==="childList")for(const k of H.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&C(k)}).observe(document,{childList:!0,subtree:!0});function a(L){const H={};return L.integrity&&(H.integrity=L.integrity),L.referrerPolicy&&(H.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?H.credentials="include":L.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function C(L){if(L.ep)return;L.ep=!0;const H=a(L);fetch(L.href,H)}})();function Xd(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var qo={exports:{}},el={},Jo={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du;function Gd(){if(Du)return ke;Du=1;var j=Symbol.for("react.element"),N=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),k=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ee=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=ee&&d[ee]||d["@@iterator"],typeof d=="function"?d:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,G={};function Y(d,p,z){this.props=d,this.context=p,this.refs=G,this.updater=z||re}Y.prototype.isReactComponent={},Y.prototype.setState=function(d,p){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,p,"setState")},Y.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function xe(){}xe.prototype=Y.prototype;function X(d,p,z){this.props=d,this.context=p,this.refs=G,this.updater=z||re}var oe=X.prototype=new xe;oe.constructor=X,Q(oe,Y.prototype),oe.isPureReactComponent=!0;var we=Array.isArray,be=Object.prototype.hasOwnProperty,Se={current:null},Ce={key:!0,ref:!0,__self:!0,__source:!0};function Te(d,p,z){var R,E={},W=null,Z=null;if(p!=null)for(R in p.ref!==void 0&&(Z=p.ref),p.key!==void 0&&(W=""+p.key),p)be.call(p,R)&&!Ce.hasOwnProperty(R)&&(E[R]=p[R]);var K=arguments.length-2;if(K===1)E.children=z;else if(1<K){for(var ce=Array(K),me=0;me<K;me++)ce[me]=arguments[me+2];E.children=ce}if(d&&d.defaultProps)for(R in K=d.defaultProps,K)E[R]===void 0&&(E[R]=K[R]);return{$$typeof:j,type:d,key:W,ref:Z,props:E,_owner:Se.current}}function Re(d,p){return{$$typeof:j,type:d.type,key:p,ref:d.ref,props:d.props,_owner:d._owner}}function te(d){return typeof d=="object"&&d!==null&&d.$$typeof===j}function ve(d){var p={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(z){return p[z]})}var ye=/\/+/g;function Ne(d,p){return typeof d=="object"&&d!==null&&d.key!=null?ve(""+d.key):p.toString(36)}function I(d,p,z,R,E){var W=typeof d;(W==="undefined"||W==="boolean")&&(d=null);var Z=!1;if(d===null)Z=!0;else switch(W){case"string":case"number":Z=!0;break;case"object":switch(d.$$typeof){case j:case N:Z=!0}}if(Z)return Z=d,E=E(Z),d=R===""?"."+Ne(Z,0):R,we(E)?(z="",d!=null&&(z=d.replace(ye,"$&/")+"/"),I(E,p,z,"",function(me){return me})):E!=null&&(te(E)&&(E=Re(E,z+(!E.key||Z&&Z.key===E.key?"":(""+E.key).replace(ye,"$&/")+"/")+d)),p.push(E)),1;if(Z=0,R=R===""?".":R+":",we(d))for(var K=0;K<d.length;K++){W=d[K];var ce=R+Ne(W,K);Z+=I(W,p,z,ce,E)}else if(ce=U(d),typeof ce=="function")for(d=ce.call(d),K=0;!(W=d.next()).done;)W=W.value,ce=R+Ne(W,K++),Z+=I(W,p,z,ce,E);else if(W==="object")throw p=String(d),Error("Objects are not valid as a React child (found: "+(p==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.");return Z}function $(d,p,z){if(d==null)return d;var R=[],E=0;return I(d,R,"","",function(W){return p.call(z,W,E++)}),R}function se(d){if(d._status===-1){var p=d._result;p=p(),p.then(function(z){(d._status===0||d._status===-1)&&(d._status=1,d._result=z)},function(z){(d._status===0||d._status===-1)&&(d._status=2,d._result=z)}),d._status===-1&&(d._status=0,d._result=p)}if(d._status===1)return d._result.default;throw d._result}var J={current:null},_={transition:null},y={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:_,ReactCurrentOwner:Se};function b(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:$,forEach:function(d,p,z){$(d,function(){p.apply(this,arguments)},z)},count:function(d){var p=0;return $(d,function(){p++}),p},toArray:function(d){return $(d,function(p){return p})||[]},only:function(d){if(!te(d))throw Error("React.Children.only expected to receive a single React element child.");return d}},ke.Component=Y,ke.Fragment=a,ke.Profiler=L,ke.PureComponent=X,ke.StrictMode=C,ke.Suspense=P,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y,ke.act=b,ke.cloneElement=function(d,p,z){if(d==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+d+".");var R=Q({},d.props),E=d.key,W=d.ref,Z=d._owner;if(p!=null){if(p.ref!==void 0&&(W=p.ref,Z=Se.current),p.key!==void 0&&(E=""+p.key),d.type&&d.type.defaultProps)var K=d.type.defaultProps;for(ce in p)be.call(p,ce)&&!Ce.hasOwnProperty(ce)&&(R[ce]=p[ce]===void 0&&K!==void 0?K[ce]:p[ce])}var ce=arguments.length-2;if(ce===1)R.children=z;else if(1<ce){K=Array(ce);for(var me=0;me<ce;me++)K[me]=arguments[me+2];R.children=K}return{$$typeof:j,type:d.type,key:E,ref:W,props:R,_owner:Z}},ke.createContext=function(d){return d={$$typeof:k,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},d.Provider={$$typeof:H,_context:d},d.Consumer=d},ke.createElement=Te,ke.createFactory=function(d){var p=Te.bind(null,d);return p.type=d,p},ke.createRef=function(){return{current:null}},ke.forwardRef=function(d){return{$$typeof:V,render:d}},ke.isValidElement=te,ke.lazy=function(d){return{$$typeof:B,_payload:{_status:-1,_result:d},_init:se}},ke.memo=function(d,p){return{$$typeof:h,type:d,compare:p===void 0?null:p}},ke.startTransition=function(d){var p=_.transition;_.transition={};try{d()}finally{_.transition=p}},ke.unstable_act=b,ke.useCallback=function(d,p){return J.current.useCallback(d,p)},ke.useContext=function(d){return J.current.useContext(d)},ke.useDebugValue=function(){},ke.useDeferredValue=function(d){return J.current.useDeferredValue(d)},ke.useEffect=function(d,p){return J.current.useEffect(d,p)},ke.useId=function(){return J.current.useId()},ke.useImperativeHandle=function(d,p,z){return J.current.useImperativeHandle(d,p,z)},ke.useInsertionEffect=function(d,p){return J.current.useInsertionEffect(d,p)},ke.useLayoutEffect=function(d,p){return J.current.useLayoutEffect(d,p)},ke.useMemo=function(d,p){return J.current.useMemo(d,p)},ke.useReducer=function(d,p,z){return J.current.useReducer(d,p,z)},ke.useRef=function(d){return J.current.useRef(d)},ke.useState=function(d){return J.current.useState(d)},ke.useSyncExternalStore=function(d,p,z){return J.current.useSyncExternalStore(d,p,z)},ke.useTransition=function(){return J.current.useTransition()},ke.version="18.3.1",ke}var Ou;function Zo(){return Ou||(Ou=1,Jo.exports=Gd()),Jo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function Zd(){if(Uu)return el;Uu=1;var j=Zo(),N=Symbol.for("react.element"),a=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,L=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function k(V,P,h){var B,ee={},U=null,re=null;h!==void 0&&(U=""+h),P.key!==void 0&&(U=""+P.key),P.ref!==void 0&&(re=P.ref);for(B in P)C.call(P,B)&&!H.hasOwnProperty(B)&&(ee[B]=P[B]);if(V&&V.defaultProps)for(B in P=V.defaultProps,P)ee[B]===void 0&&(ee[B]=P[B]);return{$$typeof:N,type:V,key:U,ref:re,props:ee,_owner:L.current}}return el.Fragment=a,el.jsx=k,el.jsxs=k,el}var $u;function ef(){return $u||($u=1,qo.exports=Zd()),qo.exports}var o=ef(),as={},Yo={exports:{}},St={},Xo={exports:{}},Go={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au;function tf(){return Au||(Au=1,(function(j){function N(_,y){var b=_.length;_.push(y);e:for(;0<b;){var d=b-1>>>1,p=_[d];if(0<L(p,y))_[d]=y,_[b]=p,b=d;else break e}}function a(_){return _.length===0?null:_[0]}function C(_){if(_.length===0)return null;var y=_[0],b=_.pop();if(b!==y){_[0]=b;e:for(var d=0,p=_.length,z=p>>>1;d<z;){var R=2*(d+1)-1,E=_[R],W=R+1,Z=_[W];if(0>L(E,b))W<p&&0>L(Z,E)?(_[d]=Z,_[W]=b,d=W):(_[d]=E,_[R]=b,d=R);else if(W<p&&0>L(Z,b))_[d]=Z,_[W]=b,d=W;else break e}}return y}function L(_,y){var b=_.sortIndex-y.sortIndex;return b!==0?b:_.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var H=performance;j.unstable_now=function(){return H.now()}}else{var k=Date,V=k.now();j.unstable_now=function(){return k.now()-V}}var P=[],h=[],B=1,ee=null,U=3,re=!1,Q=!1,G=!1,Y=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(_){for(var y=a(h);y!==null;){if(y.callback===null)C(h);else if(y.startTime<=_)C(h),y.sortIndex=y.expirationTime,N(P,y);else break;y=a(h)}}function we(_){if(G=!1,oe(_),!Q)if(a(P)!==null)Q=!0,se(be);else{var y=a(h);y!==null&&J(we,y.startTime-_)}}function be(_,y){Q=!1,G&&(G=!1,xe(Te),Te=-1),re=!0;var b=U;try{for(oe(y),ee=a(P);ee!==null&&(!(ee.expirationTime>y)||_&&!ve());){var d=ee.callback;if(typeof d=="function"){ee.callback=null,U=ee.priorityLevel;var p=d(ee.expirationTime<=y);y=j.unstable_now(),typeof p=="function"?ee.callback=p:ee===a(P)&&C(P),oe(y)}else C(P);ee=a(P)}if(ee!==null)var z=!0;else{var R=a(h);R!==null&&J(we,R.startTime-y),z=!1}return z}finally{ee=null,U=b,re=!1}}var Se=!1,Ce=null,Te=-1,Re=5,te=-1;function ve(){return!(j.unstable_now()-te<Re)}function ye(){if(Ce!==null){var _=j.unstable_now();te=_;var y=!0;try{y=Ce(!0,_)}finally{y?Ne():(Se=!1,Ce=null)}}else Se=!1}var Ne;if(typeof X=="function")Ne=function(){X(ye)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=ye,Ne=function(){$.postMessage(null)}}else Ne=function(){Y(ye,0)};function se(_){Ce=_,Se||(Se=!0,Ne())}function J(_,y){Te=Y(function(){_(j.unstable_now())},y)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function(_){_.callback=null},j.unstable_continueExecution=function(){Q||re||(Q=!0,se(be))},j.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<_?Math.floor(1e3/_):5},j.unstable_getCurrentPriorityLevel=function(){return U},j.unstable_getFirstCallbackNode=function(){return a(P)},j.unstable_next=function(_){switch(U){case 1:case 2:case 3:var y=3;break;default:y=U}var b=U;U=y;try{return _()}finally{U=b}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function(_,y){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var b=U;U=_;try{return y()}finally{U=b}},j.unstable_scheduleCallback=function(_,y,b){var d=j.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?d+b:d):b=d,_){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=b+p,_={id:B++,callback:y,priorityLevel:_,startTime:b,expirationTime:p,sortIndex:-1},b>d?(_.sortIndex=b,N(h,_),a(P)===null&&_===a(h)&&(G?(xe(Te),Te=-1):G=!0,J(we,b-d))):(_.sortIndex=p,N(P,_),Q||re||(Q=!0,se(be))),_},j.unstable_shouldYield=ve,j.unstable_wrapCallback=function(_){var y=U;return function(){var b=U;U=y;try{return _.apply(this,arguments)}finally{U=b}}}})(Go)),Go}var Bu;function nf(){return Bu||(Bu=1,Xo.exports=tf()),Xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function rf(){if(Hu)return St;Hu=1;var j=Zo(),N=nf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C=new Set,L={};function H(e,t){k(e,t),k(e+"Capture",t)}function k(e,t){for(L[e]=t,e=0;e<t.length;e++)C.add(t[e])}var V=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B={},ee={};function U(e){return P.call(ee,e)?!0:P.call(B,e)?!1:h.test(e)?ee[e]=!0:(B[e]=!0,!1)}function re(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q(e,t,n,r){if(t===null||typeof t>"u"||re(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function G(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new G(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new G(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new G(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new G(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new G(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1,!1)});var xe=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xe,X);Y[t]=new G(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xe,X);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xe,X);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0,!0)});function oe(e,t,n,r){var l=Y.hasOwnProperty(t)?Y[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q(t,n,l,r)&&(n=null),r||l===null?U(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var we=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Se=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),_=Symbol.iterator;function y(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var b=Object.assign,d;function p(e){if(d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);d=t&&t[1]||""}return`
`+d+e}var z=!1;function R(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,u=s.length-1;1<=i&&0<=u&&l[i]!==s[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==s[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==s[u]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=u);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?p(e):""}function E(e){switch(e.tag){case 5:return p(e.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1),e;case 11:return e=R(e.type.render,!1),e;case 1:return e=R(e.type,!0),e;default:return""}}function W(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ce:return"Fragment";case Se:return"Portal";case Re:return"Profiler";case Te:return"StrictMode";case Ne:return"Suspense";case I:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===Te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function me(e){var t=ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ge(e){e._valueTracker||(e._valueTracker=me(e))}function It(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ce(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qe(e,t){var n=t.checked;return b({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wn(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=K(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qn(e,t){t=t.checked,t!=null&&oe(e,"checked",t,!1)}function x(e,t){Qn(e,t);var n=K(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?v(e,t.type,n):t.hasOwnProperty("defaultValue")&&v(e,t.type,K(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function v(e,t,n){(t!=="number"||Oe(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var F=Array.isArray;function q(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function de(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return b({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ze(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(F(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function Pe(e,t){var n=K(t.value),r=K(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ze,Ee=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(e){je.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]})});function Ue(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function xt(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ue(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var jt=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(e,t){if(t){if(jt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Dt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function dt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bn=null,cn=null,Kt=null;function ei(e){if(e=Ur(e)){if(typeof bn!="function")throw Error(a(280));var t=e.stateNode;t&&(t=kl(t),bn(e.stateNode,e.type,t))}}function ti(e){cn?Kt?Kt.push(e):Kt=[e]:cn=e}function ni(){if(cn){var e=cn,t=Kt;if(Kt=cn=null,ei(e),t)for(e=0;e<t.length;e++)ei(t[e])}}function ri(e,t){return e(t)}function li(){}var cs=!1;function si(e,t,n){if(cs)return e(t,n);cs=!0;try{return ri(e,t,n)}finally{cs=!1,(cn!==null||Kt!==null)&&(li(),ni())}}function vr(e,t){var n=e.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var ds=!1;if(V)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){ds=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{ds=!1}function rc(e,t,n,r,l,s,i,u,c){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(T){this.onError(T)}}var wr=!1,tl=null,nl=!1,fs=null,lc={onError:function(e){wr=!0,tl=e}};function sc(e,t,n,r,l,s,i,u,c){wr=!1,tl=null,rc.apply(lc,arguments)}function oc(e,t,n,r,l,s,i,u,c){if(sc.apply(this,arguments),wr){if(wr){var w=tl;wr=!1,tl=null}else throw Error(a(198));nl||(nl=!0,fs=w)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ii(e){if(Fn(e)!==e)throw Error(a(188))}function ic(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return ii(l),e;if(s===r)return ii(l),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,u=l.child;u;){if(u===n){i=!0,n=l,r=s;break}if(u===r){i=!0,r=l,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,r=l;break}if(u===r){i=!0,r=s,n=l;break}u=u.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function ai(e){return e=ic(e),e!==null?ui(e):null}function ui(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ui(e);if(t!==null)return t;e=e.sibling}return null}var ci=N.unstable_scheduleCallback,di=N.unstable_cancelCallback,ac=N.unstable_shouldYield,uc=N.unstable_requestPaint,Ke=N.unstable_now,cc=N.unstable_getCurrentPriorityLevel,ps=N.unstable_ImmediatePriority,fi=N.unstable_UserBlockingPriority,rl=N.unstable_NormalPriority,dc=N.unstable_LowPriority,pi=N.unstable_IdlePriority,ll=null,qt=null;function fc(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:hc,pc=Math.log,mc=Math.LN2;function hc(e){return e>>>=0,e===0?32:31-(pc(e)/mc|0)|0}var sl=64,ol=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~l;u!==0?r=Nr(u):(s&=i,s!==0&&(r=Nr(s)))}else i=n&~l,i!==0?r=Nr(i):s!==0&&(r=Nr(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),l=1<<n,r|=e[n],t&=~l;return r}function xc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Ot(s),u=1<<i,c=l[i];c===-1?((u&n)===0||(u&r)!==0)&&(l[i]=xc(u,t)):c<=t&&(e.expiredLanes|=u),s&=~u}}function ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mi(){var e=sl;return sl<<=1,(sl&4194240)===0&&(sl=64),e}function hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function vc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ot(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function xs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Le=0;function hi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xi,gs,gi,vi,yi,vs=!1,al=[],dn=null,fn=null,pn=null,kr=new Map,jr=new Map,mn=[],yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wi(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Cr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ur(t),t!==null&&gs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function wc(e,t,n,r,l){switch(t){case"focusin":return dn=Cr(dn,e,t,n,r,l),!0;case"dragenter":return fn=Cr(fn,e,t,n,r,l),!0;case"mouseover":return pn=Cr(pn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return kr.set(s,Cr(kr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,jr.set(s,Cr(jr.get(s)||null,e,t,n,r,l)),!0}return!1}function Ni(e){var t=Ln(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=oi(n),t!==null){e.blockedOn=t,yi(e.priority,function(){gi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zt=r,n.target.dispatchEvent(r),Zt=null}else return t=Ur(n),t!==null&&gs(t),e.blockedOn=n,!1;t.shift()}return!0}function Si(e,t,n){ul(e)&&n.delete(t)}function Nc(){vs=!1,dn!==null&&ul(dn)&&(dn=null),fn!==null&&ul(fn)&&(fn=null),pn!==null&&ul(pn)&&(pn=null),kr.forEach(Si),jr.forEach(Si)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,vs||(vs=!0,N.unstable_scheduleCallback(N.unstable_NormalPriority,Nc)))}function _r(e){function t(l){return Er(l,e)}if(0<al.length){Er(al[0],e);for(var n=1;n<al.length;n++){var r=al[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Er(dn,e),fn!==null&&Er(fn,e),pn!==null&&Er(pn,e),kr.forEach(t),jr.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Ni(n),n.blockedOn===null&&mn.shift()}var Kn=we.ReactCurrentBatchConfig,cl=!0;function Sc(e,t,n,r){var l=Le,s=Kn.transition;Kn.transition=null;try{Le=1,ys(e,t,n,r)}finally{Le=l,Kn.transition=s}}function kc(e,t,n,r){var l=Le,s=Kn.transition;Kn.transition=null;try{Le=4,ys(e,t,n,r)}finally{Le=l,Kn.transition=s}}function ys(e,t,n,r){if(cl){var l=ws(e,t,n,r);if(l===null)Ds(e,t,r,dl,n),wi(e,r);else if(wc(l,e,t,n,r))r.stopPropagation();else if(wi(e,r),t&4&&-1<yc.indexOf(e)){for(;l!==null;){var s=Ur(l);if(s!==null&&xi(s),s=ws(e,t,n,r),s===null&&Ds(e,t,r,dl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Ds(e,t,r,null,n)}}var dl=null;function ws(e,t,n,r){if(dl=null,e=dt(r),e=Ln(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function ki(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cc()){case ps:return 1;case fi:return 4;case rl:case dc:return 16;case pi:return 536870912;default:return 16}default:return 16}}var hn=null,Ns=null,fl=null;function ji(){if(fl)return fl;var e,t=Ns,n=t.length,r,l="value"in hn?hn.value:hn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return fl=l.slice(e,1<r?1-r:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function Ci(){return!1}function Ct(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ml:Ci,this.isPropagationStopped=Ci,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Ct(qn),Pr=b({},qn,{view:0,detail:0}),jc=Ct(Pr),ks,js,Ir,hl=b({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(ks=e.screenX-Ir.screenX,js=e.screenY-Ir.screenY):js=ks=0,Ir=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:js}}),Ei=Ct(hl),Cc=b({},hl,{dataTransfer:0}),Ec=Ct(Cc),_c=b({},Pr,{relatedTarget:0}),Cs=Ct(_c),Pc=b({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=Ct(Pc),bc=b({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fc=Ct(bc),Lc=b({},qn,{data:0}),_i=Ct(Lc),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tc[e])?!!t[e]:!1}function Es(){return Rc}var Dc=b({},Pr,{key:function(e){if(e.key){var t=zc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oc=Ct(Dc),Uc=b({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Ct(Uc),$c=b({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Ac=Ct($c),Bc=b({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=Ct(Bc),Vc=b({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wc=Ct(Vc),Qc=[9,13,27,32],_s=V&&"CompositionEvent"in window,br=null;V&&"documentMode"in document&&(br=document.documentMode);var Kc=V&&"TextEvent"in window&&!br,Ii=V&&(!_s||br&&8<br&&11>=br),bi=" ",Fi=!1;function Li(e,t){switch(e){case"keyup":return Qc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function qc(e,t){switch(e){case"compositionend":return zi(t);case"keypress":return t.which!==32?null:(Fi=!0,bi);case"textInput":return e=t.data,e===bi&&Fi?null:e;default:return null}}function Jc(e,t){if(Jn)return e==="compositionend"||!_s&&Li(e,t)?(e=ji(),fl=Ns=hn=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var Yc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yc[e.type]:t==="textarea"}function Ti(e,t,n,r){ti(r),t=wl(t,"onChange"),0<t.length&&(n=new Ss("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fr=null,Lr=null;function Xc(e){Zi(e,0)}function xl(e){var t=er(e);if(It(t))return e}function Gc(e,t){if(e==="change")return t}var Ri=!1;if(V){var Ps;if(V){var Is="oninput"in document;if(!Is){var Di=document.createElement("div");Di.setAttribute("oninput","return;"),Is=typeof Di.oninput=="function"}Ps=Is}else Ps=!1;Ri=Ps&&(!document.documentMode||9<document.documentMode)}function Oi(){Fr&&(Fr.detachEvent("onpropertychange",Ui),Lr=Fr=null)}function Ui(e){if(e.propertyName==="value"&&xl(Lr)){var t=[];Ti(t,Lr,e,dt(e)),si(Xc,t)}}function Zc(e,t,n){e==="focusin"?(Oi(),Fr=t,Lr=n,Fr.attachEvent("onpropertychange",Ui)):e==="focusout"&&Oi()}function ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(Lr)}function td(e,t){if(e==="click")return xl(t)}function nd(e,t){if(e==="input"||e==="change")return xl(t)}function rd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:rd;function zr(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!P.call(t,l)||!Ut(e[l],t[l]))return!1}return!0}function $i(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ai(e,t){var n=$i(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$i(n)}}function Bi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hi(){for(var e=window,t=Oe();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oe(e.document)}return t}function bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ld(e){var t=Hi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bi(n.ownerDocument.documentElement,n)){if(r!==null&&bs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Ai(n,s);var i=Ai(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sd=V&&"documentMode"in document&&11>=document.documentMode,Yn=null,Fs=null,Mr=null,Ls=!1;function Vi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ls||Yn==null||Yn!==Oe(r)||(r=Yn,"selectionStart"in r&&bs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&zr(Mr,r)||(Mr=r,r=wl(Fs,"onSelect"),0<r.length&&(t=new Ss("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},zs={},Wi={};V&&(Wi=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function vl(e){if(zs[e])return zs[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wi)return zs[e]=t[n];return e}var Qi=vl("animationend"),Ki=vl("animationiteration"),qi=vl("animationstart"),Ji=vl("transitionend"),Yi=new Map,Xi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Yi.set(e,t),H(t,[e])}for(var Ms=0;Ms<Xi.length;Ms++){var Ts=Xi[Ms],od=Ts.toLowerCase(),id=Ts[0].toUpperCase()+Ts.slice(1);xn(od,"on"+id)}xn(Qi,"onAnimationEnd"),xn(Ki,"onAnimationIteration"),xn(qi,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Ji,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ad=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Gi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oc(r,t,void 0,e),e.currentTarget=null}function Zi(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],c=u.instance,w=u.currentTarget;if(u=u.listener,c!==s&&l.isPropagationStopped())break e;Gi(l,u,w),s=c}else for(i=0;i<r.length;i++){if(u=r[i],c=u.instance,w=u.currentTarget,u=u.listener,c!==s&&l.isPropagationStopped())break e;Gi(l,u,w),s=c}}}if(nl)throw e=fs,nl=!1,fs=null,e}function $e(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(ea(t,e,2,!1),n.add(r))}function Rs(e,t,n){var r=0;t&&(r|=4),ea(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[yl]){e[yl]=!0,C.forEach(function(n){n!=="selectionchange"&&(ad.has(n)||Rs(n,!1,e),Rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,Rs("selectionchange",!1,t))}}function ea(e,t,n,r){switch(ki(t)){case 1:var l=Sc;break;case 4:l=kc;break;default:l=ys}n=l.bind(null,t,n,e),l=void 0,!ds||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ds(e,t,n,r,l){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;u!==null;){if(i=Ln(u),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}u=u.parentNode}}r=r.return}si(function(){var w=s,T=dt(n),D=[];e:{var M=Yi.get(e);if(M!==void 0){var ne=Ss,ie=e;switch(e){case"keypress":if(pl(n)===0)break e;case"keydown":case"keyup":ne=Oc;break;case"focusin":ie="focus",ne=Cs;break;case"focusout":ie="blur",ne=Cs;break;case"beforeblur":case"afterblur":ne=Cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ac;break;case Qi:case Ki:case qi:ne=Ic;break;case Ji:ne=Hc;break;case"scroll":ne=jc;break;case"wheel":ne=Wc;break;case"copy":case"cut":case"paste":ne=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Pi}var ae=(t&4)!==0,qe=!ae&&e==="scroll",m=ae?M!==null?M+"Capture":null:M;ae=[];for(var f=w,g;f!==null;){g=f;var A=g.stateNode;if(g.tag===5&&A!==null&&(g=A,m!==null&&(A=vr(f,m),A!=null&&ae.push(Dr(f,A,g)))),qe)break;f=f.return}0<ae.length&&(M=new ne(M,ie,null,n,T),D.push({event:M,listeners:ae}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",M&&n!==Zt&&(ie=n.relatedTarget||n.fromElement)&&(Ln(ie)||ie[en]))break e;if((ne||M)&&(M=T.window===T?T:(M=T.ownerDocument)?M.defaultView||M.parentWindow:window,ne?(ie=n.relatedTarget||n.toElement,ne=w,ie=ie?Ln(ie):null,ie!==null&&(qe=Fn(ie),ie!==qe||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ne=null,ie=w),ne!==ie)){if(ae=Ei,A="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Pi,A="onPointerLeave",m="onPointerEnter",f="pointer"),qe=ne==null?M:er(ne),g=ie==null?M:er(ie),M=new ae(A,f+"leave",ne,n,T),M.target=qe,M.relatedTarget=g,A=null,Ln(T)===w&&(ae=new ae(m,f+"enter",ie,n,T),ae.target=g,ae.relatedTarget=qe,A=ae),qe=A,ne&&ie)t:{for(ae=ne,m=ie,f=0,g=ae;g;g=Gn(g))f++;for(g=0,A=m;A;A=Gn(A))g++;for(;0<f-g;)ae=Gn(ae),f--;for(;0<g-f;)m=Gn(m),g--;for(;f--;){if(ae===m||m!==null&&ae===m.alternate)break t;ae=Gn(ae),m=Gn(m)}ae=null}else ae=null;ne!==null&&ta(D,M,ne,ae,!1),ie!==null&&qe!==null&&ta(D,qe,ie,ae,!0)}}e:{if(M=w?er(w):window,ne=M.nodeName&&M.nodeName.toLowerCase(),ne==="select"||ne==="input"&&M.type==="file")var ue=Gc;else if(Mi(M))if(Ri)ue=nd;else{ue=ed;var fe=Zc}else(ne=M.nodeName)&&ne.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ue=td);if(ue&&(ue=ue(e,w))){Ti(D,ue,n,T);break e}fe&&fe(e,M,w),e==="focusout"&&(fe=M._wrapperState)&&fe.controlled&&M.type==="number"&&v(M,"number",M.value)}switch(fe=w?er(w):window,e){case"focusin":(Mi(fe)||fe.contentEditable==="true")&&(Yn=fe,Fs=w,Mr=null);break;case"focusout":Mr=Fs=Yn=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,Vi(D,n,T);break;case"selectionchange":if(sd)break;case"keydown":case"keyup":Vi(D,n,T)}var pe;if(_s)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Jn?Li(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(Ii&&n.locale!=="ko"&&(Jn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Jn&&(pe=ji()):(hn=T,Ns="value"in hn?hn.value:hn.textContent,Jn=!0)),fe=wl(w,ge),0<fe.length&&(ge=new _i(ge,e,null,n,T),D.push({event:ge,listeners:fe}),pe?ge.data=pe:(pe=zi(n),pe!==null&&(ge.data=pe)))),(pe=Kc?qc(e,n):Jc(e,n))&&(w=wl(w,"onBeforeInput"),0<w.length&&(T=new _i("onBeforeInput","beforeinput",null,n,T),D.push({event:T,listeners:w}),T.data=pe))}Zi(D,t)})}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=vr(e,n),s!=null&&r.unshift(Dr(e,s,l)),s=vr(e,t),s!=null&&r.push(Dr(e,s,l))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ta(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var u=n,c=u.alternate,w=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&w!==null&&(u=w,l?(c=vr(n,s),c!=null&&i.unshift(Dr(n,c,u))):l||(c=vr(n,s),c!=null&&i.push(Dr(n,c,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ud=/\r\n?/g,cd=/\u0000|\uFFFD/g;function na(e){return(typeof e=="string"?e:""+e).replace(ud,`
`).replace(cd,"")}function Nl(e,t,n){if(t=na(t),na(e)!==t&&n)throw Error(a(425))}function Sl(){}var Os=null,Us=null;function $s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var As=typeof setTimeout=="function"?setTimeout:void 0,dd=typeof clearTimeout=="function"?clearTimeout:void 0,ra=typeof Promise=="function"?Promise:void 0,fd=typeof queueMicrotask=="function"?queueMicrotask:typeof ra<"u"?function(e){return ra.resolve(null).then(e).catch(pd)}:As;function pd(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),_r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);_r(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Zn,Or="__reactProps$"+Zn,en="__reactContainer$"+Zn,Hs="__reactEvents$"+Zn,md="__reactListeners$"+Zn,hd="__reactHandles$"+Zn;function Ln(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=la(e);e!==null;){if(n=e[Jt])return n;e=la(e)}return t}e=n,n=e.parentNode}return null}function Ur(e){return e=e[Jt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function kl(e){return e[Or]||null}var Vs=[],tr=-1;function vn(e){return{current:e}}function Ae(e){0>tr||(e.current=Vs[tr],Vs[tr]=null,tr--)}function De(e,t){tr++,Vs[tr]=e.current,e.current=t}var yn={},it=vn(yn),gt=vn(!1),zn=yn;function nr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function vt(e){return e=e.childContextTypes,e!=null}function jl(){Ae(gt),Ae(it)}function sa(e,t,n){if(it.current!==yn)throw Error(a(168));De(it,t),De(gt,n)}function oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(a(108,Z(e)||"Unknown",l));return b({},n,r)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,zn=it.current,De(it,e),De(gt,gt.current),!0}function ia(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=oa(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,Ae(gt),Ae(it),De(it,e)):Ae(gt),De(gt,n)}var tn=null,El=!1,Ws=!1;function aa(e){tn===null?tn=[e]:tn.push(e)}function xd(e){El=!0,aa(e)}function wn(){if(!Ws&&tn!==null){Ws=!0;var e=0,t=Le;try{var n=tn;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,El=!1}catch(l){throw tn!==null&&(tn=tn.slice(e+1)),ci(ps,wn),l}finally{Le=t,Ws=!1}}return null}var rr=[],lr=0,_l=null,Pl=0,bt=[],Ft=0,Mn=null,nn=1,rn="";function Tn(e,t){rr[lr++]=Pl,rr[lr++]=_l,_l=e,Pl=t}function ua(e,t,n){bt[Ft++]=nn,bt[Ft++]=rn,bt[Ft++]=Mn,Mn=e;var r=nn;e=rn;var l=32-Ot(r)-1;r&=~(1<<l),n+=1;var s=32-Ot(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,nn=1<<32-Ot(t)+l|n<<l|r,rn=s+e}else nn=1<<s|n<<l|r,rn=e}function Qs(e){e.return!==null&&(Tn(e,1),ua(e,1,0))}function Ks(e){for(;e===_l;)_l=rr[--lr],rr[lr]=null,Pl=rr[--lr],rr[lr]=null;for(;e===Mn;)Mn=bt[--Ft],bt[Ft]=null,rn=bt[--Ft],bt[Ft]=null,nn=bt[--Ft],bt[Ft]=null}var Et=null,_t=null,Be=!1,$t=null;function ca(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function da(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,_t=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,_t=null,!0):!1;default:return!1}}function qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Js(e){if(Be){var t=_t;if(t){var n=t;if(!da(e,t)){if(qs(e))throw Error(a(418));t=gn(n.nextSibling);var r=Et;t&&da(e,t)?ca(r,n):(e.flags=e.flags&-4097|2,Be=!1,Et=e)}}else{if(qs(e))throw Error(a(418));e.flags=e.flags&-4097|2,Be=!1,Et=e}}}function fa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Il(e){if(e!==Et)return!1;if(!Be)return fa(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$s(e.type,e.memoizedProps)),t&&(t=_t)){if(qs(e))throw pa(),Error(a(418));for(;t;)ca(e,t),t=gn(t.nextSibling)}if(fa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Et?gn(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=_t;e;)e=gn(e.nextSibling)}function sr(){_t=Et=null,Be=!1}function Ys(e){$t===null?$t=[e]:$t.push(e)}var gd=we.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var u=l.refs;i===null?delete u[s]:u[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function bl(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ma(e){var t=e._init;return t(e._payload)}function ha(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=Pn(m,f),m.index=0,m.sibling=null,m}function s(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,f,g,A){return f===null||f.tag!==6?(f=Bo(g,m.mode,A),f.return=m,f):(f=l(f,g),f.return=m,f)}function c(m,f,g,A){var ue=g.type;return ue===Ce?T(m,f,g.props.children,A,g.key):f!==null&&(f.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&ma(ue)===f.type)?(A=l(f,g.props),A.ref=$r(m,f,g),A.return=m,A):(A=es(g.type,g.key,g.props,null,m.mode,A),A.ref=$r(m,f,g),A.return=m,A)}function w(m,f,g,A){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ho(g,m.mode,A),f.return=m,f):(f=l(f,g.children||[]),f.return=m,f)}function T(m,f,g,A,ue){return f===null||f.tag!==7?(f=Hn(g,m.mode,A,ue),f.return=m,f):(f=l(f,g),f.return=m,f)}function D(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Bo(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case be:return g=es(f.type,f.key,f.props,null,m.mode,g),g.ref=$r(m,null,f),g.return=m,g;case Se:return f=Ho(f,m.mode,g),f.return=m,f;case se:var A=f._init;return D(m,A(f._payload),g)}if(F(f)||y(f))return f=Hn(f,m.mode,g,null),f.return=m,f;bl(m,f)}return null}function M(m,f,g,A){var ue=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return ue!==null?null:u(m,f,""+g,A);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case be:return g.key===ue?c(m,f,g,A):null;case Se:return g.key===ue?w(m,f,g,A):null;case se:return ue=g._init,M(m,f,ue(g._payload),A)}if(F(g)||y(g))return ue!==null?null:T(m,f,g,A,null);bl(m,g)}return null}function ne(m,f,g,A,ue){if(typeof A=="string"&&A!==""||typeof A=="number")return m=m.get(g)||null,u(f,m,""+A,ue);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case be:return m=m.get(A.key===null?g:A.key)||null,c(f,m,A,ue);case Se:return m=m.get(A.key===null?g:A.key)||null,w(f,m,A,ue);case se:var fe=A._init;return ne(m,f,g,fe(A._payload),ue)}if(F(A)||y(A))return m=m.get(g)||null,T(f,m,A,ue,null);bl(f,A)}return null}function ie(m,f,g,A){for(var ue=null,fe=null,pe=f,ge=f=0,nt=null;pe!==null&&ge<g.length;ge++){pe.index>ge?(nt=pe,pe=null):nt=pe.sibling;var Ie=M(m,pe,g[ge],A);if(Ie===null){pe===null&&(pe=nt);break}e&&pe&&Ie.alternate===null&&t(m,pe),f=s(Ie,f,ge),fe===null?ue=Ie:fe.sibling=Ie,fe=Ie,pe=nt}if(ge===g.length)return n(m,pe),Be&&Tn(m,ge),ue;if(pe===null){for(;ge<g.length;ge++)pe=D(m,g[ge],A),pe!==null&&(f=s(pe,f,ge),fe===null?ue=pe:fe.sibling=pe,fe=pe);return Be&&Tn(m,ge),ue}for(pe=r(m,pe);ge<g.length;ge++)nt=ne(pe,m,ge,g[ge],A),nt!==null&&(e&&nt.alternate!==null&&pe.delete(nt.key===null?ge:nt.key),f=s(nt,f,ge),fe===null?ue=nt:fe.sibling=nt,fe=nt);return e&&pe.forEach(function(In){return t(m,In)}),Be&&Tn(m,ge),ue}function ae(m,f,g,A){var ue=y(g);if(typeof ue!="function")throw Error(a(150));if(g=ue.call(g),g==null)throw Error(a(151));for(var fe=ue=null,pe=f,ge=f=0,nt=null,Ie=g.next();pe!==null&&!Ie.done;ge++,Ie=g.next()){pe.index>ge?(nt=pe,pe=null):nt=pe.sibling;var In=M(m,pe,Ie.value,A);if(In===null){pe===null&&(pe=nt);break}e&&pe&&In.alternate===null&&t(m,pe),f=s(In,f,ge),fe===null?ue=In:fe.sibling=In,fe=In,pe=nt}if(Ie.done)return n(m,pe),Be&&Tn(m,ge),ue;if(pe===null){for(;!Ie.done;ge++,Ie=g.next())Ie=D(m,Ie.value,A),Ie!==null&&(f=s(Ie,f,ge),fe===null?ue=Ie:fe.sibling=Ie,fe=Ie);return Be&&Tn(m,ge),ue}for(pe=r(m,pe);!Ie.done;ge++,Ie=g.next())Ie=ne(pe,m,ge,Ie.value,A),Ie!==null&&(e&&Ie.alternate!==null&&pe.delete(Ie.key===null?ge:Ie.key),f=s(Ie,f,ge),fe===null?ue=Ie:fe.sibling=Ie,fe=Ie);return e&&pe.forEach(function(Yd){return t(m,Yd)}),Be&&Tn(m,ge),ue}function qe(m,f,g,A){if(typeof g=="object"&&g!==null&&g.type===Ce&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case be:e:{for(var ue=g.key,fe=f;fe!==null;){if(fe.key===ue){if(ue=g.type,ue===Ce){if(fe.tag===7){n(m,fe.sibling),f=l(fe,g.props.children),f.return=m,m=f;break e}}else if(fe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&ma(ue)===fe.type){n(m,fe.sibling),f=l(fe,g.props),f.ref=$r(m,fe,g),f.return=m,m=f;break e}n(m,fe);break}else t(m,fe);fe=fe.sibling}g.type===Ce?(f=Hn(g.props.children,m.mode,A,g.key),f.return=m,m=f):(A=es(g.type,g.key,g.props,null,m.mode,A),A.ref=$r(m,f,g),A.return=m,m=A)}return i(m);case Se:e:{for(fe=g.key;f!==null;){if(f.key===fe)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=l(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ho(g,m.mode,A),f.return=m,m=f}return i(m);case se:return fe=g._init,qe(m,f,fe(g._payload),A)}if(F(g))return ie(m,f,g,A);if(y(g))return ae(m,f,g,A);bl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,g),f.return=m,m=f):(n(m,f),f=Bo(g,m.mode,A),f.return=m,m=f),i(m)):n(m,f)}return qe}var or=ha(!0),xa=ha(!1),Fl=vn(null),Ll=null,ir=null,Xs=null;function Gs(){Xs=ir=Ll=null}function Zs(e){var t=Fl.current;Ae(Fl),e._currentValue=t}function eo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ar(e,t){Ll=e,Xs=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(yt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Xs!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(Ll===null)throw Error(a(308));ir=e,Ll.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var Rn=null;function to(e){Rn===null?Rn=[e]:Rn.push(e)}function ga(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,to(t)):(n.next=l.next,l.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nn=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(_e&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,ln(e,n)}return l=r.interleaved,l===null?(t.next=t,to(r)):(t.next=l.next,l.next=t),r.interleaved=t,ln(e,n)}function zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xs(e,n)}}function ya(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ml(e,t,n,r){var l=e.updateQueue;Nn=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,w=c.next;c.next=null,i===null?s=w:i.next=w,i=c;var T=e.alternate;T!==null&&(T=T.updateQueue,u=T.lastBaseUpdate,u!==i&&(u===null?T.firstBaseUpdate=w:u.next=w,T.lastBaseUpdate=c))}if(s!==null){var D=l.baseState;i=0,T=w=c=null,u=s;do{var M=u.lane,ne=u.eventTime;if((r&M)===M){T!==null&&(T=T.next={eventTime:ne,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var ie=e,ae=u;switch(M=t,ne=n,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){D=ie.call(ne,D,M);break e}D=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,M=typeof ie=="function"?ie.call(ne,D,M):ie,M==null)break e;D=b({},D,M);break e;case 2:Nn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[u]:M.push(u))}else ne={eventTime:ne,lane:M,tag:u.tag,payload:u.payload,callback:u.callback,next:null},T===null?(w=T=ne,c=D):T=T.next=ne,i|=M;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;M=u,u=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(!0);if(T===null&&(c=D),l.baseState=c,l.firstBaseUpdate=w,l.lastBaseUpdate=T,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Un|=i,e.lanes=i,e.memoizedState=D}}function wa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(a(191,l));l.call(r)}}}var Ar={},Yt=vn(Ar),Br=vn(Ar),Hr=vn(Ar);function Dn(e){if(e===Ar)throw Error(a(174));return e}function ro(e,t){switch(De(Hr,t),De(Br,e),De(Yt,Ar),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ht(t,e)}Ae(Yt),De(Yt,t)}function ur(){Ae(Yt),Ae(Br),Ae(Hr)}function Na(e){Dn(Hr.current);var t=Dn(Yt.current),n=ht(t,e.type);t!==n&&(De(Br,e),De(Yt,n))}function lo(e){Br.current===e&&(Ae(Yt),Ae(Br))}var He=vn(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function oo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var Rl=we.ReactCurrentDispatcher,io=we.ReactCurrentBatchConfig,On=0,Ve=null,Ye=null,et=null,Dl=!1,Vr=!1,Wr=0,vd=0;function at(){throw Error(a(321))}function ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function uo(e,t,n,r,l,s){if(On=s,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?Sd:kd,e=n(r,l),Vr){s=0;do{if(Vr=!1,Wr=0,25<=s)throw Error(a(301));s+=1,et=Ye=null,t.updateQueue=null,Rl.current=jd,e=n(r,l)}while(Vr)}if(Rl.current=$l,t=Ye!==null&&Ye.next!==null,On=0,et=Ye=Ve=null,Dl=!1,t)throw Error(a(300));return e}function co(){var e=Wr!==0;return Wr=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ve.memoizedState=et=e:et=et.next=e,et}function zt(){if(Ye===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=et===null?Ve.memoizedState:et.next;if(t!==null)et=t,Ye=e;else{if(e===null)throw Error(a(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Ve.memoizedState=et=e:et=et.next=e}return et}function Qr(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=zt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=Ye,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var u=i=null,c=null,w=s;do{var T=w.lane;if((On&T)===T)c!==null&&(c=c.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var D={lane:T,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};c===null?(u=c=D,i=r):c=c.next=D,Ve.lanes|=T,Un|=T}w=w.next}while(w!==null&&w!==s);c===null?i=r:c.next=u,Ut(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Ve.lanes|=s,Un|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=zt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);Ut(s,t.memoizedState)||(yt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sa(){}function ka(e,t){var n=Ve,r=zt(),l=t(),s=!Ut(r.memoizedState,l);if(s&&(r.memoizedState=l,yt=!0),r=r.queue,mo(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Kr(9,Ca.bind(null,n,r,l,t),void 0,null),tt===null)throw Error(a(349));(On&30)!==0||ja(n,t,l)}return l}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Pa(e)}function Ea(e,t,n){return n(function(){_a(t)&&Pa(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Pa(e){var t=ln(e,1);t!==null&&Vt(t,e,1,-1)}function Ia(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},t.queue=e,e=e.dispatch=Nd.bind(null,Ve,e),[t.memoizedState,e]}function Kr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ba(){return zt().memoizedState}function Ol(e,t,n,r){var l=Xt();Ve.flags|=e,l.memoizedState=Kr(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var l=zt();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var i=Ye.memoizedState;if(s=i.destroy,r!==null&&ao(r,i.deps)){l.memoizedState=Kr(t,n,s,r);return}}Ve.flags|=e,l.memoizedState=Kr(1|t,n,s,r)}function Fa(e,t){return Ol(8390656,8,e,t)}function mo(e,t){return Ul(2048,8,e,t)}function La(e,t){return Ul(4,2,e,t)}function za(e,t){return Ul(4,4,e,t)}function Ma(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ta(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Ma.bind(null,t,e),n)}function ho(){}function Ra(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Da(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t,n){return(On&21)===0?(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n):(Ut(n,t)||(n=mi(),Ve.lanes|=n,Un|=n,e.baseState=!0),t)}function yd(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{Le=n,io.transition=r}}function Ua(){return zt().memoizedState}function wd(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))Aa(t,n);else if(n=ga(e,t,n,r),n!==null){var l=pt();Vt(n,e,r,l),Ba(n,t,r)}}function Nd(e,t,n){var r=En(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Aa(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,u=s(i,n);if(l.hasEagerState=!0,l.eagerState=u,Ut(u,i)){var c=t.interleaved;c===null?(l.next=l,to(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=ga(e,t,l,r),n!==null&&(l=pt(),Vt(n,e,r,l),Ba(n,t,r))}}function $a(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Aa(e,t){Vr=Dl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ba(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xs(e,n)}}var $l={readContext:Lt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Sd={readContext:Lt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wd.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Ia,useDebugValue:ho,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=yd.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,l=Xt();if(Be){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),tt===null)throw Error(a(349));(On&30)!==0||ja(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Fa(Ea.bind(null,r,s,e),[e]),r.flags|=2048,Kr(9,Ca.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xt(),t=tt.identifierPrefix;if(Be){var n=rn,r=nn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kd={readContext:Lt,useCallback:Ra,useContext:Lt,useEffect:mo,useImperativeHandle:Ta,useInsertionEffect:La,useLayoutEffect:za,useMemo:Da,useReducer:fo,useRef:ba,useState:function(){return fo(Qr)},useDebugValue:ho,useDeferredValue:function(e){var t=zt();return Oa(t,Ye.memoizedState,e)},useTransition:function(){var e=fo(Qr)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ua,unstable_isNewReconciler:!1},jd={readContext:Lt,useCallback:Ra,useContext:Lt,useEffect:mo,useImperativeHandle:Ta,useInsertionEffect:La,useLayoutEffect:za,useMemo:Da,useReducer:po,useRef:ba,useState:function(){return po(Qr)},useDebugValue:ho,useDeferredValue:function(e){var t=zt();return Ye===null?t.memoizedState=e:Oa(t,Ye.memoizedState,e)},useTransition:function(){var e=po(Qr)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ua,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=b({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Al={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),l=En(e),s=sn(r,l);s.payload=t,n!=null&&(s.callback=n),t=Sn(e,s,l),t!==null&&(Vt(t,e,l,r),zl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),l=En(e),s=sn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Sn(e,s,l),t!==null&&(Vt(t,e,l,r),zl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=En(e),l=sn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Sn(e,l,r),t!==null&&(Vt(t,e,r,n),zl(t,e,r))}};function Ha(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!zr(n,r)||!zr(l,s):!0}function Va(e,t,n){var r=!1,l=yn,s=t.contextType;return typeof s=="object"&&s!==null?s=Lt(s):(l=vt(t)?zn:it.current,r=t.contextTypes,s=(r=r!=null)?nr(e,l):yn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Al,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Al.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},no(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Lt(s):(s=vt(t)?zn:it.current,l.context=nr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Al.enqueueReplaceState(l,l.state,null),Ml(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=E(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function vo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cd=typeof WeakMap=="function"?WeakMap:Map;function Qa(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Mo=r),yo(e,t)},n}function Ka(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){yo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yo(e,t),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function qa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ud.bind(null,e,t,n),t.then(e,e))}function Ja(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ya(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Sn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Ed=we.ReactCurrentOwner,yt=!1;function ft(e,t,n,r){t.child=e===null?xa(t,null,n,r):or(t,e.child,n,r)}function Xa(e,t,n,r,l){n=n.render;var s=t.ref;return ar(t,l),r=uo(e,t,n,r,s,l),n=co(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Be&&n&&Qs(t),t.flags|=1,ft(e,t,r,l),t.child)}function Ga(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Ao(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Za(e,t,s,r,l)):(e=es(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&l)===0){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(i,r)&&e.ref===t.ref)return on(e,t,l)}return t.flags|=1,e=Pn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Za(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(zr(s,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,on(e,t,l)}return wo(e,t,n,r,l)}function eu(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(fr,Pt),Pt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(fr,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(fr,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,De(fr,Pt),Pt|=r;return ft(e,t,l,n),t.child}function tu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wo(e,t,n,r,l){var s=vt(n)?zn:it.current;return s=nr(t,s),ar(t,l),n=uo(e,t,n,r,s,l),r=co(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Be&&r&&Qs(t),t.flags|=1,ft(e,t,n,l),t.child)}function nu(e,t,n,r,l){if(vt(n)){var s=!0;Cl(t)}else s=!1;if(ar(t,l),t.stateNode===null)Hl(e,t),Va(t,n,r),go(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var c=i.context,w=n.contextType;typeof w=="object"&&w!==null?w=Lt(w):(w=vt(n)?zn:it.current,w=nr(t,w));var T=n.getDerivedStateFromProps,D=typeof T=="function"||typeof i.getSnapshotBeforeUpdate=="function";D||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||c!==w)&&Wa(t,i,r,w),Nn=!1;var M=t.memoizedState;i.state=M,Ml(t,r,i,l),c=t.memoizedState,u!==r||M!==c||gt.current||Nn?(typeof T=="function"&&(xo(t,n,T,r),c=t.memoizedState),(u=Nn||Ha(t,n,u,r,M,c,w))?(D||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=w,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,va(e,t),u=t.memoizedProps,w=t.type===t.elementType?u:At(t.type,u),i.props=w,D=t.pendingProps,M=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Lt(c):(c=vt(n)?zn:it.current,c=nr(t,c));var ne=n.getDerivedStateFromProps;(T=typeof ne=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==D||M!==c)&&Wa(t,i,r,c),Nn=!1,M=t.memoizedState,i.state=M,Ml(t,r,i,l);var ie=t.memoizedState;u!==D||M!==ie||gt.current||Nn?(typeof ne=="function"&&(xo(t,n,ne,r),ie=t.memoizedState),(w=Nn||Ha(t,n,w,r,M,ie,c)||!1)?(T||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,ie,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,ie,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ie),i.props=r,i.state=ie,i.context=c,r=w):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,l)}function No(e,t,n,r,l,s){tu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&ia(t,n,!1),on(e,t,s);r=t.stateNode,Ed.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=or(t,e.child,null,s),t.child=or(t,null,u,s)):ft(e,t,u,s),t.memoizedState=r.state,l&&ia(t,n,!0),t.child}function ru(e){var t=e.stateNode;t.pendingContext?sa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sa(e,t.context,!1),ro(e,t.containerInfo)}function lu(e,t,n,r,l){return sr(),Ys(l),t.flags|=256,ft(e,t,n,r),t.child}var So={dehydrated:null,treeContext:null,retryLane:0};function ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function su(e,t,n){var r=t.pendingProps,l=He.current,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),De(He,l&1),e===null)return Js(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ts(i,r,0,null),e=Hn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ko(n),t.memoizedState=So,e):jo(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return _d(e,t,i,r,u,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,u=l.sibling;var c={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?s=Pn(u,s):(s=Hn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ko(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=So,r}return s=e.child,e=s.sibling,r=Pn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jo(e,t){return t=ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,n,r){return r!==null&&Ys(r),or(t,e.child,null,n),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _d(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=vo(Error(a(422))),Bl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=ts({mode:"visible",children:r.children},l,0,null),s=Hn(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&or(t,e.child,null,i),t.child.memoizedState=ko(i),t.memoizedState=So,s);if((t.mode&1)===0)return Bl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(a(419)),r=vo(s,r,void 0),Bl(e,t,i,r)}if(u=(i&e.childLanes)!==0,yt||u){if(r=tt,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,ln(e,l),Vt(r,e,l,-1))}return $o(),r=vo(Error(a(421))),Bl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=$d.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,_t=gn(l.nextSibling),Et=t,Be=!0,$t=null,e!==null&&(bt[Ft++]=nn,bt[Ft++]=rn,bt[Ft++]=Mn,nn=e.id,rn=e.overflow,Mn=t),t=jo(t,r.children),t.flags|=4096,t)}function ou(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eo(e.return,t,n)}function Co(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function iu(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=He.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ou(e,n,t);else if(e.tag===19)ou(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(He,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Co(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Tl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Co(t,!0,n,null,s);break;case"together":Co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pd(e,t,n){switch(t.tag){case 3:ru(t),sr();break;case 5:Na(t);break;case 1:vt(t.type)&&Cl(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;De(Fl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(He,He.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?su(e,t,n):(De(He,He.current&1),e=on(e,t,n),e!==null?e.sibling:null);De(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return iu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),De(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,eu(e,t,n)}return on(e,t,n)}var au,Eo,uu,cu;au=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Eo=function(){},uu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Dn(Yt.current);var s=null;switch(n){case"input":l=Qe(e,l),r=Qe(e,r),s=[];break;case"select":l=b({},l,{value:void 0}),r=b({},r,{value:void 0}),s=[];break;case"textarea":l=de(e,l),r=de(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sl)}ot(n,r);var i;n=null;for(w in l)if(!r.hasOwnProperty(w)&&l.hasOwnProperty(w)&&l[w]!=null)if(w==="style"){var u=l[w];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(L.hasOwnProperty(w)?s||(s=[]):(s=s||[]).push(w,null));for(w in r){var c=r[w];if(u=l?.[w],r.hasOwnProperty(w)&&c!==u&&(c!=null||u!=null))if(w==="style")if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(w,n)),n=c;else w==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(w,c)):w==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(w,""+c):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(L.hasOwnProperty(w)?(c!=null&&w==="onScroll"&&$e("scroll",e),s||u===c||(s=[])):(s=s||[]).push(w,c))}n&&(s=s||[]).push("style",n);var w=s;(t.updateQueue=w)&&(t.flags|=4)}},cu=function(e,t,n,r){n!==r&&(t.flags|=4)};function qr(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Id(e,t,n){var r=t.pendingProps;switch(Ks(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return vt(t.type)&&jl(),ut(t),null;case 3:return r=t.stateNode,ur(),Ae(gt),Ae(it),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$t!==null&&(Do($t),$t=null))),Eo(e,t),ut(t),null;case 5:lo(t);var l=Dn(Hr.current);if(n=t.type,e!==null&&t.stateNode!=null)uu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return ut(t),null}if(e=Dn(Yt.current),Il(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jt]=t,r[Or]=s,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(l=0;l<Tr.length;l++)$e(Tr[l],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Wn(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":ze(r,s),$e("invalid",r)}ot(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,u,e),l=["children",""+u]):L.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&$e("scroll",r)}switch(n){case"input":Ge(r),S(r,s,!0);break;case"textarea":Ge(r),Me(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Jt]=t,e[Or]=r,au(e,t,!1,!1),t.stateNode=e;e:{switch(i=Dt(n,r),n){case"dialog":$e("cancel",e),$e("close",e),l=r;break;case"iframe":case"object":case"embed":$e("load",e),l=r;break;case"video":case"audio":for(l=0;l<Tr.length;l++)$e(Tr[l],e);l=r;break;case"source":$e("error",e),l=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),l=r;break;case"details":$e("toggle",e),l=r;break;case"input":Wn(e,r),l=Qe(e,r),$e("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=b({},r,{value:void 0}),$e("invalid",e);break;case"textarea":ze(e,r),l=de(e,r),$e("invalid",e);break;default:l=r}ot(n,l),u=l;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?xt(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ee(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fe(e,c):typeof c=="number"&&Fe(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(L.hasOwnProperty(s)?c!=null&&s==="onScroll"&&$e("scroll",e):c!=null&&oe(e,s,c,i))}switch(n){case"input":Ge(e),S(e,r,!1);break;case"textarea":Ge(e),Me(e);break;case"option":r.value!=null&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?q(e,!!r.multiple,s,!1):r.defaultValue!=null&&q(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)cu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=Dn(Hr.current),Dn(Yt.current),Il(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(s=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Nl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return ut(t),null;case 13:if(Ae(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&_t!==null&&(t.mode&1)!==0&&(t.flags&128)===0)pa(),sr(),t.flags|=98560,s=!1;else if(s=Il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(a(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));s[Jt]=t}else sr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else $t!==null&&(Do($t),$t=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(He.current&1)!==0?Xe===0&&(Xe=3):$o())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return ur(),Eo(e,t),e===null&&Rr(t.stateNode.containerInfo),ut(t),null;case 10:return Zs(t.type._context),ut(t),null;case 17:return vt(t.type)&&jl(),ut(t),null;case 19:if(Ae(He),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)qr(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Tl(e),i!==null){for(t.flags|=128,qr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(He,He.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ke()>pr&&(t.flags|=128,r=!0,qr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Be)return ut(t),null}else 2*Ke()-s.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,qr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=He.current,De(He,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return Uo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Pt&1073741824)!==0&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function bd(e,t){switch(Ks(t),t.tag){case 1:return vt(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ur(),Ae(gt),Ae(it),oo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return lo(t),null;case 13:if(Ae(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(He),null;case 4:return ur(),null;case 10:return Zs(t.type._context),null;case 22:case 23:return Uo(),null;case 24:return null;default:return null}}var Vl=!1,ct=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,le=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function _o(e,t,n){try{n()}catch(r){We(e,t,r)}}var du=!1;function Ld(e,t){if(Os=cl,e=Hi(),bs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,u=-1,c=-1,w=0,T=0,D=e,M=null;t:for(;;){for(var ne;D!==n||l!==0&&D.nodeType!==3||(u=i+l),D!==s||r!==0&&D.nodeType!==3||(c=i+r),D.nodeType===3&&(i+=D.nodeValue.length),(ne=D.firstChild)!==null;)M=D,D=ne;for(;;){if(D===e)break t;if(M===n&&++w===l&&(u=i),M===s&&++T===r&&(c=i),(ne=D.nextSibling)!==null)break;D=M,M=D.parentNode}D=ne}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Us={focusedElem:e,selectionRange:n},cl=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,qe=ie.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?ae:At(t.type,ae),qe);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(A){We(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return ie=du,du=!1,ie}function Jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&_o(t,n,s)}l=l.next}while(l!==r)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fu(e){var t=e.alternate;t!==null&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Or],delete t[Hs],delete t[md],delete t[hd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pu(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sl));else if(r!==4&&(e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}function bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bo(e,t,n),e=e.sibling;e!==null;)bo(e,t,n),e=e.sibling}var lt=null,Bt=!1;function kn(e,t,n){for(n=n.child;n!==null;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:ct||dr(n,t);case 6:var r=lt,l=Bt;lt=null,kn(e,t,n),lt=r,Bt=l,lt!==null&&(Bt?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Bt?(e=lt,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),_r(e)):Bs(lt,n.stateNode));break;case 4:r=lt,l=Bt,lt=n.stateNode.containerInfo,Bt=!0,kn(e,t,n),lt=r,Bt=l;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&((s&2)!==0||(s&4)!==0)&&_o(n,t,i),l=l.next}while(l!==r)}kn(e,t,n);break;case 1:if(!ct&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){We(n,t,u)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,kn(e,t,n),ct=r):kn(e,t,n);break;default:kn(e,t,n)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fd),t.forEach(function(r){var l=Ad.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:lt=u.stateNode,Bt=!1;break e;case 3:lt=u.stateNode.containerInfo,Bt=!0;break e;case 4:lt=u.stateNode.containerInfo,Bt=!0;break e}u=u.return}if(lt===null)throw Error(a(160));hu(s,i,l),lt=null,Bt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(w){We(l,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),Gt(e),r&4){try{Jr(3,e,e.return),Wl(3,e)}catch(ae){We(e,e.return,ae)}try{Jr(5,e,e.return)}catch(ae){We(e,e.return,ae)}}break;case 1:Ht(t,e),Gt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(Ht(t,e),Gt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var l=e.stateNode;try{Fe(l,"")}catch(ae){We(e,e.return,ae)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Qn(l,s),Dt(u,i);var w=Dt(u,s);for(i=0;i<c.length;i+=2){var T=c[i],D=c[i+1];T==="style"?xt(l,D):T==="dangerouslySetInnerHTML"?Ee(l,D):T==="children"?Fe(l,D):oe(l,T,D,w)}switch(u){case"input":x(l,s);break;case"textarea":Pe(l,s);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var ne=s.value;ne!=null?q(l,!!s.multiple,ne,!1):M!==!!s.multiple&&(s.defaultValue!=null?q(l,!!s.multiple,s.defaultValue,!0):q(l,!!s.multiple,s.multiple?[]:"",!1))}l[Or]=s}catch(ae){We(e,e.return,ae)}}break;case 6:if(Ht(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(ae){We(e,e.return,ae)}}break;case 3:if(Ht(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(ae){We(e,e.return,ae)}break;case 4:Ht(t,e),Gt(e);break;case 13:Ht(t,e),Gt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(zo=Ke())),r&4&&xu(e);break;case 22:if(T=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(w=ct)||T,Ht(t,e),ct=w):Ht(t,e),Gt(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!T&&(e.mode&1)!==0)for(le=e,T=e.child;T!==null;){for(D=le=T;le!==null;){switch(M=le,ne=M.child,M.tag){case 0:case 11:case 14:case 15:Jr(4,M,M.return);break;case 1:dr(M,M.return);var ie=M.stateNode;if(typeof ie.componentWillUnmount=="function"){r=M,n=M.return;try{t=r,ie.props=t.memoizedProps,ie.state=t.memoizedState,ie.componentWillUnmount()}catch(ae){We(r,n,ae)}}break;case 5:dr(M,M.return);break;case 22:if(M.memoizedState!==null){wu(D);continue}}ne!==null?(ne.return=M,le=ne):wu(D)}T=T.sibling}e:for(T=null,D=e;;){if(D.tag===5){if(T===null){T=D;try{l=D.stateNode,w?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=D.stateNode,c=D.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ue("display",i))}catch(ae){We(e,e.return,ae)}}}else if(D.tag===6){if(T===null)try{D.stateNode.nodeValue=w?"":D.memoizedProps}catch(ae){We(e,e.return,ae)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;T===D&&(T=null),D=D.return}T===D&&(T=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Ht(t,e),Gt(e),r&4&&xu(e);break;case 21:break;default:Ht(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Fe(l,""),r.flags&=-33);var s=mu(e);bo(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,u=mu(e);Io(e,u,i);break;default:throw Error(a(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zd(e,t,n){le=e,vu(e)}function vu(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var l=le,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Vl;if(!i){var u=l.alternate,c=u!==null&&u.memoizedState!==null||ct;u=Vl;var w=ct;if(Vl=i,(ct=c)&&!w)for(le=l;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?Nu(l):c!==null?(c.return=i,le=c):Nu(l);for(;s!==null;)le=s,vu(s),s=s.sibling;le=l,Vl=u,ct=w}yu(e)}else(l.subtreeFlags&8772)!==0&&s!==null?(s.return=l,le=s):yu(e)}}function yu(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ct||Wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&wa(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wa(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var T=w.memoizedState;if(T!==null){var D=T.dehydrated;D!==null&&_r(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}ct||t.flags&512&&Po(t)}catch(M){We(t,t.return,M)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function wu(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Nu(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(c){We(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){We(t,l,c)}}var s=t.return;try{Po(t)}catch(c){We(t,s,c)}break;case 5:var i=t.return;try{Po(t)}catch(c){We(t,i,c)}}}catch(c){We(t,t.return,c)}if(t===e){le=null;break}var u=t.sibling;if(u!==null){u.return=t.return,le=u;break}le=t.return}}var Md=Math.ceil,Ql=we.ReactCurrentDispatcher,Fo=we.ReactCurrentOwner,Mt=we.ReactCurrentBatchConfig,_e=0,tt=null,Je=null,st=0,Pt=0,fr=vn(0),Xe=0,Yr=null,Un=0,Kl=0,Lo=0,Xr=null,wt=null,zo=0,pr=1/0,an=null,ql=!1,Mo=null,jn=null,Jl=!1,Cn=null,Yl=0,Gr=0,To=null,Xl=-1,Gl=0;function pt(){return(_e&6)!==0?Ke():Xl!==-1?Xl:Xl=Ke()}function En(e){return(e.mode&1)===0?1:(_e&2)!==0&&st!==0?st&-st:gd.transition!==null?(Gl===0&&(Gl=mi()),Gl):(e=Le,e!==0||(e=window.event,e=e===void 0?16:ki(e.type)),e)}function Vt(e,t,n,r){if(50<Gr)throw Gr=0,To=null,Error(a(185));Sr(e,n,r),((_e&2)===0||e!==tt)&&(e===tt&&((_e&2)===0&&(Kl|=n),Xe===4&&_n(e,st)),Nt(e,r),n===1&&_e===0&&(t.mode&1)===0&&(pr=Ke()+500,El&&wn()))}function Nt(e,t){var n=e.callbackNode;gc(e,t);var r=il(e,e===tt?st:0);if(r===0)n!==null&&di(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&di(n),t===1)e.tag===0?xd(ku.bind(null,e)):aa(ku.bind(null,e)),fd(function(){(_e&6)===0&&wn()}),n=null;else{switch(hi(r)){case 1:n=ps;break;case 4:n=fi;break;case 16:n=rl;break;case 536870912:n=pi;break;default:n=rl}n=Fu(n,Su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Su(e,t){if(Xl=-1,Gl=0,(_e&6)!==0)throw Error(a(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var r=il(e,e===tt?st:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Zl(e,r);else{t=r;var l=_e;_e|=2;var s=Cu();(tt!==e||st!==t)&&(an=null,pr=Ke()+500,An(e,t));do try{Dd();break}catch(u){ju(e,u)}while(!0);Gs(),Ql.current=s,_e=l,Je!==null?t=0:(tt=null,st=0,t=Xe)}if(t!==0){if(t===2&&(l=ms(e),l!==0&&(r=l,t=Ro(e,l))),t===1)throw n=Yr,An(e,0),_n(e,r),Nt(e,Ke()),n;if(t===6)_n(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Td(l)&&(t=Zl(e,r),t===2&&(s=ms(e),s!==0&&(r=s,t=Ro(e,s))),t===1))throw n=Yr,An(e,0),_n(e,r),Nt(e,Ke()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Bn(e,wt,an);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=zo+500-Ke(),10<t)){if(il(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=As(Bn.bind(null,e,wt,an),t);break}Bn(e,wt,an);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Ot(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Md(r/1960))-r,10<r){e.timeoutHandle=As(Bn.bind(null,e,wt,an),r);break}Bn(e,wt,an);break;case 5:Bn(e,wt,an);break;default:throw Error(a(329))}}}return Nt(e,Ke()),e.callbackNode===n?Su.bind(null,e):null}function Ro(e,t){var n=Xr;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=wt,wt=n,t!==null&&Do(t)),e}function Do(e){wt===null?wt=e:wt.push.apply(wt,e)}function Td(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ut(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~Lo,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if((_e&6)!==0)throw Error(a(327));mr();var t=il(e,0);if((t&1)===0)return Nt(e,Ke()),null;var n=Zl(e,t);if(e.tag!==0&&n===2){var r=ms(e);r!==0&&(t=r,n=Ro(e,r))}if(n===1)throw n=Yr,An(e,0),_n(e,t),Nt(e,Ke()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,wt,an),Nt(e,Ke()),null}function Oo(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(pr=Ke()+500,El&&wn())}}function $n(e){Cn!==null&&Cn.tag===0&&(_e&6)===0&&mr();var t=_e;_e|=1;var n=Mt.transition,r=Le;try{if(Mt.transition=null,Le=1,e)return e()}finally{Le=r,Mt.transition=n,_e=t,(_e&6)===0&&wn()}}function Uo(){Pt=fr.current,Ae(fr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dd(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Ks(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:ur(),Ae(gt),Ae(it),oo();break;case 5:lo(r);break;case 4:ur();break;case 13:Ae(He);break;case 19:Ae(He);break;case 10:Zs(r.type._context);break;case 22:case 23:Uo()}n=n.return}if(tt=e,Je=e=Pn(e.current,null),st=Pt=t,Xe=0,Yr=null,Lo=Kl=Un=0,wt=Xr=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}Rn=null}return e}function ju(e,t){do{var n=Je;try{if(Gs(),Rl.current=$l,Dl){for(var r=Ve.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Dl=!1}if(On=0,et=Ye=Ve=null,Vr=!1,Wr=0,Fo.current=null,n===null||n.return===null){Xe=1,Yr=t,Je=null;break}e:{var s=e,i=n.return,u=n,c=t;if(t=st,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var w=c,T=u,D=T.tag;if((T.mode&1)===0&&(D===0||D===11||D===15)){var M=T.alternate;M?(T.updateQueue=M.updateQueue,T.memoizedState=M.memoizedState,T.lanes=M.lanes):(T.updateQueue=null,T.memoizedState=null)}var ne=Ja(i);if(ne!==null){ne.flags&=-257,Ya(ne,i,u,s,t),ne.mode&1&&qa(s,w,t),t=ne,c=w;var ie=t.updateQueue;if(ie===null){var ae=new Set;ae.add(c),t.updateQueue=ae}else ie.add(c);break e}else{if((t&1)===0){qa(s,w,t),$o();break e}c=Error(a(426))}}else if(Be&&u.mode&1){var qe=Ja(i);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Ya(qe,i,u,s,t),Ys(cr(c,u));break e}}s=c=cr(c,u),Xe!==4&&(Xe=2),Xr===null?Xr=[s]:Xr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Qa(s,c,t);ya(s,m);break e;case 1:u=c;var f=s.type,g=s.stateNode;if((s.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(jn===null||!jn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=Ka(s,u,t);ya(s,A);break e}}s=s.return}while(s!==null)}_u(n)}catch(ue){t=ue,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Cu(){var e=Ql.current;return Ql.current=$l,e===null?$l:e}function $o(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||(Un&268435455)===0&&(Kl&268435455)===0||_n(tt,st)}function Zl(e,t){var n=_e;_e|=2;var r=Cu();(tt!==e||st!==t)&&(an=null,An(e,t));do try{Rd();break}catch(l){ju(e,l)}while(!0);if(Gs(),_e=n,Ql.current=r,Je!==null)throw Error(a(261));return tt=null,st=0,Xe}function Rd(){for(;Je!==null;)Eu(Je)}function Dd(){for(;Je!==null&&!ac();)Eu(Je)}function Eu(e){var t=bu(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?_u(e):Je=t,Fo.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Id(n,t,Pt),n!==null){Je=n;return}}else{if(n=bd(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Je=null;return}}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);Xe===0&&(Xe=5)}function Bn(e,t,n){var r=Le,l=Mt.transition;try{Mt.transition=null,Le=1,Od(e,t,n,r)}finally{Mt.transition=l,Le=r}return null}function Od(e,t,n,r){do mr();while(Cn!==null);if((_e&6)!==0)throw Error(a(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vc(e,s),e===tt&&(Je=tt=null,st=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Jl||(Jl=!0,Fu(rl,function(){return mr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Mt.transition,Mt.transition=null;var i=Le;Le=1;var u=_e;_e|=4,Fo.current=null,Ld(e,n),gu(n,e),ld(Us),cl=!!Os,Us=Os=null,e.current=n,zd(n),uc(),_e=u,Le=i,Mt.transition=s}else e.current=n;if(Jl&&(Jl=!1,Cn=e,Yl=l),s=e.pendingLanes,s===0&&(jn=null),fc(n.stateNode),Nt(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ql)throw ql=!1,e=Mo,Mo=null,e;return(Yl&1)!==0&&e.tag!==0&&mr(),s=e.pendingLanes,(s&1)!==0?e===To?Gr++:(Gr=0,To=e):Gr=0,wn(),null}function mr(){if(Cn!==null){var e=hi(Yl),t=Mt.transition,n=Le;try{if(Mt.transition=null,Le=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,Yl=0,(_e&6)!==0)throw Error(a(331));var l=_e;for(_e|=4,le=e.current;le!==null;){var s=le,i=s.child;if((le.flags&16)!==0){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var w=u[c];for(le=w;le!==null;){var T=le;switch(T.tag){case 0:case 11:case 15:Jr(8,T,s)}var D=T.child;if(D!==null)D.return=T,le=D;else for(;le!==null;){T=le;var M=T.sibling,ne=T.return;if(fu(T),T===w){le=null;break}if(M!==null){M.return=ne,le=M;break}le=ne}}}var ie=s.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var qe=ae.sibling;ae.sibling=null,ae=qe}while(ae!==null)}}le=s}}if((s.subtreeFlags&2064)!==0&&i!==null)i.return=s,le=i;else e:for(;le!==null;){if(s=le,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Jr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,le=m;break e}le=s.return}}var f=e.current;for(le=f;le!==null;){i=le;var g=i.child;if((i.subtreeFlags&2064)!==0&&g!==null)g.return=i,le=g;else e:for(i=f;le!==null;){if(u=le,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:Wl(9,u)}}catch(ue){We(u,u.return,ue)}if(u===i){le=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,le=A;break e}le=u.return}}if(_e=l,wn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{Le=n,Mt.transition=t}}return!1}function Pu(e,t,n){t=cr(n,t),t=Qa(e,t,1),e=Sn(e,t,1),t=pt(),e!==null&&(Sr(e,1,t),Nt(e,t))}function We(e,t,n){if(e.tag===3)Pu(e,e,n);else for(;t!==null;){if(t.tag===3){Pu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){e=cr(n,e),e=Ka(t,e,1),t=Sn(t,e,1),e=pt(),t!==null&&(Sr(t,1,e),Nt(t,e));break}}t=t.return}}function Ud(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(st&n)===n&&(Xe===4||Xe===3&&(st&130023424)===st&&500>Ke()-zo?An(e,0):Lo|=n),Nt(e,t)}function Iu(e,t){t===0&&((e.mode&1)===0?t=1:(t=ol,ol<<=1,(ol&130023424)===0&&(ol=4194304)));var n=pt();e=ln(e,t),e!==null&&(Sr(e,t,n),Nt(e,n))}function $d(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iu(e,n)}function Ad(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),Iu(e,n)}var bu;bu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)yt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return yt=!1,Pd(e,t,n);yt=(e.flags&131072)!==0}else yt=!1,Be&&(t.flags&1048576)!==0&&ua(t,Pl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var l=nr(t,it.current);ar(t,n),l=uo(null,t,r,e,l,n);var s=co();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(s=!0,Cl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,no(t),l.updater=Al,t.stateNode=l,l._reactInternals=t,go(t,r,e,n),t=No(null,t,r,!0,s,n)):(t.tag=0,Be&&s&&Qs(t),ft(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Hd(r),e=At(r,e),l){case 0:t=wo(null,t,r,e,n);break e;case 1:t=nu(null,t,r,e,n);break e;case 11:t=Xa(null,t,r,e,n);break e;case 14:t=Ga(null,t,r,At(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:At(r,l),wo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:At(r,l),nu(e,t,r,l,n);case 3:e:{if(ru(t),e===null)throw Error(a(387));r=t.pendingProps,s=t.memoizedState,l=s.element,va(e,t),Ml(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=cr(Error(a(423)),t),t=lu(e,t,r,n,l);break e}else if(r!==l){l=cr(Error(a(424)),t),t=lu(e,t,r,n,l);break e}else for(_t=gn(t.stateNode.containerInfo.firstChild),Et=t,Be=!0,$t=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===l){t=on(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return Na(t),e===null&&Js(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,$s(r,l)?i=null:s!==null&&$s(r,s)&&(t.flags|=32),tu(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&Js(t),null;case 13:return su(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:At(r,l),Xa(e,t,r,l,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,De(Fl,r._currentValue),r._currentValue=i,s!==null)if(Ut(s.value,i)){if(s.children===l.children&&!gt.current){t=on(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){i=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=sn(-1,n&-n),c.tag=2;var w=s.updateQueue;if(w!==null){w=w.shared;var T=w.pending;T===null?c.next=c:(c.next=T.next,T.next=c),w.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),eo(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(a(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),eo(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ft(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ar(t,n),l=Lt(l),r=r(l),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,l=At(r,t.pendingProps),l=At(r.type,l),Ga(e,t,r,l,n);case 15:return Za(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:At(r,l),Hl(e,t),t.tag=1,vt(r)?(e=!0,Cl(t)):e=!1,ar(t,n),Va(t,r,l),go(t,r,l,n),No(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 22:return eu(e,t,n)}throw Error(a(156,t.tag))};function Fu(e,t){return ci(e,t)}function Bd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Bd(e,t,n,r)}function Ao(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hd(e){if(typeof e=="function")return Ao(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===$)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function es(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Ao(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ce:return Hn(n.children,l,s,t);case Te:i=8,l|=8;break;case Re:return e=Tt(12,n,t,l|2),e.elementType=Re,e.lanes=s,e;case Ne:return e=Tt(13,n,t,l),e.elementType=Ne,e.lanes=s,e;case I:return e=Tt(19,n,t,l),e.elementType=I,e.lanes=s,e;case J:return ts(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:i=10;break e;case ve:i=9;break e;case ye:i=11;break e;case $:i=14;break e;case se:i=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Tt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Hn(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function ts(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=J,e.lanes=n,e.stateNode={isHidden:!1},e}function Bo(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vd(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Vo(e,t,n,r,l,s,i,u,c){return e=new Vd(e,t,n,u,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(s),e}function Wd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lu(e){if(!e)return yn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(vt(n))return oa(e,n,t)}return t}function zu(e,t,n,r,l,s,i,u,c){return e=Vo(n,r,!0,e,l,s,i,u,c),e.context=Lu(null),n=e.current,r=pt(),l=En(n),s=sn(r,l),s.callback=t??null,Sn(n,s,l),e.current.lanes=l,Sr(e,l,r),Nt(e,r),e}function ns(e,t,n,r){var l=t.current,s=pt(),i=En(l);return n=Lu(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sn(l,t,i),e!==null&&(Vt(e,l,i,s),zl(e,l,i)),i}function rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){Mu(e,t),(e=e.alternate)&&Mu(e,t)}function Qd(){return null}var Tu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qo(e){this._internalRoot=e}ls.prototype.render=Qo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));ns(e,t,null,null)},ls.prototype.unmount=Qo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){ns(null,e,null,null)}),t[en]=null}};function ls(e){this._internalRoot=e}ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=vi();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Ni(e)}};function Ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function Kd(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var w=rs(i);s.call(w)}}var i=zu(t,r,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=i,e[en]=i.current,Rr(e.nodeType===8?e.parentNode:e),$n(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var w=rs(c);u.call(w)}}var c=Vo(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=c,e[en]=c.current,Rr(e.nodeType===8?e.parentNode:e),$n(function(){ns(t,c,n,r)}),c}function os(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var u=l;l=function(){var c=rs(i);u.call(c)}}ns(t,i,e,l)}else i=Kd(n,t,e,l,r);return rs(i)}xi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(xs(t,n|1),Nt(t,Ke()),(_e&6)===0&&(pr=Ke()+500,wn()))}break;case 13:$n(function(){var r=ln(e,1);if(r!==null){var l=pt();Vt(r,e,1,l)}}),Wo(e,1)}},gs=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=pt();Vt(t,e,134217728,n)}Wo(e,134217728)}},gi=function(e){if(e.tag===13){var t=En(e),n=ln(e,t);if(n!==null){var r=pt();Vt(n,e,t,r)}Wo(e,t)}},vi=function(){return Le},yi=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}},bn=function(e,t,n){switch(t){case"input":if(x(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=kl(r);if(!l)throw Error(a(90));It(r),x(r,l)}}}break;case"textarea":Pe(e,n);break;case"select":t=n.value,t!=null&&q(e,!!n.multiple,t,!1)}},ri=Oo,li=$n;var qd={usingClientEntryPoint:!1,Events:[Ur,er,kl,ti,ni,Oo]},Zr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jd={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ai(e),e===null?null:e.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||Qd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{ll=is.inject(Jd),qt=is}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qd,St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ko(t))throw Error(a(200));return Wd(e,t,null,n)},St.createRoot=function(e,t){if(!Ko(e))throw Error(a(299));var n=!1,r="",l=Tu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Vo(e,1,!1,null,null,n,!1,r,l),e[en]=t.current,Rr(e.nodeType===8?e.parentNode:e),new Qo(t)},St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=ai(t),e=e===null?null:e.stateNode,e},St.flushSync=function(e){return $n(e)},St.hydrate=function(e,t,n){if(!ss(t))throw Error(a(200));return os(null,e,t,!0,n)},St.hydrateRoot=function(e,t,n){if(!Ko(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Tu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=zu(t,null,e,1,n??null,l,!1,s,i),e[en]=t.current,Rr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ls(t)},St.render=function(e,t,n){if(!ss(t))throw Error(a(200));return os(null,e,t,!1,n)},St.unmountComponentAtNode=function(e){if(!ss(e))throw Error(a(40));return e._reactRootContainer?($n(function(){os(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},St.unstable_batchedUpdates=Oo,St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ss(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return os(e,t,n,!1,r)},St.version="18.3.1-next-f1338f8080-20240426",St}var Vu;function lf(){if(Vu)return Yo.exports;Vu=1;function j(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j)}catch(N){console.error(N)}}return j(),Yo.exports=rf(),Yo.exports}var Wu;function sf(){if(Wu)return as;Wu=1;var j=lf();return as.createRoot=j.createRoot,as.hydrateRoot=j.hydrateRoot,as}var of=sf(),O=Zo();const tc=Xd(O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=j=>j.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uf=j=>j.replace(/^([A-Z])|[\s-_]+(\w)/g,(N,a,C)=>C?C.toUpperCase():a.toLowerCase()),Qu=j=>{const N=uf(j);return N.charAt(0).toUpperCase()+N.slice(1)},nc=(...j)=>j.filter((N,a,C)=>!!N&&N.trim()!==""&&C.indexOf(N)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=O.forwardRef(({color:j="currentColor",size:N=24,strokeWidth:a=2,absoluteStrokeWidth:C,className:L="",children:H,iconNode:k,...V},P)=>O.createElement("svg",{ref:P,...cf,width:N,height:N,stroke:j,strokeWidth:C?Number(a)*24/Number(N):a,className:nc("lucide",L),...V},[...k.map(([h,B])=>O.createElement(h,B)),...Array.isArray(H)?H:[H]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(j,N)=>{const a=O.forwardRef(({className:C,...L},H)=>O.createElement(df,{ref:H,iconNode:N,className:nc(`lucide-${af(Qu(j))}`,`lucide-${j}`,C),...L}));return a.displayName=Qu(j),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hr=rt("check",ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wt=rt("chevron-down",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xr=rt("chevron-left",mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rt=rt("chevron-right",hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],gf=rt("ellipsis-vertical",xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yf=rt("eye",vf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Nf=rt("graduation-cap",wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kf=rt("house",Sf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Cf=rt("maximize-2",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],_f=rt("minimize-2",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],If=rt("pen",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],un=rt("plus",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Lf=rt("redo",Ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mf=rt("rotate-ccw",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Rf=rt("search",Tf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Of=rt("settings",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],$f=rt("undo",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vn=rt("x",Af),Ku={f1:{id:"f1",name:"",expression:"F = ma",description:"",usedFormulas:[],derivableFormulas:["f2","f3"],symbols:[{symbol:"F",meaning:"",unit:"N"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"a",meaning:"",unit:"m/s"}],equivalentExpressions:["ma = F","F = ma"],usedInContexts:[{scenarioId:"s1",stepId:"step1"},{scenarioId:"s2",stepId:"step1"},{scenarioId:"s3",stepId:"step1"},{scenarioId:"s4",stepId:"step1"},{scenarioId:"s5",stepId:"step1"}]},f2:{id:"f2",name:"",expression:"a = F/m",description:"",usedFormulas:["f1"],derivableFormulas:[],symbols:[{symbol:"a",meaning:"",unit:"m/s"},{symbol:"F",meaning:"",unit:"N"},{symbol:"m",meaning:"",unit:"kg"}],usedInContexts:[{scenarioId:"s2",stepId:"step2"}]},f3:{id:"f3",name:"",expression:"m = F/a",description:"",usedFormulas:["f1"],derivableFormulas:[],symbols:[{symbol:"m",meaning:"",unit:"kg"},{symbol:"F",meaning:"",unit:"N"},{symbol:"a",meaning:"",unit:"m/s"}]},f4:{id:"f4",name:"",expression:"v = v + at",description:"",usedFormulas:[],derivableFormulas:["f5","f6"],symbols:[{symbol:"v",meaning:"",unit:"m/s"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"a",meaning:"",unit:"m/s"},{symbol:"t",meaning:"",unit:"s"}],equivalentExpressions:["v - v = at","at = v - v"],usedInContexts:[{scenarioId:"s1",stepId:"step2"},{scenarioId:"s2",stepId:"step3"},{scenarioId:"s3",stepId:"step2"},{scenarioId:"s6",stepId:"step1"}]},f5:{id:"f5",name:"",expression:"s = vt + at",description:"",usedFormulas:["f4"],derivableFormulas:[],symbols:[{symbol:"s",meaning:"",unit:"m"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"t",meaning:"",unit:"s"},{symbol:"a",meaning:"",unit:"m/s"}],usedInContexts:[{scenarioId:"s1",stepId:"step2"},{scenarioId:"s2",stepId:"step3"},{scenarioId:"s6",stepId:"step1"}]},f6:{id:"f6",name:"",expression:"v = v + 2as",description:"",usedFormulas:["f4","f5"],derivableFormulas:[],symbols:[{symbol:"v",meaning:"",unit:"m/s"},{symbol:"v",meaning:"",unit:"m/s"},{symbol:"a",meaning:"",unit:"m/s"},{symbol:"s",meaning:"",unit:"m"}],equivalentExpressions:["v - v = 2as"],usedInContexts:[{scenarioId:"s2",stepId:"step3"},{scenarioId:"s6",stepId:"step2"}]},f7:{id:"f7",name:"",expression:"K = mv",description:"",usedFormulas:[],derivableFormulas:["f8"],symbols:[{symbol:"K",meaning:"",unit:"J"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"v",meaning:"",unit:"m/s"}],usedInContexts:[{scenarioId:"s1",stepId:"step3"},{scenarioId:"s4",stepId:"step2"},{scenarioId:"s5",stepId:"step2"}]},f8:{id:"f8",name:"",expression:"W = K",description:"",usedFormulas:["f7"],derivableFormulas:[],symbols:[{symbol:"W",meaning:"",unit:"J"},{symbol:"K",meaning:"",unit:"J"}],equivalentExpressions:["W = K - K","K = W"],usedInContexts:[{scenarioId:"s4",stepId:"step2"}]},f9:{id:"f9",name:"",expression:"U = mgh",description:"h",usedFormulas:[],derivableFormulas:[],symbols:[{symbol:"U",meaning:"",unit:"J"},{symbol:"m",meaning:"",unit:"kg"},{symbol:"g",meaning:"",unit:"m/s"},{symbol:"h",meaning:"",unit:"m"}],usedInContexts:[{scenarioId:"s1",stepId:"step3"}]},f10:{id:"f10",name:"",expression:"K + U = ",description:"",usedFormulas:["f7","f9"],derivableFormulas:[],symbols:[{symbol:"K",meaning:"",unit:"J"},{symbol:"U",meaning:"",unit:"J"}],equivalentExpressions:["E = K + U = ","K + U = K + U"],usedInContexts:[{scenarioId:"s1",stepId:"step3"},{scenarioId:"s5",stepId:"step2"}]}},qu=[{id:"s1",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f4","f5"]},{id:"step3",name:"3",formulaIds:["f7","f9","f10"]}]},{id:"s2",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f2"]},{id:"step3",name:"3",formulaIds:["f4","f5","f6"]}]},{id:"s3",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f4"]}]},{id:"s4",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f7","f8"]}]},{id:"s5",name:"",icon:"~",steps:[{id:"step1",name:"1",formulaIds:["f1"]},{id:"step2",name:"2",formulaIds:["f7","f10"]}]},{id:"s6",name:"",icon:"",steps:[{id:"step1",name:"1",formulaIds:["f4","f5"]},{id:"step2",name:"2",formulaIds:["f6"]}]}],Ju="mechanics_formulas",Yu="mechanics_scenarios",kt="uncategorized";class Bf{formulas;scenarios;listeners=new Set;constructor(){const N=localStorage.getItem(Ju),a=localStorage.getItem(Yu);this.formulas=N?JSON.parse(N):{...Ku},this.scenarios=a?JSON.parse(a):[...qu],this.migrateOldDataFormat(),this.ensureUncategorizedScenario()}migrateOldDataFormat(){let N=!1;this.scenarios.forEach(a=>{a.steps.forEach(C=>{C.formulas&&!C.formulaIds?(N=!0,C.formulaIds=C.formulas.map(L=>L.id||L),delete C.formulas):C.formulaIds||(C.formulaIds=[])})}),N&&this.persist()}ensureUncategorizedScenario(){this.scenarios.some(a=>a.id===kt)||this.scenarios.unshift({id:kt,name:"",icon:"",steps:[{id:"uncategorized-step",name:"",formulaIds:[]}]})}getFormulas(){return this.formulas}getFormula(N){return this.formulas[N]}saveFormula(N){if(this.formulas[N.id]=N,this.scenarios.forEach(a=>{a.steps.forEach(C=>{C.formulaIds=C.formulaIds.filter(L=>L!==N.id)})}),N.usedInContexts&&N.usedInContexts.length>0)N.usedInContexts.forEach(a=>{const C=this.scenarios.find(L=>L.id===a.scenarioId);if(C){const L=C.steps.find(H=>H.id===a.stepId);L&&L.formulaIds.push(N.id)}});else{const a=this.scenarios.find(C=>C.id===kt);a&&a.steps[0]&&a.steps[0].formulaIds.push(N.id)}this.persist(),this.notifyListeners()}deleteFormula(N){delete this.formulas[N],this.scenarios.forEach(a=>{a.steps.forEach(C=>{C.formulaIds=C.formulaIds.filter(L=>L!==N)})}),this.persist(),this.notifyListeners()}getScenarios(){return this.scenarios}getRootScenarios(){return this.scenarios.filter(N=>!N.parentId)}getChildScenarios(N){return this.scenarios.filter(a=>a.parentId===N)}getScenario(N){return this.scenarios.find(a=>a.id===N)}saveScenario(N){const a=this.scenarios.findIndex(C=>C.id===N.id);a>=0?this.scenarios[a]=N:this.scenarios.push(N),this.persist(),this.notifyListeners()}addStep(N,a){const C=this.scenarios.find(L=>L.id===N);if(C){const L={id:`step-${Date.now()}`,name:a,formulaIds:[]};C.steps.push(L),this.persist(),this.notifyListeners()}}deleteStep(N,a){const C=this.scenarios.find(L=>L.id===N);if(C){const L=C.steps.find(H=>H.id===a);L&&L.formulaIds.forEach(H=>{const k=this.formulas[H];if(k&&k.usedInContexts&&(k.usedInContexts=k.usedInContexts.filter(V=>!(V.scenarioId===N&&V.stepId===a)),k.usedInContexts.length===0)){const V=this.scenarios.find(P=>P.id===kt);V&&V.steps[0]&&V.steps[0].formulaIds.push(H)}}),C.steps=C.steps.filter(H=>H.id!==a),this.persist(),this.notifyListeners()}}addFormulaToStep(N,a,C){const L=this.scenarios.find(h=>h.id===N);if(!L)return;const H=L.steps.find(h=>h.id===a);if(!H)return;const k=this.formulas[C];if(!k)return;H.formulaIds.includes(C)||H.formulaIds.push(C),k.usedInContexts||(k.usedInContexts=[]),k.usedInContexts.some(h=>h.scenarioId===N&&h.stepId===a)||k.usedInContexts.push({scenarioId:N,stepId:a});const P=this.scenarios.find(h=>h.id===kt);P&&P.steps[0]&&(P.steps[0].formulaIds=P.steps[0].formulaIds.filter(h=>h!==C)),this.persist(),this.notifyListeners()}removeFormulaFromStep(N,a,C){const L=this.scenarios.find(V=>V.id===N);if(!L)return;const H=L.steps.find(V=>V.id===a);if(!H)return;const k=this.formulas[C];if(k){if(H.formulaIds=H.formulaIds.filter(V=>V!==C),k.usedInContexts&&(k.usedInContexts=k.usedInContexts.filter(V=>!(V.scenarioId===N&&V.stepId===a)),k.usedInContexts.length===0)){const V=this.scenarios.find(P=>P.id===kt);V&&V.steps[0]&&(V.steps[0].formulaIds.includes(C)||V.steps[0].formulaIds.push(C))}this.persist(),this.notifyListeners()}}deleteScenario(N){if(N===kt)return;this.getChildScenarios(N).forEach(C=>this.deleteScenario(C.id)),this.scenarios=this.scenarios.filter(C=>C.id!==N),this.persist(),this.notifyListeners()}subscribe(N){return this.listeners.add(N),()=>{this.listeners.delete(N)}}notifyListeners(){this.listeners.forEach(N=>N())}persist(){localStorage.setItem(Ju,JSON.stringify(this.formulas)),localStorage.setItem(Yu,JSON.stringify(this.scenarios))}reset(){this.formulas={...Ku},this.scenarios=[...qu],this.persist(),this.notifyListeners()}}const he=new Bf;function us({currentPage:j,onNavigateHome:N,onNavigateLearning:a}){return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-nav border-t border-border",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:N,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${j==="home"?"text-primary":"text-muted-foreground"}`,children:o.jsx(kf,{className:"w-6 h-6"})}),o.jsx("button",{onClick:a,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${j==="learning"?"text-primary":"text-muted-foreground"}`,children:o.jsx(Nf,{className:"w-6 h-6"})})]})})}function gr({root:j,fallback:N,className:a,maskBlocks:C=[],isMaskRevealed:L,onRevealMask:H}){const k=(P,h)=>o.jsx("span",{className:"inline-flex items-center gap-0.5 leading-none",children:P.children.map((B,ee)=>o.jsx(tc.Fragment,{children:V(B,[...h,ee])},`${h.join("-")}-${ee}`))}),V=(P,h)=>{const B=`formula-${h.join("-")}`,ee=C.find(U=>U.id===B);if(ee&&!(L?L(ee.id):!0))return o.jsx("button",{type:"button",onClick:()=>H?.(ee.id),className:"inline-block px-2 py-0.5 mx-0.5 rounded bg-muted/50 text-muted-foreground hover:bg-muted transition-colors",children:"?"});switch(P.type){case"symbol":return o.jsx("span",{className:"font-mono leading-none",children:P.value});case"number":return o.jsx("span",{className:"font-mono leading-none",children:P.text});case"fraction":return o.jsxs("span",{className:"inline-grid mx-1 align-middle justify-items-center",style:{lineHeight:1},children:[o.jsx("span",{className:"px-1",style:{paddingBottom:"0.20em"},children:k(P.numerator,[...h,"numerator"])}),o.jsx("span",{className:"w-full border-t border-foreground/70",style:{marginTop:"0.10em",marginBottom:"0.10em"},"aria-hidden":"true"}),o.jsx("span",{className:"px-1",style:{paddingTop:"0.42em"},children:k(P.denominator,[...h,"denominator"])})]});case"superscript":return o.jsxs("span",{className:"inline-flex items-start",children:[k(P.base,[...h,"base"]),o.jsx("sup",{className:"text-xs ml-0.5 leading-none",children:k(P.exponent,[...h,"exponent"])})]});case"subscript":return o.jsxs("span",{className:"inline-flex items-center leading-none",children:[k(P.base,[...h,"base"]),o.jsx("sub",{className:"text-xs ml-0.5 leading-none",children:k(P.index,[...h,"index"])})]});case"sqrt":return o.jsx("span",{className:"inline-block mx-0.5 align-bottom leading-none",children:o.jsxs("span",{className:"inline-flex items-center leading-none",children:[o.jsx("span",{className:"mr-0.5 leading-none",children:""}),o.jsx("span",{className:"border-t border-foreground/70 px-0.5",style:{paddingTop:"0.14em"},children:k(P.content,[...h,"content"])})]})});case"abs":return o.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[o.jsx("span",{className:"mx-0.5",children:"|"}),k(P.content,[...h,"content"]),o.jsx("span",{className:"mx-0.5",children:"|"})]});case"function":return o.jsxs("span",{className:"inline-flex items-baseline mx-0.5",children:[o.jsx("span",{className:"font-mono",children:P.name}),o.jsx("span",{className:"mx-0.5",children:"("}),k(P.argument,[...h,"argument"]),o.jsx("span",{className:"mx-0.5",children:")"})]});case"sum":return o.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[o.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[o.jsx("span",{className:"text-base leading-none",children:""}),o.jsx("sub",{className:"text-[10px] leading-none",children:k(P.lower,[...h,"lower"])}),o.jsx("sup",{className:"text-[10px] leading-none",children:k(P.upper,[...h,"upper"])})]}),k(P.body,[...h,"body"])]});case"integral":return o.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[o.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[o.jsx("span",{className:"text-base leading-none",children:""}),o.jsx("sub",{className:"text-[10px] leading-none",children:k(P.lower,[...h,"lower"])}),o.jsx("sup",{className:"text-[10px] leading-none",children:k(P.upper,[...h,"upper"])})]}),k(P.body,[...h,"body"])]});default:return null}};return j?o.jsx("span",{className:a,children:k(j,[])}):N?o.jsx("span",{className:a,children:N}):null}function Hf({onScenarioClick:j,onFormulaClick:N,onCreateFormula:a,onLearningClick:C}){const[L,H]=O.useState("scenario"),[k,V]=O.useState(""),[P,h]=O.useState(new Set([kt])),[B,ee]=O.useState(null),[U,re]=O.useState(null),[Q,G]=O.useState(null),[Y,xe]=O.useState(""),X=O.useRef(null),oe=O.useRef(!1),be=(()=>{if(!k.trim())return[];const y=k.toLowerCase(),b=[],d=he.getFormulas();return Object.values(d).forEach(p=>{(p.name.toLowerCase().includes(y)||p.expression.toLowerCase().includes(y))&&b.push({type:"formula",id:p.id,name:p.name,secondaryInfo:p.expression})}),L==="scenario"&&he.getScenarios().forEach(z=>{z.name.toLowerCase().includes(y)&&b.push({type:"scenario",id:z.id,name:z.name}),z.steps.forEach(R=>{R.name.toLowerCase().includes(y)&&b.push({type:"step",id:R.id,name:R.name,secondaryInfo:z.name,scenarioId:z.id,stepId:R.id})})}),b})(),Se=k.trim().length>0,Ce=y=>{y.type==="formula"?N(y.id):y.type==="scenario"?j(y.id):y.type==="step"&&y.scenarioId&&y.stepId&&j(y.scenarioId,y.stepId),V("")},Te=y=>{const b=new Set(P);b.has(y)?b.delete(y):b.add(y),h(b)},Re=(y,b,d)=>{oe.current=!1,X.current=setTimeout(()=>{oe.current=!0;const p=y.target.getBoundingClientRect();ee({type:b,id:d,x:p.left+p.width/2,y:p.top+p.height/2})},500)},te=()=>{X.current&&(clearTimeout(X.current),X.current=null)},ve=()=>{X.current&&(clearTimeout(X.current),X.current=null),B||(oe.current=!1)},ye=(y,b)=>{y.stopPropagation(),oe.current||b(),setTimeout(()=>{oe.current=!1},100)},Ne=(y,b)=>{const d=y==="scenario"?he.getScenario(b)?.name||"":he.getFormula(b)?.name||"";re({type:y,id:b,name:d}),ee(null)},I=()=>{if(U){if(U.type==="scenario"){const y=he.getScenario(U.id);y&&he.saveScenario({...y,name:U.name})}else{const y=he.getFormula(U.id);y&&he.saveFormula({...y,name:U.name})}re(null)}},$=(y,b)=>{const d=y==="scenario"?"":"";window.confirm(d)&&(y==="scenario"?he.deleteScenario(b):he.deleteFormula(b)),ee(null)},se=y=>{G({parentId:y}),xe(""),ee(null)},J=()=>{if(!Y.trim())return;const y={id:`scenario-${Date.now()}`,name:Y.trim(),icon:"",parentId:Q?.parentId,steps:[{id:`step-${Date.now()}`,name:"",formulaIds:[]}]};he.saveScenario(y),G(null),xe("")},_=(y,b=0)=>(y?he.getChildScenarios(y):he.getRootScenarios()).map(p=>{const z=P.has(p.id),R=he.getChildScenarios(p.id).length>0;return p.id,o.jsxs("div",{children:[o.jsx("div",{className:"relative group",children:o.jsxs("button",{onTouchStart:E=>Re(E,"scenario",p.id),onTouchEnd:te,onTouchCancel:ve,onMouseDown:E=>Re(E,"scenario",p.id),onMouseUp:te,onMouseLeave:ve,onClick:E=>ye(E,()=>{R?Te(p.id):j(p.id)}),className:"w-full glass-card rounded-xl px-4 py-3 hover:shadow-md transition-all text-left flex items-center gap-3",style:{marginLeft:`${b*1.25}rem`},children:[R&&o.jsx("div",{className:"text-primary",children:z?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})}),o.jsx("div",{className:"flex-1 text-card-foreground",children:p.name})]})}),z&&R&&o.jsx("div",{className:"mt-2 space-y-2",children:_(p.id,b+1)})]},p.id)});return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"bg-background px-4 pt-3 pb-2 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",value:k,onChange:y=>V(y.target.value),placeholder:L==="scenario"?"...":"...",className:"w-full pl-10 pr-3 py-2.5 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"})]}),o.jsx("button",{onClick:a,className:"px-3 py-2.5 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity flex items-center gap-1",children:o.jsx(un,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex gap-1 p-1 glass-card rounded-xl",children:[o.jsx("button",{onClick:()=>H("scenario"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${L==="scenario"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""}),o.jsx("button",{onClick:()=>H("formula"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${L==="formula"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""})]}),Se&&o.jsx("div",{className:"absolute left-4 right-4 mt-2 glass-card rounded-xl shadow-lg max-h-80 overflow-y-auto z-50 border border-border",children:be.length===0?o.jsx("div",{className:"px-4 py-8 text-sm text-muted-foreground text-center",children:""}):be.map((y,b)=>o.jsx("button",{onClick:()=>Ce(y),className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 transition-colors first:rounded-t-xl last:rounded-b-xl",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-md",children:[y.type==="formula"&&"",y.type==="scenario"&&"",y.type==="step"&&""]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-foreground",children:y.name}),y.secondaryInfo&&o.jsx("div",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:y.secondaryInfo})]})]})},`${y.type}-${y.id}-${b}`))})]}),o.jsx("main",{className:"flex-1 p-4 pb-20 overflow-y-auto space-y-2",children:L==="scenario"?o.jsxs(o.Fragment,{children:[_(),o.jsxs("button",{onClick:()=>se(),className:"w-full glass-card rounded-2xl px-4 py-3 text-sm text-muted-foreground hover:shadow-md hover:text-primary transition-all flex items-center justify-center gap-2 border border-dashed border-primary/30",children:[o.jsx(un,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}):Object.values(he.getFormulas()).map(y=>o.jsx("div",{className:"relative group",children:o.jsxs("button",{onTouchStart:b=>Re(b,"formula",y.id),onTouchEnd:te,onTouchCancel:ve,onMouseDown:b=>Re(b,"formula",y.id),onMouseUp:te,onMouseLeave:ve,onClick:b=>ye(b,()=>N(y.id)),className:"w-full glass-card rounded-2xl px-4 py-3 hover:shadow-md transition-all text-left",children:[o.jsx("div",{className:"text-foreground mb-1",children:y.name}),o.jsx("div",{className:"text-sm text-muted-foreground font-mono",children:y.structureTree||y.structureData?o.jsx(gr,{root:y.structureTree||y.structureData,fallback:y.structureTree||y.structureData?o.jsx(gr,{root:y.structureTree||y.structureData,fallback:y.expression,maskBlocks:[],className:""}):y.expression,maskBlocks:[],className:""}):y.expression})]})},y.id))}),o.jsx(us,{currentPage:"home",onNavigateHome:()=>{},onNavigateLearning:C}),B&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>ee(null)}),o.jsxs("div",{className:"fixed glass-card rounded-2xl shadow-2xl py-2 z-50 min-w-[160px]",style:{left:`${B.x}px`,top:`${B.y}px`,transform:"translate(-50%, -50%)"},children:[o.jsx("button",{onClick:()=>Ne(B.type,B.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),B.type==="scenario"&&o.jsx("button",{onClick:()=>se(B.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),B.id!==kt&&o.jsx("button",{onClick:()=>$(B.type,B.id),className:"w-full px-5 py-3 text-left text-sm text-destructive hover:bg-destructive/5 transition-colors",children:""})]})]}),U&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>re(null)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:o.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[o.jsx("h3",{className:"text-foreground mb-4",children:U.type==="scenario"?"":""}),o.jsx("input",{type:"text",value:U.name,onChange:y=>re({...U,name:y.target.value}),onKeyDown:y=>{y.key==="Enter"&&I(),y.key==="Escape"&&re(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>re(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),o.jsx("button",{onClick:I,className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity",children:""})]})]})})]}),Q&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>G(null)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:o.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[o.jsx("h3",{className:"text-foreground mb-4",children:Q.parentId?"":""}),o.jsx("input",{type:"text",value:Y,onChange:y=>xe(y.target.value),onKeyDown:y=>{y.key==="Enter"&&J(),y.key==="Escape"&&G(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>G(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),o.jsx("button",{onClick:J,disabled:!Y.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function Vf({scenarioId:j,targetStepId:N,onBack:a,onFormulaClick:C,onLearningClick:L}){const[H,k]=O.useState(()=>he.getScenario(j)),[V,P]=O.useState(new Set),[h,B]=O.useState(!1),[ee,U]=O.useState(""),[re,Q]=O.useState(null),[G,Y]=O.useState(null),xe=(te,ve)=>{const $=window.innerWidth||0,se=window.innerHeight||0;let J=ve?ve.right-220:$-220-12,_=ve?ve.bottom+8:12;J<12&&(J=12),J+220>$-12&&(J=Math.max(12,$-220-12)),_+110>se-12&&ve&&(_=ve.top-110-8),_<12&&(_=12),Y({stepId:te,x:J,y:_})},X=()=>{Y(null)};if(O.useEffect(()=>{if(!G)return;const te=ve=>{ve.key==="Escape"&&X()};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[G]),O.useEffect(()=>he.subscribe(()=>{k(he.getScenario(j))}),[j]),!H)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"text-muted-foreground",children:""})});const oe=te=>{const ve=new Set(V);ve.has(te)?ve.delete(te):ve.add(te),P(ve)},we=()=>{P(new Set(H.steps.map(te=>te.id)))},be=()=>{P(new Set)};O.useEffect(()=>{N&&P(new Set([N]))},[N]);const Se=()=>{ee.trim()&&(he.addStep(j,ee),U(""),B(!1))},Ce=te=>{confirm("")&&he.deleteStep(j,te)},Te=(te,ve)=>{he.addFormulaToStep(j,te,ve),Q(null)},Re=(te,ve,ye)=>{ye.stopPropagation(),he.removeFormulaFromStep(j,te,ve)};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[G&&o.jsx("div",{className:"fixed inset-0 z-50",onPointerDown:()=>X(),onContextMenu:te=>te.preventDefault(),children:o.jsxs("div",{className:"absolute bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md shadow-xl rounded-xl border border-border p-1 min-w-[200px]",style:{left:G.x,top:G.y},onPointerDown:te=>te.stopPropagation(),children:[o.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors",onClick:()=>{Q(G.stepId),X()},children:" "}),o.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors text-red-600",onClick:()=>{Ce(G.stepId),X()},children:""})]})}),o.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[o.jsx("button",{onClick:a,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:o.jsx(xr,{className:"w-5 h-5 text-foreground"})}),o.jsx("h1",{className:"flex-1 text-center text-foreground",children:H.name}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:we,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:o.jsx(Cf,{className:"w-5 h-5"})}),o.jsx("button",{onClick:be,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:o.jsx(_f,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>B(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:o.jsx(un,{className:"w-5 h-5"})})]})]}),o.jsx("main",{className:"flex-1 p-4 pb-4 overflow-y-auto space-y-2",children:H.steps.map((te,ve)=>{const ye=V.has(te.id);return o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 flex items-center justify-between select-none",onContextMenu:Ne=>{Ne.preventDefault(),xe(te.id,Ne.currentTarget?.getBoundingClientRect?.())},children:[o.jsxs("button",{type:"button",onClick:()=>oe(te.id),className:"flex items-center gap-2 flex-1 text-left",children:[o.jsx(Wt,{className:`w-4 h-4 transition-transform ${ye?"rotate-180":""}`}),o.jsxs("span",{className:"font-medium text-foreground",children:["",ve+1,": ",te.name]})]}),o.jsx("button",{type:"button","aria-label":"",onClick:Ne=>{Ne.stopPropagation(),xe(te.id,Ne.currentTarget.getBoundingClientRect())},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-xl transition-colors",children:o.jsx(gf,{className:"w-4 h-4"})})]}),ye&&o.jsxs("div",{className:"border-t border-border",children:[(te.formulaIds||[]).map(Ne=>{const I=he.getFormula(Ne);return I?o.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[o.jsxs("button",{onClick:()=>C(I.id),className:"flex-1 text-left",children:[o.jsx("div",{className:"text-sm text-foreground mb-1",children:I.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsx(gr,{root:I.structureTree||I.structureData,fallback:I.expression,className:"text-sm text-muted-foreground"})})]}),j!==kt&&o.jsx("button",{onClick:$=>Re(te.id,Ne,$),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-colors",children:o.jsx(Vn,{className:"w-4 h-4"})})]},I.id):null}),j!==kt&&o.jsx("div",{className:"p-4",children:re===te.id?o.jsx("div",{className:"glass-card rounded-xl max-h-60 overflow-y-auto",children:Object.values(he.getFormulas()).map(Ne=>{const I=te.formulaIds.includes(Ne.id);return o.jsxs("button",{onClick:()=>Te(te.id,Ne.id),disabled:I,className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:[o.jsx("div",{className:"text-sm text-foreground",children:Ne.name}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Ne.expression})]},Ne.id)})}):o.jsx("div",{className:"text-xs text-muted-foreground px-1",children:" / "})})]})]},te.id)})}),o.jsx(us,{currentPage:"home",onNavigateHome:a,onNavigateLearning:L}),h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>B(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:o.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[o.jsx("h2",{className:"text-foreground mb-4",children:""}),o.jsx("input",{type:"text",value:ee,onChange:te=>U(te.target.value),onKeyDown:te=>{te.key==="Enter"&&Se(),te.key==="Escape"&&B(!1)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>B(!1),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),o.jsx("button",{onClick:Se,disabled:!ee.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function Wf({formulaId:j,onBack:N,onEdit:a,onLearningClick:C,onFormulaClick:L,onContextClick:H}){const k=he.getFormula(j),[V,P]=O.useState(!1),[h,B]=O.useState(!1),[ee,U]=O.useState(!1);return k?o.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[o.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[o.jsx("button",{onClick:N,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:o.jsx(xr,{className:"w-5 h-5 text-foreground"})}),o.jsx("h1",{className:"flex-1 text-center text-foreground",children:k.name}),o.jsx("button",{onClick:a,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:o.jsx(If,{className:"w-5 h-5"})})]}),o.jsxs("main",{className:"flex-1 p-4 pb-4 space-y-3 overflow-y-auto",children:[o.jsx("div",{className:"glass-card rounded-2xl p-5",children:o.jsx("div",{className:"text-2xl text-foreground text-center",children:o.jsx(gr,{root:k.structureTree||k.structureData,fallback:k.expression,className:"",maskBlocks:[]})})}),k.usedInContexts&&k.usedInContexts.length>0&&o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>B(!h),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),o.jsx("div",{className:"text-primary",children:h?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),h&&o.jsx("div",{className:"border-t border-border",children:k.usedInContexts.map((re,Q)=>{const Y=he.getScenarios().find(X=>X.id===re.scenarioId),xe=Y?.steps.find(X=>X.id===re.stepId);return o.jsxs("button",{onClick:()=>H(re.scenarioId,re.stepId),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[o.jsx("div",{className:"text-foreground text-sm",children:Y?.name}),o.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:xe?.name})]},Q)})})]}),k.symbols&&k.symbols.length>0&&o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>U(!ee),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),o.jsx("div",{className:"text-primary",children:ee?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),ee&&o.jsx("div",{className:"border-t border-border",children:k.symbols.map((re,Q)=>o.jsxs("div",{className:"px-5 py-3 flex items-center gap-4 text-sm border-b border-border last:border-b-0",children:[o.jsx("div",{className:"font-mono text-foreground text-lg w-10 text-center",children:re.symbol}),o.jsx("div",{className:"flex-1 text-foreground",children:re.meaning}),re.unit&&o.jsx("div",{className:"text-muted-foreground text-xs",children:re.unit})]},Q))})]}),k.equivalentExpressions&&k.equivalentExpressions.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),o.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.equivalentExpressions.map((re,Q)=>o.jsx("div",{className:"px-5 py-3 text-sm font-mono text-foreground",children:re},Q))})]}),k.description&&o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>P(!V),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),o.jsx("div",{className:"text-primary",children:V?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),V&&o.jsx("div",{className:"px-5 py-4 pt-2 text-sm text-foreground leading-relaxed border-t border-border",children:k.description})]}),k.usedFormulas.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),o.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.usedFormulas.map(re=>{const Q=he.getFormula(re);return Q?o.jsxs("button",{onClick:()=>L(re),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"text-sm text-foreground mb-1",children:Q.name}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Q.expression})]},re):null})})]}),k.derivableFormulas.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),o.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.derivableFormulas.map(re=>{const Q=he.getFormula(re);return Q?o.jsxs("button",{onClick:()=>L(re),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"text-sm text-foreground mb-1",children:Q.name}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Q.expression})]},re):null})})]})]}),o.jsx(us,{currentPage:"home",onNavigateHome:N,onNavigateLearning:C})]}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[o.jsx("button",{onClick:N,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:o.jsx(xr,{className:"w-5 h-5 text-foreground"})}),o.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),o.jsx("div",{className:"w-9"})]}),o.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-muted-foreground mb-6",children:""}),o.jsx("button",{onClick:N,className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity",children:""})]})})]})}function Qf({selectedScenarioIds:j,onToggleScenario:N,contentTypes:a,onToggleContentType:C,stepCoverMode:L,onStepCoverModeChange:H,mode:k,ratio:V,isRandom:P,onModeChange:h,onRatioChange:B,onToggleRandom:ee,onApply:U,onClose:re}){const Q=he.getScenarios(),G=j.length>0&&a.length>0;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:re}),o.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-full max-w-md bg-background shadow-2xl z-50 overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-5 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-foreground",children:""}),o.jsx("button",{onClick:re,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted/10 rounded-xl transition-colors",children:o.jsx(Vn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-5 space-y-6 pb-32",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),o.jsx("div",{className:"space-y-2",children:Q.map(Y=>o.jsxs("button",{onClick:()=>N(Y.id),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${j.includes(Y.id)?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${j.includes(Y.id)?"border-primary bg-primary":"border-muted-foreground"}`,children:j.includes(Y.id)&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:Y.name})]},Y.id))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>C("formula"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("formula")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("formula")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("formula")&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:""})]}),o.jsxs("button",{onClick:()=>C("symbols"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("symbols")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("symbols")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("symbols")&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:""})]}),o.jsxs("button",{onClick:()=>C("relations"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("relations")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("relations")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("relations")&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:""})]}),o.jsxs("button",{onClick:()=>C("steps"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("steps")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("steps")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("steps")&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:""})]})]})]}),a.length>0&&o.jsxs(o.Fragment,{children:[(a.includes("formula")||a.includes("symbols"))&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>h("left"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="left"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),o.jsx("button",{onClick:()=>h("right"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="right"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),o.jsx("button",{onClick:()=>h("whole"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="whole"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),a.includes("steps")&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>H("title"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${L==="title"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),o.jsx("button",{onClick:()=>H("formulas"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${L==="formulas"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),o.jsx("button",{onClick:()=>H("random"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${L==="random"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:[30,50,70,100].map(Y=>o.jsxs("button",{onClick:()=>B(Y),className:`py-2.5 rounded-xl text-sm transition-all ${V===Y?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:[Y,"%"]},Y))})]}),o.jsx("div",{children:o.jsxs("button",{onClick:ee,className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${P?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${P?"border-primary bg-primary":"border-muted-foreground"}`,children:P&&o.jsx(hr,{className:"w-3 h-3 text-primary-foreground"})}),o.jsx("span",{className:"flex-1 text-foreground",children:""})]})})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md ml-auto glass-nav px-5 py-4",children:o.jsx("button",{onClick:U,disabled:!G,className:"w-full py-4 bg-primary text-primary-foreground rounded-2xl shadow-lg hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:G?" / ":""})})]})]})}function Kf({onBack:j,onNavigateHome:N}){const[a,C]=O.useState(!1),[L,H]=O.useState([]),[k,V]=O.useState(["formula"]),[P,h]=O.useState("right"),[B,ee]=O.useState(50),[U,re]=O.useState(!0),[Q,G]=O.useState("random"),[Y,xe]=O.useState(!1),[X,oe]=O.useState(new Set),[we,be]=O.useState(0),[Se,Ce]=O.useState([]),Te=()=>{const p=new Set;L.forEach(R=>{const E=he.getScenario(R);E&&E.steps.forEach(W=>{W.formulaIds.forEach(Z=>p.add(Z))})});const z=[];return p.forEach(R=>{const E=he.getFormula(R);E&&z.push(E)}),z},Re=()=>{const p=[];return L.forEach(z=>{const R=he.getScenario(z);R&&R.steps.forEach(E=>{p.push({scenarioId:z,scenarioName:R.name,stepId:E.id,stepName:E.name,formulaIds:E.formulaIds||[]})})}),p},te=p=>{if(Q==="title"?!0:Q==="formulas"?!1:Math.random()<.5)return[{id:`step-${p.stepId}-title`,content:{kind:"title"}}];const R=p.formulaIds||[];if(R.length===0)return[{id:`step-${p.stepId}-title`,content:{kind:"title"}}];const E=Math.max(1,Math.ceil(R.length*(B/100)));let W;return U?W=[...Array(R.length).keys()].sort(()=>Math.random()-.5).slice(0,E):W=[...Array(R.length).keys()].slice(0,E),W.map(Z=>({id:`step-${p.stepId}-formula-${Z}`,content:{kind:"formula",index:Z}}))},ve=(p,z=[])=>{const R=[],E=(W,Z)=>{W.children.forEach((K,ce)=>{const me=[...Z,ce];R.push(me),K.type==="fraction"?(E(K.numerator,[...me,"numerator"]),E(K.denominator,[...me,"denominator"])):K.type==="superscript"?(E(K.base,[...me,"base"]),E(K.exponent,[...me,"exponent"])):K.type==="subscript"?(E(K.base,[...me,"base"]),E(K.index,[...me,"index"])):K.type==="sqrt"||K.type==="abs"?E(K.content,[...me,"content"]):K.type==="sum"||K.type==="integral"?(E(K.lower,[...me,"lower"]),E(K.upper,[...me,"upper"]),E(K.body,[...me,"body"])):K.type==="function"&&E(K.argument,[...me,"argument"])})};return E(p,z),R},ye=p=>{for(let z=0;z<p.children.length;z++){const R=p.children[z];if(R.type==="symbol"&&R.value==="=")return z}return-1},Ne=p=>{const z=ve(p),R=ye(p);let E=[];P==="left"&&R>=0?E=z.filter(K=>{const ce=K[0];return typeof ce=="number"&&ce<R}):P==="right"&&R>=0?E=z.filter(K=>{const ce=K[0];return typeof ce=="number"&&ce>R}):E=z;const W=Math.ceil(E.length*(B/100));let Z;return U?Z=[...E].sort(()=>Math.random()-.5).slice(0,W):Z=E.slice(0,W),Z.map(K=>({id:`formula-${K.join("-")}`,content:K}))},I=p=>{const z=Math.ceil(p.length*(B/100));let R;return U?R=p.map((W,Z)=>Z).sort(()=>Math.random()-.5).slice(0,z):R=Array.from({length:z},(E,W)=>W),R.map(E=>({id:`symbol-${E}-${P}`,content:{index:E,mode:P}}))},$=p=>{const z=Math.ceil(p.length*(B/100));let R;return U?R=p.map((W,Z)=>Z).sort(()=>Math.random()-.5).slice(0,z):R=Array.from({length:z},(E,W)=>W),R.map(E=>({id:`relation-${E}`,content:E}))},se=()=>{const p=Te(),z=Re(),R=[];if(p.forEach(W=>{if(k.includes("formula")&&(W.structureTree||W.structureData)){const Z=W.structureTree||W.structureData,K=Ne(Z);R.push({type:"formula",formula:W,maskBlocks:K})}if(k.includes("symbols")&&W.symbols&&W.symbols.length>0){const Z=I(W.symbols);R.push({type:"symbols",formula:W,maskBlocks:Z})}if(k.includes("relations")){const Z=[...W.usedFormulas||[],...W.derivableFormulas||[],...W.equivalentExpressions||[]];if(Z.length>0){const K=$(Z);R.push({type:"relations",formula:W,maskBlocks:K})}}}),k.includes("steps")&&z.forEach(W=>{const Z=te({stepId:W.stepId,formulaIds:W.formulaIds});R.push({type:"steps",step:W,maskBlocks:Z})}),R.length===0){alert("");return}const E=U?[...R].sort(()=>Math.random()-.5):R;Ce(E),be(0),xe(!0),oe(new Set),C(!1)},J=()=>{if(!Y||Se.length===0)return o.jsx("div",{className:"text-center py-16",children:o.jsxs("div",{className:"text-muted-foreground",children:["",o.jsx("br",{})," / "]})});const p=Se[we];if(p.type==="steps"&&p.step){const E=p.step,W=ce=>{const me=new Set(X);me.add(ce),oe(me)},Z=`step-${E.stepId}-title`,K=p.maskBlocks.some(ce=>ce.id===Z)&&!X.has(Z);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:E.scenarioName}),K?o.jsx("button",{onClick:()=>W(Z),className:"inline-block px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):o.jsx("div",{className:"text-xl text-foreground font-medium",children:E.stepName})]}),o.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),o.jsxs("div",{className:"space-y-2",children:[(E.formulaIds||[]).length===0&&o.jsx("div",{className:"text-sm text-muted-foreground",children:""}),(E.formulaIds||[]).map((ce,me)=>{const Ge=he.getFormula(ce);if(!Ge)return null;const It=`step-${E.stepId}-formula-${me}`;return p.maskBlocks.some(Qe=>Qe.id===It)&&!X.has(It)?o.jsx("button",{onClick:()=>W(It),className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},ce):o.jsx("div",{className:"font-mono text-foreground",children:Ge.expression},ce)})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:""})]})}const z=p.formula,R=p.type==="formula"?z.structureTree||z.structureData:null;return o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:z.name||z.expression}),R&&o.jsx("div",{className:"text-3xl inline-block",children:o.jsx(gr,{root:R,fallback:z.expression,className:"",maskBlocks:p.type==="formula"?p.maskBlocks:[],isMaskRevealed:E=>X.has(E),onRevealMask:E=>{oe(W=>new Set([...Array.from(W),E]))}})})]}),p.type==="symbols"&&o.jsx("div",{className:"space-y-3",children:z.symbols.map((E,W)=>{const Z=p.maskBlocks.find(me=>me.content.index===W),K=Z&&X.has(Z.id),ce=Z?.content.mode;return o.jsxs("div",{className:"glass-card rounded-2xl p-4 flex items-center gap-4",children:[ce==="left"&&Z&&!K?o.jsx("button",{onClick:()=>{const me=new Set(X);me.add(Z.id),oe(me)},className:"w-12 text-center px-2 py-0.5 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):o.jsx("div",{className:"text-2xl font-mono w-12 text-center",children:E.symbol}),(ce==="right"||ce==="whole")&&Z&&!K?o.jsx("button",{onClick:()=>{const me=new Set(X);me.add(Z.id),oe(me)},className:"flex-1 px-3 py-1 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-foreground",children:E.meaning}),E.unit&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[": ",E.unit]})]})]},W)})}),p.type==="relations"&&o.jsxs("div",{className:"space-y-3",children:[z.usedFormulas&&z.usedFormulas.length>0&&o.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),o.jsx("div",{className:"space-y-2",children:z.usedFormulas.map((E,W)=>{const Z=he.getFormula(E);if(!Z)return null;const K=p.maskBlocks.find(me=>me.content===W),ce=K&&X.has(K.id);return K&&!ce?o.jsx("button",{onClick:()=>{const me=new Set(X);me.add(K.id),oe(me)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},E):o.jsx("div",{className:"font-mono text-foreground",children:Z.expression},E)})})]}),z.derivableFormulas&&z.derivableFormulas.length>0&&o.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),o.jsx("div",{className:"space-y-2",children:z.derivableFormulas.map((E,W)=>{const Z=he.getFormula(E);if(!Z)return null;const K=z.usedFormulas?.length||0,ce=p.maskBlocks.find(Ge=>Ge.content===K+W),me=ce&&X.has(ce.id);return ce&&!me?o.jsx("button",{onClick:()=>{const Ge=new Set(X);Ge.add(ce.id),oe(Ge)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},E):o.jsx("div",{className:"font-mono text-foreground",children:Z.expression},E)})})]})]})]})},_=()=>{we>0&&(be(we-1),oe(new Set))},y=()=>{we<Se.length-1&&(be(we+1),oe(new Set))},b=()=>{if(Se.length>0){const p=new Set(Se[we].maskBlocks.map(z=>z.id));oe(p)}},d=()=>{oe(new Set)};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[o.jsxs("header",{className:"px-5 py-4 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>C(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:o.jsx(Of,{className:"w-6 h-6"})}),o.jsx("div",{className:"text-sm text-muted-foreground",children:Y&&`${we+1} / ${Se.length}`}),o.jsx("div",{className:"w-10"})]}),o.jsx("main",{className:"flex-1 flex items-center justify-center px-6 pb-24 overflow-y-auto",children:o.jsx("div",{className:"w-full max-w-2xl",children:J()})}),o.jsx("div",{className:"fixed bottom-20 left-0 right-0 px-6 pb-4 bg-gradient-to-t from-background via-background to-transparent pt-8",children:Y?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:b,className:"flex-1 py-3.5 bg-primary text-primary-foreground rounded-2xl shadow-md hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[o.jsx(yf,{className:"w-5 h-5"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:d,className:"px-4 py-3.5 glass-card rounded-2xl shadow-md hover:shadow-lg transition-all",children:o.jsx(Mf,{className:"w-5 h-5 text-primary"})})]}),Se.length>1&&o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:_,disabled:we===0,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[o.jsx(xr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("button",{onClick:y,disabled:we>=Se.length-1,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx(Rt,{className:"w-4 h-4"})]})]})]}):null}),o.jsx(us,{currentPage:"learning",onNavigateHome:N,onNavigateLearning:()=>{}}),a&&o.jsx(Qf,{selectedScenarioIds:L,onToggleScenario:p=>{L.includes(p)?H(L.filter(z=>z!==p)):H([...L,p])},contentTypes:k,onToggleContentType:p=>{k.includes(p)?V(k.filter(z=>z!==p)):V([...k,p])},mode:P,ratio:B,isRandom:U,stepCoverMode:Q,onStepCoverModeChange:G,onModeChange:h,onRatioChange:ee,onToggleRandom:()=>re(!U),onApply:se,onClose:()=>C(!1)})]})}const qf=300,Xu=650,Gu=14;function Zu(j){return j.length===1&&j>="0"&&j<="9"}function Jf({api:j}){const N=O.useMemo(()=>[{label:"",type:"fraction"},{label:"x",type:"superscript"},{label:"x",type:"subscript"},{label:"",type:"sqrt"},{label:"",type:"sum"},{label:"",type:"integral"},{label:"|x|",type:"abs"}],[]),a=O.useMemo(()=>["","","","","","","","","","","","","","","","","","","","","","","",""],[]),C=O.useMemo(()=>["=","+","","",""],[]),L=O.useMemo(()=>["","(",")","[","]","","","","","","","","",""],[]),H=O.useMemo(()=>[{id:"1",letters:[],digit:"1"},{id:"2",letters:["a","b","c"],digit:"2"},{id:"3",letters:["d","e","f"],digit:"3"},{id:"4",letters:["g","h","i"],digit:"4"},{id:"5",letters:["j","k","l"],digit:"5"},{id:"6",letters:["m","n","o"],digit:"6"},{id:"7",letters:["p","q","r","s"],digit:"7"},{id:"8",letters:["t","u","v"],digit:"8"},{id:"9",letters:["w","x","y","z"],digit:"9"}],[]),[k,V]=O.useState("off"),P=O.useRef(0),h=I=>{if(!I)return I;const $=k==="off"?I:I.toUpperCase();return k==="once"&&V("off"),$},B=()=>{const I=Date.now();if(I-P.current<350){V($=>$==="lock"?"off":"lock"),P.current=0;return}P.current=I,V($=>$==="lock"||$==="once"?"off":"once")},ee=O.useRef(null),U=I=>{const $=I.letters;return $.length?[...$,I.digit]:[I.digit]},re=I=>{const $=U(I),se=Date.now(),J=ee.current,_=J&&J.id===I.id&&se-J.at<=Xu,y=_?(J.idx+1)%$.length:0,b=$[y],d=Zu(b)?b:h(b);_&&j.replacePrevAtom(d)||j.insert(d),ee.current={id:I.id,at:se,idx:y}};O.useEffect(()=>{const I=setInterval(()=>{const $=ee.current;$&&Date.now()-$.at>Xu&&(ee.current=null)},200);return()=>clearInterval(I)},[]);const[Q,G]=O.useState(null),Y=O.useRef(null),xe=O.useRef(null),X=O.useRef(null),oe=O.useRef(null),[we,be]=O.useState(null);O.useEffect(()=>{const I=oe.current;if(!I)return;const $=()=>be(I.getBoundingClientRect().height);$();const se=new ResizeObserver($);return se.observe(I),()=>se.disconnect()},[]);const Se=()=>{Y.current&&(window.clearTimeout(Y.current),Y.current=null)},Ce=(I,$)=>{const se=Math.abs(I),J=Math.abs($);return se<Gu&&J<Gu?"center":se>J?I>0?"right":"left":$>0?"down":"up"},Te=(I,$)=>{const se=I.letters;let J="";se.length===0?J=I.digit:se.length===3?$==="down"?J=I.digit:$==="up"?J=se[0]:$==="left"?J=se[1]:$==="right"?J=se[2]:J=se[0]:$==="down"?J=I.digit:$==="up"?J=se[0]:$==="left"?J=se[1]:$==="right"?J=se[2]:J=se[3],Zu(J)||(J=h(J)),j.insert(J)},Re=(I,$)=>{I.currentTarget.setPointerCapture(I.pointerId),xe.current={x:I.clientX,y:I.clientY},X.current=$,Se(),Y.current=window.setTimeout(()=>{const se=xe.current;se&&G({def:$,anchor:{x:se.x,y:se.y},direction:"center"})},qf)},te=I=>{if(!Q||!xe.current)return;const $=I.clientX-xe.current.x,se=I.clientY-xe.current.y,J=Ce($,se);J!==Q.direction&&G({...Q,direction:J})},ve=(I,$)=>{const se=!!Q;if(Se(),xe.current=null,X.current=null,se){Te($,Q.direction),G(null);return}re($)},ye=()=>{Se(),xe.current=null,X.current=null,G(null)},Ne=()=>{if(!Q)return null;const{anchor:I,direction:$,def:se}=Q,J=se.letters,_=[];J.length===0?_.push({dir:"center",label:se.digit}):J.length===3?(_.push({dir:"up",label:J[0]}),_.push({dir:"left",label:J[1]}),_.push({dir:"right",label:J[2]}),_.push({dir:"down",label:se.digit}),_.push({dir:"center",label:J[0]})):(_.push({dir:"up",label:J[0]}),_.push({dir:"left",label:J[1]}),_.push({dir:"right",label:J[2]}),_.push({dir:"down",label:se.digit}),_.push({dir:"center",label:J[3]}));const y=K=>{const ce=_.find(It=>It.dir===K);if(!ce)return null;const Ge="w-10 h-10 rounded-xl flex items-center justify-center text-base select-none "+($===K?"bg-primary text-primary-foreground shadow-lg":"bg-card border border-border/60 text-foreground");return o.jsx("div",{className:Ge,children:h(ce.label)})},d=140/2,p=10,z=typeof window<"u"?window.innerWidth:0,R=typeof window<"u"?window.innerHeight:0,E=z?Math.min(Math.max(I.x,p+d),z-p-d):I.x,W=R?Math.min(Math.max(I.y,p+d),R-p-d):I.y,Z={position:"fixed",left:E,top:W,transform:"translate(-50%, -50%)",zIndex:1e3,pointerEvents:"none"};return o.jsx("div",{style:Z,children:o.jsxs("div",{className:"relative w-[140px] h-[140px]",children:[o.jsx("div",{className:"absolute left-1/2 top-0 -translate-x-1/2",children:y("up")}),o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:y("left")}),o.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:y("right")}),o.jsx("div",{className:"absolute left-1/2 bottom-0 -translate-x-1/2",children:y("down")}),o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:y("center")})]})})};return o.jsxs("div",{className:"w-full bg-card border-t safe-area-bottom",style:{userSelect:"none",WebkitUserSelect:"none"},onContextMenu:I=>I.preventDefault(),children:[Ne(),o.jsx("div",{className:"flex gap-2 px-3 py-2 border-b overflow-x-auto",children:a.map(I=>o.jsx("button",{type:"button",className:"shrink-0 px-3 py-2 rounded-lg bg-muted",onMouseDown:$=>$.preventDefault(),onClick:()=>j.insert(I),children:I},I))}),o.jsx("div",{className:"flex gap-2 px-3 py-2 border-b overflow-x-auto",children:N.map(I=>o.jsx("button",{type:"button",className:"shrink-0 px-4 py-2 rounded-lg bg-muted",onMouseDown:$=>$.preventDefault(),onClick:()=>j.insertStructure(I.type),children:I.label},I.type))}),o.jsx("div",{className:"px-3 py-3",children:o.jsxs("div",{className:"flex gap-3 items-stretch",children:[o.jsx("div",{className:"w-14 overflow-y-auto pr-1 flex flex-col gap-2 min-h-0",style:{height:we??240,maxHeight:we??240},children:[...C,...L].map(I=>o.jsx("button",{type:"button",className:"h-12 rounded-xl bg-muted flex items-center justify-center text-lg shrink-0",onMouseDown:$=>$.preventDefault(),onClick:()=>j.insert(I),children:I},I))}),o.jsxs("div",{ref:oe,className:"flex-1 flex flex-col gap-2",children:[o.jsx("div",{className:"grid grid-cols-3 gap-2",children:H.map(I=>o.jsxs("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex flex-col items-center justify-center",onMouseDown:$=>$.preventDefault(),onPointerDown:$=>Re($,I),onPointerMove:te,onPointerUp:$=>ve($,I),onPointerCancel:ye,children:[o.jsx("div",{className:"text-lg leading-none",children:I.id}),o.jsx("div",{className:"text-[11px] text-muted-foreground leading-none mt-1",children:I.letters.length?I.letters.join(""):""})]},I.id))}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center",onMouseDown:I=>I.preventDefault(),onClick:()=>j.insert(" "),children:""}),o.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:I=>I.preventDefault(),onClick:()=>j.insert("0"),children:"0"}),o.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:I=>I.preventDefault(),onClick:()=>j.insert("."),children:"."})]})]}),o.jsxs("div",{className:"w-14 flex flex-col gap-2",style:{height:we??240,maxHeight:we??240},children:[o.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:I=>I.preventDefault(),onClick:j.backspace,onPointerDown:I=>{I.currentTarget.setPointerCapture(I.pointerId);const $=window.setTimeout(()=>{const J=window.setInterval(j.backspace,80),_=()=>{window.clearInterval(J),window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_)};window.addEventListener("pointerup",_),window.addEventListener("pointercancel",_)},320),se=()=>{window.clearTimeout($),window.removeEventListener("pointerup",se),window.removeEventListener("pointercancel",se)};window.addEventListener("pointerup",se),window.addEventListener("pointercancel",se)},children:""}),o.jsx(ec,{label:"",onClick:j.moveLeft,onHold:j.enterStructure}),o.jsx(ec,{label:"",onClick:j.moveRight,onHold:j.exitStructure}),o.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:I=>I.preventDefault(),onClick:B,children:k==="off"||k==="once"?"":""})]})]})})]})}function ec({label:j,onClick:N,onHold:a}){const C=O.useRef(null),L=O.useRef(!1),H=()=>{C.current&&(window.clearTimeout(C.current),C.current=null)};return o.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:k=>k.preventDefault(),onPointerDown:k=>{k.currentTarget.setPointerCapture(k.pointerId),L.current=!1,H(),C.current=window.setTimeout(()=>{L.current=!0,a()},350)},onPointerUp:()=>{const k=L.current;H(),L.current=!1,k||N()},onPointerCancel:()=>{H(),L.current=!1},children:j})}function Yf({formulaId:j,onNext:N,onCancel:a,draftExpression:C,draftStructureData:L}){const H=j?he.getFormula(j):null,k=L||(H?.structureData?H.structureData:{children:C??H?.expression?[{type:"symbol",value:C??H?.expression}]:[]}),[V,P]=O.useState(k),[h,B]=O.useState({path:[],index:0}),[ee,U]=O.useState(null),[re,Q]=O.useState([{root:k,cursor:{path:[],index:0}}]),[G,Y]=O.useState(0);O.useRef(null);const xe=O.useRef(null),X=O.useRef(!1),[oe,we]=O.useState(!1),[be,Se]=O.useState(0),[Ce,Te]=O.useState(0),Re=O.useRef(null),te=()=>{if(oe)return;const x=xe.current;x&&x.focus()};O.useEffect(()=>{const x=window.matchMedia?window.matchMedia("(pointer: coarse)"):null,S=()=>we(!!x&&x.matches);if(S(),!!x)return x.addEventListener?.("change",S),()=>x.removeEventListener?.("change",S)},[]);const ve=()=>{xe.current&&(xe.current.value="")};O.useEffect(()=>{if(oe){Se(0);return}const x=window.visualViewport;if(!x)return;const S=()=>{const v=Math.max(0,window.innerHeight-x.height-x.offsetTop);Se(v)};return S(),x.addEventListener("resize",S),x.addEventListener("scroll",S),()=>{x.removeEventListener("resize",S),x.removeEventListener("scroll",S)}},[oe]),O.useEffect(()=>{const x=Re.current;if(!x)return;const S=()=>Te(x.getBoundingClientRect().height),v=new ResizeObserver(S);return v.observe(x),()=>v.disconnect()},[]);const ye=(x,S)=>{const v=re.slice(0,G+1);v.push({root:JSON.parse(JSON.stringify(x)),cursor:{...S}}),Q(v),Y(v.length-1)},Ne=()=>{if(G>0){const x=re[G-1];P(JSON.parse(JSON.stringify(x.root))),B({...x.cursor}),Y(G-1),U(null)}},I=()=>{if(G<re.length-1){const x=re[G+1];P(JSON.parse(JSON.stringify(x.root))),B({...x.cursor}),Y(G+1),U(null)}},$=(x,S)=>{if(S.length===0)return"children"in x?x:null;const[v,...F]=S;if("children"in x){const q=x;if(typeof v=="number"&&q.children[v])return $(q.children[v],F)}if(typeof v=="string"&&v in x){const q=x[v];if(q&&"children"in q)return $(q,F)}return null},se=x=>x.path.length>=2&&x.path[x.path.length-1]==="text"&&typeof x.path[x.path.length-2]=="number",J=(x,S)=>{if(!se(S))return null;const v=S.path.slice(0,-2),F=S.path[S.path.length-2],q=$(x,v);if(!q)return null;const de=q.children[F];return!de||de.type!=="number"?null:{parentPath:v,parent:q,nodeIndex:F,node:de}},_=x=>{if(x)for(const S of Array.from(x))b(S)},y=x=>x.length===1&&x>="0"&&x<="9",b=x=>{const S=JSON.parse(JSON.stringify(V)),v=J(S,h);if(v){const de=Math.max(0,Math.min(h.index,v.node.text.length));if(y(x)||x==="."){if(x==="."&&v.node.text.includes("."))return;const mt=x==="."&&de===0?"0.":x,ht=v.node.text.slice(0,de),Ze=v.node.text.slice(de);v.node.text=ht+mt+Ze;const Ee={path:h.path,index:de+mt.length};P(S),B(Ee),ye(S,Ee),U(null);return}const ze={path:v.parentPath,index:v.nodeIndex+1},Pe=$(S,ze.path);if(!Pe)return;Pe.children.splice(ze.index,0,{type:"symbol",value:x});const Me={...ze,index:ze.index+1};P(S),B(Me),ye(S,Me),U(null);return}const F=$(S,h.path);if(!F)return;if(y(x)||x==="."){const de=h.index>0?F.children[h.index-1]:null,ze=h.index<F.children.length?F.children[h.index]:null;if(x==="."&&(!de||de.type!=="number")){F.children.splice(h.index,0,{type:"number",text:"0."});const Me={...h,index:h.index+1};P(S),B(Me),ye(S,Me),U(null);return}if(de&&de.type==="number"){if(x==="."&&de.text.includes("."))return;de.text+=x;const Me={...h,index:h.index};P(S),B(Me),ye(S,Me),U(null);return}if(ze&&ze.type==="number"&&y(x)){ze.text=x+ze.text;const Me={...h,index:h.index+1};P(S),B(Me),ye(S,Me),U(null);return}F.children.splice(h.index,0,{type:"number",text:x});const Pe={...h,index:h.index+1};P(S),B(Pe),ye(S,Pe),U(null);return}F.children.splice(h.index,0,{type:"symbol",value:x});const q={...h,index:h.index+1};P(S),B(q),ye(S,q),U(null)},d=x=>{if(!x||h.index<=0)return!1;const S=JSON.parse(JSON.stringify(V)),v=$(S,h.path);if(!v)return!1;const F=h.index-1,q=v.children[F];return q?q.type==="symbol"?(q.value=x,P(S),ye(S,h),U(null),!0):q.type==="number"?q.text.length!==1?!1:(y(x)||x==="."?q.text=x==="."?"0.":x:v.children[F]={type:"symbol",value:x},P(S),ye(S,h),U(null),!0):!1:!1},p=x=>{let S;switch(x){case"fraction":S={type:"fraction",numerator:{children:[]},denominator:{children:[]}};break;case"superscript":S={type:"superscript",base:{children:[]},exponent:{children:[]}};break;case"subscript":S={type:"subscript",base:{children:[]},index:{children:[]}};break;case"sqrt":S={type:"sqrt",content:{children:[]}};break;case"sum":S={type:"sum",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"integral":S={type:"integral",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"abs":S={type:"abs",content:{children:[]}};break;default:return}const v=JSON.parse(JSON.stringify(V)),F=$(v,h.path);if(F){F.children.splice(h.index,0,S);const q=z(x),de=q?{path:[...h.path,h.index,q],index:0}:{...h,index:h.index+1};P(v),B(de),ye(v,de),U(null),requestAnimationFrame(te)}},z=x=>{switch(x){case"fraction":return"numerator";case"superscript":case"subscript":return"base";case"sqrt":case"abs":return"content";case"function":return"argument";case"sum":case"integral":return"lower";default:return null}},R=()=>{const x=JSON.parse(JSON.stringify(V)),S=J(x,h);if(S){const F=Math.max(0,Math.min(h.index,S.node.text.length));if(F===0){U(null);return}const q=S.node.text.slice(0,F-1),de=S.node.text.slice(F),ze=q+de;if(ze.length===0){S.parent.children.splice(S.nodeIndex,1);const Me={path:S.parentPath,index:S.nodeIndex};P(x),B(Me),ye(x,Me),U(null);return}S.node.text=ze;const Pe={...h,index:F-1};P(x),B(Pe),ye(x,Pe),U(null);return}if(h.index===0&&h.path.length===0){U(null);return}const v=$(x,h.path);if(v){if(h.index>0){const F=h.index-1,q=[...h.path,F],de=v.children[F],ze=ee&&JSON.stringify(ee)===JSON.stringify(q);if(de.type==="symbol"||de.type==="number"){v.children.splice(F,1);const Pe={...h,index:h.index-1};P(x),B(Pe),ye(x,Pe),U(null)}else if(ze){v.children.splice(F,1);const Pe={...h,index:h.index-1};P(x),B(Pe),ye(x,Pe),U(null)}else U(q)}else if(h.path.length>0&&typeof h.path[h.path.length-1]=="string"){const q=h.path.slice(0,-1),de=q[q.length-1];if(typeof de=="number"){const ze=q.slice(0,-1),Pe=$(x,ze);if(Pe){const Me=q;if(ee&&JSON.stringify(ee)===JSON.stringify(Me)){Pe.children.splice(de,1);const ht={path:ze,index:de};P(x),B(ht),ye(x,ht),U(null)}else U(Me)}}}}},E=()=>{const x=J(V,h);if(x){B({path:x.parentPath,index:x.nodeIndex+1}),U(null),te();return}if(h.path.length===0)return;const S=h.path.slice(0,-1),v=S[S.length-1];typeof v=="number"&&(B({path:S.slice(0,-1),index:v+1}),U(null),te())},W=()=>{if(se(h))return;const x=$(V,h.path);if(!x)return;const S=h.index>0?h.index-1:x.children[h.index]?h.index:-1;if(S===-1)return;const v=x.children[S];if(v.type==="number"){B({path:[...h.path,S,"text"],index:v.text.length}),U(null),te();return}if(v.type==="symbol")return;const F=z(v.type);F&&(B({path:[...h.path,S,F],index:0}),U(null),te())},Z=()=>{const x=J(V,h);if(x){h.index>0?B({...h,index:h.index-1}):B({path:x.parentPath,index:x.nodeIndex}),U(null),te();return}if(h.index>0)B({...h,index:h.index-1});else if(h.path.length>0){const S=h.path.slice(0,-1),v=S[S.length-1];typeof v=="number"&&B({path:S.slice(0,-1),index:v})}U(null),te()},K=()=>{const x=J(V,h);if(x){const v=x.node.text.length;h.index<v?B({...h,index:h.index+1}):B({path:x.parentPath,index:x.nodeIndex+1}),U(null),te();return}const S=$(V,h.path);if(S&&h.index<S.children.length)B({...h,index:h.index+1});else if(h.path.length>0){const v=h.path.slice(0,-1),F=v[v.length-1];typeof F=="number"&&B({path:v.slice(0,-1),index:F+1})}U(null),te()},ce=x=>{const S=x.nativeEvent,v=S.inputType||"";if(v==="insertCompositionText")return;const F=S.data;if(v==="insertFromComposition"&&F){for(const q of Array.from(F))_(q);requestAnimationFrame(()=>{ve()})}},me=x=>{if(X.current)return;const S=x.target.value;if(S){for(const v of Array.from(S))_(v);ve()}},Ge=x=>{X.current=!1;const S=x.data,v=x.currentTarget.value,F=S&&S.length>0?S:v;if(F)for(const q of Array.from(F))_(q);requestAnimationFrame(()=>{ve()})},It=x=>{X.current||(x.key==="Backspace"?(x.preventDefault(),R()):x.key==="ArrowLeft"?(x.preventDefault(),Z()):x.key==="ArrowRight"&&(x.preventDefault(),K()))},Oe=x=>{if("children"in x&&!("type"in x))return x.children.map(v=>Oe(v)).join("");const S=x;switch(S.type){case"symbol":return S.value;case"number":return S.text;case"fraction":return`(${Oe(S.numerator)})/(${Oe(S.denominator)})`;case"superscript":return`${Oe(S.base)}^{${Oe(S.exponent)}}`;case"subscript":return`${Oe(S.base)}_{${Oe(S.index)}}`;case"sqrt":return`(${Oe(S.content)})`;case"abs":return`|${Oe(S.content)}|`;case"function":return`${S.name}(${Oe(S.argument)})`;case"sum":return`[${Oe(S.lower)}${Oe(S.upper)}](${Oe(S.body)})`;case"integral":return`[${Oe(S.lower)}${Oe(S.upper)}](${Oe(S.body)})`;default:return""}},Qe=(x,S)=>{const v=JSON.stringify(h.path)===JSON.stringify(S);return o.jsxs("div",{className:"inline-flex items-center gap-0.5 min-h-[1.5em]",children:[x.children.length===0?o.jsx("span",{className:`inline-block w-4 h-6 border border-dashed ${v?"border-primary bg-primary/10":"border-muted-foreground/30"} rounded cursor-text`,onClick:F=>{F.stopPropagation(),B({path:S,index:0}),te()}}):x.children.map((F,q)=>o.jsxs(tc.Fragment,{children:[v&&h.index===q&&o.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"}),Wn(F,[...S,q])]},q)),v&&h.index===x.children.length&&o.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"})]})},Wn=(x,S)=>{const F=ee&&JSON.stringify(ee)===JSON.stringify(S)?"ring-2 ring-destructive bg-destructive/10":"",q=de=>{de.stopPropagation();const ze=S.slice(0,-1),Pe=S[S.length-1];B({path:ze,index:Pe+1}),U(null),te()};switch(x.type){case"symbol":return o.jsx("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded ${F}`,onClick:q,children:x.value});case"number":{if(!(JSON.stringify(h.path)===JSON.stringify([...S,"text"])))return o.jsx("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded font-mono ${F}`,onClick:q,children:x.text});const Pe=Math.max(0,Math.min(h.index,x.text.length)),Me=x.text.slice(0,Pe),mt=x.text.slice(Pe);return o.jsxs("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded font-mono ${F}`,onClick:q,children:[o.jsx("span",{children:Me}),o.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse align-middle"}),o.jsx("span",{children:mt})]})}case"fraction":return o.jsxs("div",{className:`inline-flex flex-col items-center px-1 mx-1 border border-transparent rounded ${F}`,children:[o.jsx("div",{className:"border-b border-foreground px-1",children:Qe(x.numerator,[...S,"numerator"])}),o.jsx("div",{className:"px-1 mt-[4px] pt-[1px]",children:Qe(x.denominator,[...S,"denominator"])})]});case"superscript":return o.jsxs("div",{className:`inline-flex items-start mx-0.5 ${F}`,children:[o.jsx("span",{children:Qe(x.base,[...S,"base"])}),o.jsx("span",{className:"text-xs scale-75 origin-top-left -mt-1",children:Qe(x.exponent,[...S,"exponent"])})]});case"subscript":return o.jsxs("div",{className:`inline-flex items-end mx-0.5 ${F}`,children:[o.jsx("span",{children:Qe(x.base,[...S,"base"])}),o.jsx("span",{className:"text-xs scale-75 origin-bottom-left -mb-1",children:Qe(x.index,[...S,"index"])})]});case"sqrt":return o.jsxs("div",{className:`inline-flex items-center mx-1 border-t-2 border-foreground pt-0.5 ${F}`,children:[o.jsx("span",{className:"text-xl mr-0.5 -ml-1",children:""}),Qe(x.content,[...S,"content"])]});case"abs":return o.jsx("div",{className:`inline-flex items-center mx-1 px-1 border-x border-foreground ${F}`,children:Qe(x.content,[...S,"content"])});case"function":return o.jsxs("div",{className:`inline-flex items-center ${F}`,children:[x.name,"(",Qe(x.argument,[...S,"argument"]),")"]});case"sum":case"integral":const de=x.type==="sum"?"":"";return o.jsxs("div",{className:`inline-flex items-center gap-1 mx-1 ${F}`,children:[o.jsxs("div",{className:"flex flex-col items-center text-[10px]",children:[o.jsx("div",{children:Qe(x.upper,[...S,"upper"])}),o.jsx("span",{className:"text-2xl leading-none",children:de}),o.jsx("div",{children:Qe(x.lower,[...S,"lower"])})]}),Qe(x.body,[...S,"body"])]});default:return o.jsx("span",{children:"?"})}},Qn={insert:_,replacePrevAtom:d,backspace:R,moveLeft:Z,moveRight:K,enterStructure:W,exitStructure:E,insertStructure:p};return o.jsxs("div",{className:"min-h-screen h-[100dvh] flex flex-col bg-background text-foreground overflow-hidden",children:[o.jsx("textarea",{ref:xe,className:"fixed opacity-0 pointer-events-none",inputMode:oe?"none":"text",onBeforeInput:ce,onInput:me,onKeyDown:It,onCompositionStart:()=>X.current=!0,onCompositionEnd:Ge,autoFocus:!oe}),o.jsxs("header",{className:"h-14 flex items-center justify-between px-4 border-b shrink-0",children:[o.jsx("button",{onClick:a,className:"p-2",children:o.jsx(xr,{})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:Ne,disabled:G===0,className:"p-2 disabled:opacity-30",children:o.jsx($f,{})}),o.jsx("button",{onClick:I,disabled:G===re.length-1,className:"p-2 disabled:opacity-30",children:o.jsx(Lf,{})})]}),o.jsxs("button",{onClick:()=>N(Oe(V),V),className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-lg flex items-center gap-1",children:[" ",o.jsx(Rt,{size:16})]})]}),o.jsx("main",{className:"flex-1 overflow-auto p-8 flex justify-center items-start",onClick:()=>te(),children:o.jsx("div",{className:"text-4xl",children:Qe(V,[])})}),o.jsx("footer",{ref:Re,className:"w-full bg-card border-t safe-area-bottom shrink-0 z-50",style:{marginBottom:be},children:o.jsx(Jf,{api:Qn})})]})}function Xf({onAdd:j}){const[N,a]=O.useState(""),[C,L]=O.useState(""),[H,k]=O.useState(""),[V,P]=O.useState(""),h=()=>N?he.getScenario(N)?.steps||[]:[],B=()=>{if(C.trim())if(N){const Q={id:`scenario-${Date.now()}`,name:C.trim(),icon:"",parentId:N,steps:[]};he.saveScenario(Q),L("")}else{const Q={id:`scenario-${Date.now()}`,name:C.trim(),icon:"",steps:[]};he.saveScenario(Q),a(Q.id),L("")}},ee=()=>{if(!V.trim())return;let Q=N;Q||(Q=kt,a(kt)),he.addStep(Q,V.trim());const G=he.getScenario(Q);if(G&&G.steps.length>0){const Y=G.steps[G.steps.length-1];k(Y.id),P("")}},U=()=>{N&&H&&(j(N,H),a(""),k(""))},re=()=>{const Q=he.getRootScenarios(),G=(Y,xe=0)=>{const X=he.getChildScenarios(Y.id);return[o.jsxs("option",{value:Y.id,children:["".repeat(xe*2),Y.name]},Y.id),...X.flatMap(oe=>G(oe,xe+1))]};return Q.flatMap(Y=>G(Y))};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-2",children:""}),o.jsxs("select",{value:N,onChange:Q=>{a(Q.target.value),k("")},className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400 mb-2",children:[o.jsx("option",{value:"",children:""}),re()]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:C,onChange:Q=>L(Q.target.value),placeholder:N?"":"",className:"flex-1 px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),o.jsx("button",{onClick:B,disabled:!C.trim(),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(un,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-2",children:""}),o.jsxs("select",{value:H,onChange:Q=>k(Q.target.value),disabled:!N,className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400 mb-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:N?"":""}),h().map(Q=>o.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:V,onChange:Q=>P(Q.target.value),placeholder:N?"":"",className:"flex-1 px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),o.jsx("button",{onClick:ee,disabled:!V.trim(),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(un,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsx("button",{onClick:U,disabled:!N||!H,className:"w-full px-3 py-2 bg-gray-800 text-white rounded text-sm hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}function Gf({formulaId:j,expression:N,structureData:a,onSave:C,onBack:L,onCancel:H}){const k=j?he.getFormula(j):null,[V,P]=O.useState(k?.name||""),[h,B]=O.useState(k?.description||""),[ee,U]=O.useState(k?.equivalentExpressions||[]),[re,Q]=O.useState(k?.symbols||[]),[G,Y]=O.useState(k?.usedInContexts||[]),[xe,X]=O.useState(k?.usedFormulas||[]),[oe,we]=O.useState(k?.derivableFormulas||[]),[be,Se]=O.useState(!1),[Ce,Te]=O.useState(!1),[Re,te]=O.useState(!1),[ve,ye]=O.useState(!0),[Ne,I]=O.useState(!1),[$,se]=O.useState(!1),[J,_]=O.useState(!1),[y,b]=O.useState(!1),[d,p]=O.useState(!1);O.useEffect(()=>{if(!k&&N&&re.length===0){const v=z(N);Q(v),v.length>0&&ye(!0)}},[N]);const z=v=>{const F=(v||"").trim();if(!F)return[];const q={"\\alpha":"","\\beta":"","\\gamma":"","\\delta":"","\\epsilon":"","\\theta":"","\\lambda":"","\\mu":"","\\nu":"","\\omega":"","\\pi":"","\\sigma":"","\\Sigma":""},de=new Set(["frac","sqrt","times","cdot","div","pm","le","ge","neq","approx","to","infty","left","right","mathrm","text","operatorname","sum","int"]),ze=je=>/[A-Za-z]/.test(je),Pe=je=>/[--]/.test(je)||je===""||je===""||je===""||je==="",Me=je=>ze(je)||Pe(je),mt=(je,Ue)=>{let xt=0,jt=Ue;for(;jt<je.length;jt++){const ot=je[jt];if(ot==="{")xt++;else if(ot==="}"&&(xt--,xt===0))break}return{value:je.slice(Ue+1,jt),next:Math.min(jt+1,je.length)}},ht=(je,Ue)=>Ue>=je.length?{value:"",next:Ue}:je[Ue]==="{"?mt(je,Ue):{value:je[Ue]??"",next:Ue+1},Ze=[],Ee=F;let Fe=0;for(;Fe<Ee.length;){const je=Ee[Fe];if(je===" "||je===`
`||je==="	"){Fe++;continue}if(je==="\\"){let Ue=Fe+1;for(;Ue<Ee.length&&/[A-Za-z]/.test(Ee[Ue]);)Ue++;const xt=Ee.slice(Fe,Ue);if(q[xt]){let ot=q[xt],Dt="",Zt="",dt=Ue;for(;dt<Ee.length&&(Ee[dt]==="_"||Ee[dt]==="^");){const cn=Ee[dt],Kt=ht(Ee,dt+1);cn==="_"?Dt=Kt.value:Zt=Kt.value,dt=Kt.next}let bn=ot;Dt&&(bn+=`_${Dt}`),Zt&&(bn+=`^${Zt}`),Ze.push(bn),Fe=dt;continue}const jt=xt.replace("\\","");if(de.has(jt)){Fe=Ue;continue}Fe=Ue;continue}if(Me(je)){let Ue=je,xt="",jt="",ot=Fe+1;for(;ot<Ee.length&&(Ee[ot]==="_"||Ee[ot]==="^");){const Zt=Ee[ot],dt=ht(Ee,ot+1);Zt==="_"?xt=dt.value:jt=dt.value,ot=dt.next}let Dt=Ue;xt&&(Dt+=`_${xt}`),jt&&(Dt+=`^${jt}`),Ze.push(Dt),Fe=ot;continue}Fe++}return Array.from(new Set(Ze.filter(Boolean))).map(je=>({symbol:je,meaning:"",unit:""}))},R=()=>{U([...ee,""])},E=(v,F)=>{const q=[...ee];q[v]=F,U(q)},W=v=>{U(ee.filter((F,q)=>q!==v))},Z=(v,F,q)=>{const de=[...re];de[v]={...de[v],[F]:q},Q(de)},K=v=>{Q(re.filter((F,q)=>q!==v))},ce=v=>{const F=(v||"").trim();if(!F)return o.jsx("span",{className:"text-muted-foreground",children:""});const q={"\\sigma":"","\\Sigma":"","\\pi":"","\\alpha":"","\\beta":"","\\gamma":"","\\delta":"","\\epsilon":"","\\theta":"","\\lambda":"","\\mu":"","\\nu":"","\\omega":""};let de=F.replace(/\\[A-Za-z]+/g,Ee=>q[Ee]??Ee.replace("\\",""));const ze=(Ee,Fe)=>{if(Ee[Fe]==="{"){let Qt=0,je=Fe;for(;je<Ee.length;je++){const Ue=Ee[je];if(Ue==="{")Qt++;else if(Ue==="}"&&(Qt--,Qt===0))break}return{value:Ee.slice(Fe+1,je),next:je+1}}return{value:Ee[Fe]??"",next:Fe+1}};let Pe="",Me="",mt="";const ht=de.match(/^([A-Za-z--]+|\d+|[-]+)/);ht?(Pe=ht[0],de=de.slice(Pe.length)):(Pe=de[0]??"",de=de.slice(1));let Ze=0;for(;Ze<de.length;){const Ee=de[Ze];if(Ee==="_"){const Fe=ze(de,Ze+1);Me=Fe.value,Ze=Fe.next;continue}if(Ee==="^"){const Fe=ze(de,Ze+1);mt=Fe.value,Ze=Fe.next;continue}Ze++}return o.jsxs("span",{className:"inline-flex items-baseline leading-none",children:[o.jsx("span",{className:"font-medium",children:Pe}),Me?o.jsx("sub",{className:"text-sm leading-none relative top-1 ml-0.5",children:Me}):null,mt?o.jsx("sup",{className:"text-sm leading-none relative -top-1 ml-0.5",children:mt}):null]})},me=()=>{Q([...re,{symbol:"",meaning:"",unit:""}])},Ge=(v,F)=>{G.find(q=>q.scenarioId===v&&q.stepId===F)||Y([...G,{scenarioId:v,stepId:F}]),_(!1)},It=v=>{Y(G.filter((F,q)=>q!==v))},Oe=v=>{xe.includes(v)||X([...xe,v]),b(!1)},Qe=v=>{X(xe.filter(F=>F!==v))},Wn=v=>{oe.includes(v)||we([...oe,v]),p(!1)},Qn=v=>{we(oe.filter(F=>F!==v))},x=v=>{const F=he.getScenario(v.scenarioId);if(!F)return"";const q=F.steps.find(de=>de.id===v.stepId);return`${F.name} > ${q?.name||""}`},S=()=>{console.log("Saving formula info:",{formulaId:j,formulaName:V,expression:N,description:h,equivalentExpressions:ee.filter(v=>v.trim()),symbols:re.filter(v=>v.symbol.trim()),usedInContexts:G,usedFormulas:xe,derivableFormulas:oe}),C({name:V,description:h,equivalentExpressions:ee.filter(v=>v.trim()),symbols:re.filter(v=>v.symbol.trim()),usedInContexts:G,usedFormulas:xe,derivableFormulas:oe})};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[o.jsx("button",{onClick:L,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",title:"",children:o.jsx(xr,{className:"w-5 h-5 text-foreground"})}),o.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),o.jsx("button",{onClick:H,className:"px-3 py-1.5 text-sm text-destructive hover:bg-destructive/10 rounded-xl transition-colors",title:"",children:""})]}),o.jsxs("main",{className:"flex-1 p-4 pb-20 overflow-y-auto space-y-3",children:[o.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),o.jsx("div",{className:"text-2xl text-foreground text-center overflow-x-auto",children:a||k?.structureTree||k?.structureData?o.jsx(gr,{root:a||k?.structureTree||k?.structureData,fallback:N||"",maskBlocks:[]}):o.jsx("span",{className:"font-mono",children:N||""})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),o.jsx("input",{type:"text",value:V,onChange:v=>P(v.target.value),placeholder:"",className:"w-full px-4 py-3 glass-card rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>Te(!Ce),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",ee.length>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",ee.length,")"]})]}),o.jsx("div",{className:"text-primary",children:Ce?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),Ce&&o.jsxs("div",{className:"border-t border-border p-4 space-y-2",children:[ee.map((v,F)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:v,onChange:q=>E(F,q.target.value),placeholder:"",className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"}),o.jsx("button",{onClick:()=>W(F),className:"p-2.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-colors",children:o.jsx(Vn,{className:"w-4 h-4"})})]},F)),o.jsxs("button",{onClick:R,className:"w-full glass-card rounded-xl px-4 py-3 text-sm text-muted-foreground hover:text-primary hover:shadow-md transition-all flex items-center justify-center gap-2 border border-dashed border-primary/30",children:[o.jsx(un,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>Se(!be),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),o.jsx("div",{className:"text-primary",children:be?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),be&&o.jsx("div",{className:"border-t border-border p-4",children:o.jsx("textarea",{value:h,onChange:v=>B(v.target.value),placeholder:"...",rows:4,className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground resize-none"})})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>te(!Re),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",G.length>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",G.length,")"]})]}),o.jsx("div",{className:"text-primary",children:Re?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),Re&&o.jsxs("div",{className:"border-t border-border p-4",children:[G.map((v,F)=>o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[o.jsx("div",{className:"flex-1 text-sm text-gray-700",children:x(v)}),o.jsx("button",{onClick:()=>It(F),className:"p-1 text-gray-400 hover:text-red-500",children:o.jsx(Vn,{className:"w-3 h-3"})})]},F)),o.jsx(Xf,{onAdd:Ge})]})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>ye(!ve),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",re.length>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",re.length,")"]})]}),o.jsx("div",{className:"text-primary",children:ve?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),ve&&o.jsxs("div",{className:"border-t border-border p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:" /  / "}),re.map((v,F)=>o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsx("div",{className:"w-12 h-10 px-2 border border-gray-200 rounded bg-white flex items-center justify-center",children:ce(v.symbol)}),o.jsx("input",{type:"text",value:v.symbol,onChange:q=>Z(F,"symbol",q.target.value),placeholder:"",className:"w-16 sm:w-20 md:w-24 h-10 px-2 border border-gray-200 rounded text-sm text-center font-mono focus:outline-none focus:border-gray-400"})]}),o.jsx("input",{type:"text",value:v.meaning,onChange:q=>Z(F,"meaning",q.target.value),placeholder:"",className:"flex-1 min-w-0 h-10 px-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),o.jsx("input",{type:"text",value:v.unit,onChange:q=>Z(F,"unit",q.target.value),placeholder:"",className:"w-14 sm:w-20 md:w-24 h-10 px-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),o.jsx("button",{onClick:()=>K(F),className:"p-2 text-gray-400 hover:text-red-500 shrink-0",children:o.jsx(Vn,{className:"w-4 h-4"})})]},F)),o.jsxs("button",{onClick:me,className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[o.jsx(un,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>I(!Ne),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",xe.length>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",xe.length,")"]})]}),o.jsx("div",{className:"text-primary",children:Ne?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),Ne&&o.jsxs("div",{className:"border-t border-border p-4",children:[xe.map(v=>{const F=he.getFormula(v);return o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-gray-700",children:F?.name||v}),o.jsx("div",{className:"text-xs text-gray-400 font-mono",children:F?.expression})]}),o.jsx("button",{onClick:()=>Qe(v),className:"p-1 text-gray-400 hover:text-red-500",children:o.jsx(Vn,{className:"w-3 h-3"})})]},v)}),y?o.jsx("div",{className:"border border-gray-300 rounded max-h-60 overflow-y-auto mb-2",children:Object.values(he.getFormulas()).map(v=>o.jsxs("button",{onClick:()=>Oe(v.id),className:"w-full px-3 py-2 text-left hover:bg-gray-50 border-b border-gray-100",disabled:xe.includes(v.id),children:[o.jsx("div",{className:"text-sm text-gray-700",children:v.name}),o.jsx("div",{className:"text-xs text-gray-400 font-mono",children:v.expression})]},v.id))}):o.jsxs("button",{onClick:()=>b(!0),className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[o.jsx(un,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>se(!$),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",oe.length>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",oe.length,")"]})]}),o.jsx("div",{className:"text-primary",children:$?o.jsx(Wt,{className:"w-5 h-5"}):o.jsx(Rt,{className:"w-5 h-5"})})]}),$&&o.jsxs("div",{className:"border-t border-border p-4",children:[oe.map(v=>{const F=he.getFormula(v);return o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-gray-700",children:F?.name||v}),o.jsx("div",{className:"text-xs text-gray-400 font-mono",children:F?.expression})]}),o.jsx("button",{onClick:()=>Qn(v),className:"p-1 text-gray-400 hover:text-red-500",children:o.jsx(Vn,{className:"w-3 h-3"})})]},v)}),d?o.jsx("div",{className:"border border-gray-300 rounded max-h-60 overflow-y-auto mb-2",children:Object.values(he.getFormulas()).map(v=>o.jsxs("button",{onClick:()=>Wn(v.id),className:"w-full px-3 py-2 text-left hover:bg-gray-50 border-b border-gray-100",disabled:oe.includes(v.id),children:[o.jsx("div",{className:"text-sm text-gray-700",children:v.name}),o.jsx("div",{className:"text-xs text-gray-400 font-mono",children:v.expression})]},v.id))}):o.jsxs("button",{onClick:()=>p(!0),className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[o.jsx(un,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})]})]})]}),o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-nav px-5 py-4",children:o.jsx("button",{onClick:S,className:"w-full py-4 bg-primary text-primary-foreground rounded-2xl shadow-lg hover:opacity-90 transition-opacity",children:""})})]})}function Zf(){const[j,N]=O.useState(0),[a,C]=O.useState({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null});O.useEffect(()=>he.subscribe(()=>{N(oe=>oe+1)}),[]);const L=(X,oe)=>{C({...a,currentPage:"stepList",selectedScenario:X,targetStepId:oe||null,previousPage:a.currentPage,returnSource:"home-scenario"})},H=X=>{C({...a,currentPage:"formulaDetail",selectedFormula:X,previousPage:"stepList",returnSource:"stepList"})},k=X=>{C({...a,currentPage:"formulaDetail",selectedFormula:X,previousPage:"home",returnSource:"home-formula"})},V=(X,oe)=>{C({...a,currentPage:"stepList",selectedScenario:X,targetStepId:oe,previousPage:"formulaDetail",returnSource:"home-scenario"})},P=X=>{C({...a,currentPage:"formulaDetail",selectedFormula:X,previousPage:"formulaDetail"})},h=()=>{C({...a,currentPage:"learning",previousPage:a.currentPage})},B=()=>{C({...a,currentPage:"formulaStructureEdit",selectedFormula:null,previousPage:"home",editEntryState:{returnPage:"home",returnSource:"home-formula",selectedScenario:null,selectedFormula:null}})},ee=()=>{C({...a,currentPage:"formulaStructureEdit",previousPage:"formulaDetail",editEntryState:{returnPage:"formulaDetail",returnSource:a.returnSource,selectedScenario:a.selectedScenario,selectedFormula:a.selectedFormula}})},U=(X,oe)=>{C({...a,currentPage:"formulaInfoEdit",tempFormula:{...a.tempFormula,expression:X,structureData:oe},previousPage:"formulaStructureEdit"})},re=()=>{C({...a,currentPage:"formulaStructureEdit",previousPage:"formulaInfoEdit"})},Q=()=>{if(confirm(""))if(a.editEntryState){const X=a.editEntryState;C({currentPage:X.returnPage,selectedScenario:X.selectedScenario,selectedFormula:X.selectedFormula,targetStepId:null,previousPage:null,tempFormula:null,returnSource:X.returnSource,editEntryState:null})}else xe()},G=X=>{const oe=a.selectedFormula||"f"+Date.now(),we=a.tempFormula?.expression||"",be=a.tempFormula?.structureData,Se={id:oe,name:X.name||` ${oe}`,expression:we,description:X.description,equivalentExpressions:X.equivalentExpressions,symbols:X.symbols.map(Ce=>({symbol:Ce.symbol,meaning:Ce.meaning,unit:Ce.unit||void 0})),usedInContexts:X.usedInContexts,usedFormulas:X.usedFormulas,derivableFormulas:X.derivableFormulas,structureData:be,structureTree:be};if(he.saveFormula(Se),a.editEntryState){const Ce=a.editEntryState,Te=a.selectedFormula||oe;C({currentPage:Ce.returnPage,selectedFormula:Te,selectedScenario:Ce.selectedScenario,targetStepId:null,previousPage:null,tempFormula:null,returnSource:Ce.returnSource,editEntryState:null})}else xe()},Y=()=>{a.currentPage==="formulaDetail"?a.returnSource==="stepList"?C({...a,currentPage:"stepList",selectedFormula:null,previousPage:null}):C({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):a.currentPage==="stepList"?C({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):a.previousPage&&C({...a,currentPage:a.previousPage,previousPage:null})},xe=()=>{C({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null})};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.currentPage==="home"&&o.jsx(Hf,{onScenarioClick:L,onFormulaClick:k,onCreateFormula:B,onLearningClick:h}),a.currentPage==="stepList"&&a.selectedScenario&&o.jsx(Vf,{scenarioId:a.selectedScenario,targetStepId:a.targetStepId,onBack:Y,onFormulaClick:H,onLearningClick:h}),a.currentPage==="formulaDetail"&&a.selectedFormula&&o.jsx(Wf,{formulaId:a.selectedFormula,onBack:Y,onEdit:ee,onLearningClick:h,onFormulaClick:P,onContextClick:V}),a.currentPage==="learning"&&o.jsx(Kf,{onBack:Y,onNavigateHome:xe}),a.currentPage==="formulaStructureEdit"&&o.jsx(Yf,{formulaId:a.selectedFormula,draftExpression:a.tempFormula?.expression||void 0,draftStructureData:a.tempFormula?.structureData||a.tempFormula?.structureTree||void 0,onNext:U,onCancel:Q}),a.currentPage==="formulaInfoEdit"&&o.jsx(Gf,{formulaId:a.selectedFormula,expression:a.tempFormula?.expression||"",structureData:a.tempFormula?.structureTree||a.tempFormula?.structureData,onSave:G,onBack:re,onCancel:Q})]})}of.createRoot(document.getElementById("root")).render(o.jsx(Zf,{}));
