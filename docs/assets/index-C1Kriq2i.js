(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))E(F);new MutationObserver(F=>{for(const V of F)if(V.type==="childList")for(const k of V.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&E(k)}).observe(document,{childList:!0,subtree:!0});function a(F){const V={};return F.integrity&&(V.integrity=F.integrity),F.referrerPolicy&&(V.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?V.credentials="include":F.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function E(F){if(F.ep)return;F.ep=!0;const V=a(F);fetch(F.href,V)}})();function Gd(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var li={exports:{}},cl={},si={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au;function Zd(){if(Au)return be;Au=1;var C=Symbol.for("react.element"),w=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.iterator;function U(f){return f===null||typeof f!="object"?null:(f=G&&f[G]||f["@@iterator"],typeof f=="function"?f:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function J(f,m,R){this.props=f,this.context=m,this.refs=Y,this.updater=R||ee}J.prototype.isReactComponent={},J.prototype.setState=function(f,m){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,m,"setState")},J.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function ve(){}ve.prototype=J.prototype;function Z(f,m,R){this.props=f,this.context=m,this.refs=Y,this.updater=R||ee}var ce=Z.prototype=new ve;ce.constructor=Z,Q(ce,J.prototype),ce.isPureReactComponent=!0;var we=Array.isArray,Pe=Object.prototype.hasOwnProperty,Ne={current:null},Ie={key:!0,ref:!0,__self:!0,__source:!0};function Me(f,m,R){var p,y={},D=null,S=null;if(m!=null)for(p in m.ref!==void 0&&(S=m.ref),m.key!==void 0&&(D=""+m.key),m)Pe.call(m,p)&&!Ie.hasOwnProperty(p)&&(y[p]=m[p]);var L=arguments.length-2;if(L===1)y.children=R;else if(1<L){for(var le=Array(L),pe=0;pe<L;pe++)le[pe]=arguments[pe+2];y.children=le}if(f&&f.defaultProps)for(p in L=f.defaultProps,L)y[p]===void 0&&(y[p]=L[p]);return{$$typeof:C,type:f,key:D,ref:S,props:y,_owner:Ne.current}}function qe(f,m){return{$$typeof:C,type:f.type,key:m,ref:f.ref,props:f.props,_owner:f._owner}}function re(f){return typeof f=="object"&&f!==null&&f.$$typeof===C}function ke(f){var m={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(R){return m[R]})}var Se=/\/+/g;function je(f,m){return typeof f=="object"&&f!==null&&f.key!=null?ke(""+f.key):m.toString(36)}function _(f,m,R,p,y){var D=typeof f;(D==="undefined"||D==="boolean")&&(f=null);var S=!1;if(f===null)S=!0;else switch(D){case"string":case"number":S=!0;break;case"object":switch(f.$$typeof){case C:case w:S=!0}}if(S)return S=f,y=y(S),f=p===""?"."+je(S,0):p,we(y)?(R="",f!=null&&(R=f.replace(Se,"$&/")+"/"),_(y,m,R,"",function(pe){return pe})):y!=null&&(re(y)&&(y=qe(y,R+(!y.key||S&&S.key===y.key?"":(""+y.key).replace(Se,"$&/")+"/")+f)),m.push(y)),1;if(S=0,p=p===""?".":p+":",we(f))for(var L=0;L<f.length;L++){D=f[L];var le=p+je(D,L);S+=_(D,m,R,le,y)}else if(le=U(f),typeof le=="function")for(f=le.call(f),L=0;!(D=f.next()).done;)D=D.value,le=p+je(D,L++),S+=_(D,m,R,le,y);else if(D==="object")throw m=String(f),Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.");return S}function A(f,m,R){if(f==null)return f;var p=[],y=0;return _(f,p,"","",function(D){return m.call(R,D,y++)}),p}function ie(f){if(f._status===-1){var m=f._result;m=m(),m.then(function(R){(f._status===0||f._status===-1)&&(f._status=1,f._result=R)},function(R){(f._status===0||f._status===-1)&&(f._status=2,f._result=R)}),f._status===-1&&(f._status=0,f._result=m)}if(f._status===1)return f._result.default;throw f._result}var K={current:null},P={transition:null},te={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:P,ReactCurrentOwner:Ne};function q(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:A,forEach:function(f,m,R){A(f,function(){m.apply(this,arguments)},R)},count:function(f){var m=0;return A(f,function(){m++}),m},toArray:function(f){return A(f,function(m){return m})||[]},only:function(f){if(!re(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},be.Component=J,be.Fragment=a,be.Profiler=F,be.PureComponent=Z,be.StrictMode=E,be.Suspense=I,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,be.act=q,be.cloneElement=function(f,m,R){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var p=Q({},f.props),y=f.key,D=f.ref,S=f._owner;if(m!=null){if(m.ref!==void 0&&(D=m.ref,S=Ne.current),m.key!==void 0&&(y=""+m.key),f.type&&f.type.defaultProps)var L=f.type.defaultProps;for(le in m)Pe.call(m,le)&&!Ie.hasOwnProperty(le)&&(p[le]=m[le]===void 0&&L!==void 0?L[le]:m[le])}var le=arguments.length-2;if(le===1)p.children=R;else if(1<le){L=Array(le);for(var pe=0;pe<le;pe++)L[pe]=arguments[pe+2];p.children=L}return{$$typeof:C,type:f.type,key:y,ref:D,props:p,_owner:S}},be.createContext=function(f){return f={$$typeof:k,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:V,_context:f},f.Consumer=f},be.createElement=Me,be.createFactory=function(f){var m=Me.bind(null,f);return m.type=f,m},be.createRef=function(){return{current:null}},be.forwardRef=function(f){return{$$typeof:W,render:f}},be.isValidElement=re,be.lazy=function(f){return{$$typeof:H,_payload:{_status:-1,_result:f},_init:ie}},be.memo=function(f,m){return{$$typeof:x,type:f,compare:m===void 0?null:m}},be.startTransition=function(f){var m=P.transition;P.transition={};try{f()}finally{P.transition=m}},be.unstable_act=q,be.useCallback=function(f,m){return K.current.useCallback(f,m)},be.useContext=function(f){return K.current.useContext(f)},be.useDebugValue=function(){},be.useDeferredValue=function(f){return K.current.useDeferredValue(f)},be.useEffect=function(f,m){return K.current.useEffect(f,m)},be.useId=function(){return K.current.useId()},be.useImperativeHandle=function(f,m,R){return K.current.useImperativeHandle(f,m,R)},be.useInsertionEffect=function(f,m){return K.current.useInsertionEffect(f,m)},be.useLayoutEffect=function(f,m){return K.current.useLayoutEffect(f,m)},be.useMemo=function(f,m){return K.current.useMemo(f,m)},be.useReducer=function(f,m,R){return K.current.useReducer(f,m,R)},be.useRef=function(f){return K.current.useRef(f)},be.useState=function(f){return K.current.useState(f)},be.useSyncExternalStore=function(f,m,R){return K.current.useSyncExternalStore(f,m,R)},be.useTransition=function(){return K.current.useTransition()},be.version="18.3.1",be}var Bu;function ui(){return Bu||(Bu=1,si.exports=Zd()),si.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function ef(){if(Hu)return cl;Hu=1;var C=ui(),w=Symbol.for("react.element"),a=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,F=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function k(W,I,x){var H,G={},U=null,ee=null;x!==void 0&&(U=""+x),I.key!==void 0&&(U=""+I.key),I.ref!==void 0&&(ee=I.ref);for(H in I)E.call(I,H)&&!V.hasOwnProperty(H)&&(G[H]=I[H]);if(W&&W.defaultProps)for(H in I=W.defaultProps,I)G[H]===void 0&&(G[H]=I[H]);return{$$typeof:w,type:W,key:U,ref:ee,props:G,_owner:F.current}}return cl.Fragment=a,cl.jsx=k,cl.jsxs=k,cl}var Vu;function tf(){return Vu||(Vu=1,li.exports=ef()),li.exports}var s=tf(),vs={},oi={exports:{}},bt={},ii={exports:{}},ai={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function nf(){return Wu||(Wu=1,(function(C){function w(P,te){var q=P.length;P.push(te);e:for(;0<q;){var f=q-1>>>1,m=P[f];if(0<F(m,te))P[f]=te,P[q]=m,q=f;else break e}}function a(P){return P.length===0?null:P[0]}function E(P){if(P.length===0)return null;var te=P[0],q=P.pop();if(q!==te){P[0]=q;e:for(var f=0,m=P.length,R=m>>>1;f<R;){var p=2*(f+1)-1,y=P[p],D=p+1,S=P[D];if(0>F(y,q))D<m&&0>F(S,y)?(P[f]=S,P[D]=q,f=D):(P[f]=y,P[p]=q,f=p);else if(D<m&&0>F(S,q))P[f]=S,P[D]=q,f=D;else break e}}return te}function F(P,te){var q=P.sortIndex-te.sortIndex;return q!==0?q:P.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var V=performance;C.unstable_now=function(){return V.now()}}else{var k=Date,W=k.now();C.unstable_now=function(){return k.now()-W}}var I=[],x=[],H=1,G=null,U=3,ee=!1,Q=!1,Y=!1,J=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(P){for(var te=a(x);te!==null;){if(te.callback===null)E(x);else if(te.startTime<=P)E(x),te.sortIndex=te.expirationTime,w(I,te);else break;te=a(x)}}function we(P){if(Y=!1,ce(P),!Q)if(a(I)!==null)Q=!0,ie(Pe);else{var te=a(x);te!==null&&K(we,te.startTime-P)}}function Pe(P,te){Q=!1,Y&&(Y=!1,ve(Me),Me=-1),ee=!0;var q=U;try{for(ce(te),G=a(I);G!==null&&(!(G.expirationTime>te)||P&&!ke());){var f=G.callback;if(typeof f=="function"){G.callback=null,U=G.priorityLevel;var m=f(G.expirationTime<=te);te=C.unstable_now(),typeof m=="function"?G.callback=m:G===a(I)&&E(I),ce(te)}else E(I);G=a(I)}if(G!==null)var R=!0;else{var p=a(x);p!==null&&K(we,p.startTime-te),R=!1}return R}finally{G=null,U=q,ee=!1}}var Ne=!1,Ie=null,Me=-1,qe=5,re=-1;function ke(){return!(C.unstable_now()-re<qe)}function Se(){if(Ie!==null){var P=C.unstable_now();re=P;var te=!0;try{te=Ie(!0,P)}finally{te?je():(Ne=!1,Ie=null)}}else Ne=!1}var je;if(typeof Z=="function")je=function(){Z(Se)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,A=_.port2;_.port1.onmessage=Se,je=function(){A.postMessage(null)}}else je=function(){J(Se,0)};function ie(P){Ie=P,Ne||(Ne=!0,je())}function K(P,te){Me=J(function(){P(C.unstable_now())},te)}C.unstable_IdlePriority=5,C.unstable_ImmediatePriority=1,C.unstable_LowPriority=4,C.unstable_NormalPriority=3,C.unstable_Profiling=null,C.unstable_UserBlockingPriority=2,C.unstable_cancelCallback=function(P){P.callback=null},C.unstable_continueExecution=function(){Q||ee||(Q=!0,ie(Pe))},C.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<P?Math.floor(1e3/P):5},C.unstable_getCurrentPriorityLevel=function(){return U},C.unstable_getFirstCallbackNode=function(){return a(I)},C.unstable_next=function(P){switch(U){case 1:case 2:case 3:var te=3;break;default:te=U}var q=U;U=te;try{return P()}finally{U=q}},C.unstable_pauseExecution=function(){},C.unstable_requestPaint=function(){},C.unstable_runWithPriority=function(P,te){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=U;U=P;try{return te()}finally{U=q}},C.unstable_scheduleCallback=function(P,te,q){var f=C.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?f+q:f):q=f,P){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=q+m,P={id:H++,callback:te,priorityLevel:P,startTime:q,expirationTime:m,sortIndex:-1},q>f?(P.sortIndex=q,w(x,P),a(I)===null&&P===a(x)&&(Y?(ve(Me),Me=-1):Y=!0,K(we,q-f))):(P.sortIndex=m,w(I,P),Q||ee||(Q=!0,ie(Pe))),P},C.unstable_shouldYield=ke,C.unstable_wrapCallback=function(P){var te=U;return function(){var q=U;U=te;try{return P.apply(this,arguments)}finally{U=q}}}})(ai)),ai}var Qu;function rf(){return Qu||(Qu=1,ii.exports=nf()),ii.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function lf(){if(Ku)return bt;Ku=1;var C=ui(),w=rf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E=new Set,F={};function V(e,t){k(e,t),k(e+"Capture",t)}function k(e,t){for(F[e]=t,e=0;e<t.length;e++)E.add(t[e])}var W=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H={},G={};function U(e){return I.call(G,e)?!0:I.call(H,e)?!1:x.test(e)?G[e]=!0:(H[e]=!0,!1)}function ee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q(e,t,n,r){if(t===null||typeof t>"u"||ee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Y(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){J[e]=new Y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];J[t]=new Y(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){J[e]=new Y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){J[e]=new Y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){J[e]=new Y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){J[e]=new Y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){J[e]=new Y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){J[e]=new Y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){J[e]=new Y(e,5,!1,e.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ve,Z);J[t]=new Y(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ve,Z);J[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ve,Z);J[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){J[e]=new Y(e,1,!1,e.toLowerCase(),null,!1,!1)}),J.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){J[e]=new Y(e,1,!1,e.toLowerCase(),null,!0,!0)});function ce(e,t,n,r){var l=J.hasOwnProperty(t)?J[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q(t,n,l,r)&&(n=null),r||l===null?U(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var we=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),Me=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),P=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,f;function m(e){if(f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);f=t&&t[1]||""}return`
`+f+e}var R=!1;function p(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var r=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){r=N}e.call(t.prototype)}else{try{throw Error()}catch(N){r=N}e()}}catch(N){if(N&&r&&typeof N.stack=="string"){for(var l=N.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,u=o.length-1;1<=i&&0<=u&&l[i]!==o[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==o[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==o[u]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=u);break}}}finally{R=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?m(e):""}function y(e){switch(e.tag){case 5:return m(e.type);case 16:return m("Lazy");case 13:return m("Suspense");case 19:return m("SuspenseList");case 0:case 2:case 15:return e=p(e.type,!1),e;case 11:return e=p(e.type.render,!1),e;case 1:return e=p(e.type,!0),e;default:return""}}function D(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ie:return"Fragment";case Ne:return"Portal";case qe:return"Profiler";case Me:return"StrictMode";case je:return"Suspense";case _:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case re:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return t=e.displayName||null,t!==null?t:D(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return D(e(t))}catch{}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(t);case 8:return t===Me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function L(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pe(e){var t=le(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tt(e){e._valueTracker||(e._valueTracker=pe(e))}function Tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=le(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Je(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tr(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=L(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nr(e,t){t=t.checked,t!=null&&ce(e,"checked",t,!1)}function g(e,t){nr(e,t);var n=L(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?X(e,t.type,n):t.hasOwnProperty("defaultValue")&&X(e,t.type,L(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function X(e,t,n){(t!=="number"||Ae(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oe=Array.isArray;function me(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+L(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function _e(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Be(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(oe(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:L(n)}}function De(e,t){var n=L(t.value),r=L(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function He(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cn,On=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cn=cn||document.createElement("div"),cn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(e){ws.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Un[t]=Un[e]})});function dl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Un.hasOwnProperty(e)&&Un[e]?(""+t).trim():t+"px"}function fl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=dl(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Ns=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(e,t){if(t){if(Ns[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function b(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $=null;function ue(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ce=null,Fe=null,Ve=null;function nt(e){if(e=Jr(e)){if(typeof Ce!="function")throw Error(a(280));var t=e.stateNode;t&&(t=zl(t),Ce(e.stateNode,e.type,t))}}function en(e){Fe?Ve?Ve.push(e):Ve=[e]:Fe=e}function tn(){if(Fe){var e=Fe,t=Ve;if(Ve=Fe=null,nt(e),t)for(e=0;e<t.length;e++)nt(t[e])}}function mt(e,t){return e(t)}function Te(){}var Oe=!1;function An(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return mt(e,t,n)}finally{Oe=!1,(Fe!==null||Ve!==null)&&(Te(),tn())}}function Ee(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var $e=!1;if(W)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){$e=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{$e=!1}function Pt(e,t,n,r,l,o,i,u,c){var N=Array.prototype.slice.call(arguments,3);try{t.apply(n,N)}catch(T){this.onError(T)}}var it=!1,Rt=null,nn=!1,yt=null,Pr={onError:function(e){it=!0,Rt=e}};function Ss(e,t,n,r,l,o,i,u,c){it=!1,Rt=null,Pt.apply(Pr,arguments)}function Ir(e,t,n,r,l,o,i,u,c){if(Ss.apply(this,arguments),it){if(it){var N=Rt;it=!1,Rt=null}else throw Error(a(198));nn||(nn=!0,yt=N)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ci(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function di(e){if(Bn(e)!==e)throw Error(a(188))}function ac(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return di(l),e;if(o===r)return di(l),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,u=l.child;u;){if(u===n){i=!0,n=l,r=o;break}if(u===r){i=!0,r=l,n=o;break}u=u.sibling}if(!i){for(u=o.child;u;){if(u===n){i=!0,n=o,r=l;break}if(u===r){i=!0,r=o,n=l;break}u=u.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function fi(e){return e=ac(e),e!==null?pi(e):null}function pi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pi(e);if(t!==null)return t;e=e.sibling}return null}var mi=w.unstable_scheduleCallback,hi=w.unstable_cancelCallback,uc=w.unstable_shouldYield,cc=w.unstable_requestPaint,Ze=w.unstable_now,dc=w.unstable_getCurrentPriorityLevel,js=w.unstable_ImmediatePriority,xi=w.unstable_UserBlockingPriority,pl=w.unstable_NormalPriority,fc=w.unstable_LowPriority,gi=w.unstable_IdlePriority,ml=null,rn=null;function pc(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:xc,mc=Math.log,hc=Math.LN2;function xc(e){return e>>>=0,e===0?32:31-(mc(e)/hc|0)|0}var hl=64,xl=4194304;function Fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~l;u!==0?r=Fr(u):(o&=i,o!==0&&(r=Fr(o)))}else i=n&~l,i!==0?r=Fr(i):o!==0&&(r=Fr(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),l=1<<n,r|=e[n],t&=~l;return r}function gc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Vt(o),u=1<<i,c=l[i];c===-1?((u&n)===0||(u&r)!==0)&&(l[i]=gc(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function ks(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vi(){var e=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),e}function Cs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function yc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Vt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Es(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Re=0;function yi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wi,bs,Ni,Si,ji,_s=!1,vl=[],yn=null,wn=null,Nn=null,zr=new Map,Tr=new Map,Sn=[],wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ki(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Rr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Jr(t),t!==null&&bs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Nc(e,t,n,r,l){switch(t){case"focusin":return yn=Rr(yn,e,t,n,r,l),!0;case"dragenter":return wn=Rr(wn,e,t,n,r,l),!0;case"mouseover":return Nn=Rr(Nn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return zr.set(o,Rr(zr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Tr.set(o,Rr(Tr.get(o)||null,e,t,n,r,l)),!0}return!1}function Ci(e){var t=Hn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=ci(n),t!==null){e.blockedOn=t,ji(e.priority,function(){Ni(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Is(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$=r,n.target.dispatchEvent(r),$=null}else return t=Jr(n),t!==null&&bs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ei(e,t,n){yl(e)&&n.delete(t)}function Sc(){_s=!1,yn!==null&&yl(yn)&&(yn=null),wn!==null&&yl(wn)&&(wn=null),Nn!==null&&yl(Nn)&&(Nn=null),zr.forEach(Ei),Tr.forEach(Ei)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,_s||(_s=!0,w.unstable_scheduleCallback(w.unstable_NormalPriority,Sc)))}function Dr(e){function t(l){return Mr(l,e)}if(0<vl.length){Mr(vl[0],e);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&Mr(yn,e),wn!==null&&Mr(wn,e),Nn!==null&&Mr(Nn,e),zr.forEach(t),Tr.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Ci(n),n.blockedOn===null&&Sn.shift()}var lr=we.ReactCurrentBatchConfig,wl=!0;function jc(e,t,n,r){var l=Re,o=lr.transition;lr.transition=null;try{Re=1,Ps(e,t,n,r)}finally{Re=l,lr.transition=o}}function kc(e,t,n,r){var l=Re,o=lr.transition;lr.transition=null;try{Re=4,Ps(e,t,n,r)}finally{Re=l,lr.transition=o}}function Ps(e,t,n,r){if(wl){var l=Is(e,t,n,r);if(l===null)Ks(e,t,r,Nl,n),ki(e,r);else if(Nc(l,e,t,n,r))r.stopPropagation();else if(ki(e,r),t&4&&-1<wc.indexOf(e)){for(;l!==null;){var o=Jr(l);if(o!==null&&wi(o),o=Is(e,t,n,r),o===null&&Ks(e,t,r,Nl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Ks(e,t,r,null,n)}}var Nl=null;function Is(e,t,n,r){if(Nl=null,e=ue(r),e=Hn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ci(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function bi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dc()){case js:return 1;case xi:return 4;case pl:case fc:return 16;case gi:return 536870912;default:return 16}default:return 16}}var jn=null,Fs=null,Sl=null;function _i(){if(Sl)return Sl;var e,t=Fs,n=t.length,r,l="value"in jn?jn.value:jn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return Sl=l.slice(e,1<r?1-r:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function Pi(){return!1}function It(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kl:Pi,this.isPropagationStopped=Pi,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=It(sr),Or=q({},sr,{view:0,detail:0}),Cc=It(Or),zs,Ts,$r,Cl=q({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(zs=e.screenX-$r.screenX,Ts=e.screenY-$r.screenY):Ts=zs=0,$r=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Ii=It(Cl),Ec=q({},Cl,{dataTransfer:0}),bc=It(Ec),_c=q({},Or,{relatedTarget:0}),Rs=It(_c),Pc=q({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=It(Pc),Fc=q({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lc=It(Fc),zc=q({},sr,{data:0}),Fi=It(zc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mc[e])?!!t[e]:!1}function Ms(){return Dc}var Oc=q({},Or,{key:function(e){if(e.key){var t=Tc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$c=It(Oc),Uc=q({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=It(Uc),Ac=q({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Bc=It(Ac),Hc=q({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=It(Hc),Wc=q({},Cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qc=It(Wc),Kc=[9,13,27,32],Ds=W&&"CompositionEvent"in window,Ur=null;W&&"documentMode"in document&&(Ur=document.documentMode);var qc=W&&"TextEvent"in window&&!Ur,zi=W&&(!Ds||Ur&&8<Ur&&11>=Ur),Ti=" ",Ri=!1;function Mi(e,t){switch(e){case"keyup":return Kc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Di(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Jc(e,t){switch(e){case"compositionend":return Di(t);case"keypress":return t.which!==32?null:(Ri=!0,Ti);case"textInput":return e=t.data,e===Ti&&Ri?null:e;default:return null}}function Yc(e,t){if(or)return e==="compositionend"||!Ds&&Mi(e,t)?(e=_i(),Sl=Fs=jn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zi&&t.locale!=="ko"?null:t.data;default:return null}}var Xc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xc[e.type]:t==="textarea"}function $i(e,t,n,r){en(r),t=Il(t,"onChange"),0<t.length&&(n=new Ls("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,Br=null;function Gc(e){ra(e,0)}function El(e){var t=dr(e);if(Tt(t))return e}function Zc(e,t){if(e==="change")return t}var Ui=!1;if(W){var Os;if(W){var $s="oninput"in document;if(!$s){var Ai=document.createElement("div");Ai.setAttribute("oninput","return;"),$s=typeof Ai.oninput=="function"}Os=$s}else Os=!1;Ui=Os&&(!document.documentMode||9<document.documentMode)}function Bi(){Ar&&(Ar.detachEvent("onpropertychange",Hi),Br=Ar=null)}function Hi(e){if(e.propertyName==="value"&&El(Br)){var t=[];$i(t,Br,e,ue(e)),An(Gc,t)}}function ed(e,t,n){e==="focusin"?(Bi(),Ar=t,Br=n,Ar.attachEvent("onpropertychange",Hi)):e==="focusout"&&Bi()}function td(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(Br)}function nd(e,t){if(e==="click")return El(t)}function rd(e,t){if(e==="input"||e==="change")return El(t)}function ld(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:ld;function Hr(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!I.call(t,l)||!Wt(e[l],t[l]))return!1}return!0}function Vi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wi(e,t){var n=Vi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vi(n)}}function Qi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ki(){for(var e=window,t=Ae();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ae(e.document)}return t}function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sd(e){var t=Ki(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qi(n.ownerDocument.documentElement,n)){if(r!==null&&Us(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Wi(n,o);var i=Wi(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var od=W&&"documentMode"in document&&11>=document.documentMode,ir=null,As=null,Vr=null,Bs=!1;function qi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bs||ir==null||ir!==Ae(r)||(r=ir,"selectionStart"in r&&Us(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Hr(Vr,r)||(Vr=r,r=Il(As,"onSelect"),0<r.length&&(t=new Ls("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function bl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},Hs={},Ji={};W&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function _l(e){if(Hs[e])return Hs[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ji)return Hs[e]=t[n];return e}var Yi=_l("animationend"),Xi=_l("animationiteration"),Gi=_l("animationstart"),Zi=_l("transitionend"),ea=new Map,ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){ea.set(e,t),V(t,[e])}for(var Vs=0;Vs<ta.length;Vs++){var Ws=ta[Vs],id=Ws.toLowerCase(),ad=Ws[0].toUpperCase()+Ws.slice(1);kn(id,"on"+ad)}kn(Yi,"onAnimationEnd"),kn(Xi,"onAnimationIteration"),kn(Gi,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Zi,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),V("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),V("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),V("onBeforeInput",["compositionend","keypress","textInput","paste"]),V("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ud=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function na(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ir(r,t,void 0,e),e.currentTarget=null}function ra(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],c=u.instance,N=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;na(l,u,N),o=c}else for(i=0;i<r.length;i++){if(u=r[i],c=u.instance,N=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;na(l,u,N),o=c}}}if(nn)throw e=yt,nn=!1,yt=null,e}function We(e,t){var n=t[Zs];n===void 0&&(n=t[Zs]=new Set);var r=e+"__bubble";n.has(r)||(la(t,e,2,!1),n.add(r))}function Qs(e,t,n){var r=0;t&&(r|=4),la(n,e,r,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Pl]){e[Pl]=!0,E.forEach(function(n){n!=="selectionchange"&&(ud.has(n)||Qs(n,!1,e),Qs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,Qs("selectionchange",!1,t))}}function la(e,t,n,r){switch(bi(t)){case 1:var l=jc;break;case 4:l=kc;break;default:l=Ps}n=l.bind(null,t,n,e),l=void 0,!$e||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ks(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;u!==null;){if(i=Hn(u),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}u=u.parentNode}}r=r.return}An(function(){var N=o,T=ue(n),O=[];e:{var z=ea.get(e);if(z!==void 0){var ne=Ls,ae=e;switch(e){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":ne=$c;break;case"focusin":ae="focus",ne=Rs;break;case"focusout":ae="blur",ne=Rs;break;case"beforeblur":case"afterblur":ne=Rs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Bc;break;case Yi:case Xi:case Gi:ne=Ic;break;case Zi:ne=Vc;break;case"scroll":ne=Cc;break;case"wheel":ne=Qc;break;case"copy":case"cut":case"paste":ne=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Li}var de=(t&4)!==0,et=!de&&e==="scroll",h=de?z!==null?z+"Capture":null:z;de=[];for(var d=N,v;d!==null;){v=d;var B=v.stateNode;if(v.tag===5&&B!==null&&(v=B,h!==null&&(B=Ee(d,h),B!=null&&de.push(Kr(d,B,v)))),et)break;d=d.return}0<de.length&&(z=new ne(z,ae,null,n,T),O.push({event:z,listeners:de}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",z&&n!==$&&(ae=n.relatedTarget||n.fromElement)&&(Hn(ae)||ae[dn]))break e;if((ne||z)&&(z=T.window===T?T:(z=T.ownerDocument)?z.defaultView||z.parentWindow:window,ne?(ae=n.relatedTarget||n.toElement,ne=N,ae=ae?Hn(ae):null,ae!==null&&(et=Bn(ae),ae!==et||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=N),ne!==ae)){if(de=Ii,B="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(de=Li,B="onPointerLeave",h="onPointerEnter",d="pointer"),et=ne==null?z:dr(ne),v=ae==null?z:dr(ae),z=new de(B,d+"leave",ne,n,T),z.target=et,z.relatedTarget=v,B=null,Hn(T)===N&&(de=new de(h,d+"enter",ae,n,T),de.target=v,de.relatedTarget=et,B=de),et=B,ne&&ae)t:{for(de=ne,h=ae,d=0,v=de;v;v=ur(v))d++;for(v=0,B=h;B;B=ur(B))v++;for(;0<d-v;)de=ur(de),d--;for(;0<v-d;)h=ur(h),v--;for(;d--;){if(de===h||h!==null&&de===h.alternate)break t;de=ur(de),h=ur(h)}de=null}else de=null;ne!==null&&sa(O,z,ne,de,!1),ae!==null&&et!==null&&sa(O,et,ae,de,!0)}}e:{if(z=N?dr(N):window,ne=z.nodeName&&z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&z.type==="file")var fe=Zc;else if(Oi(z))if(Ui)fe=rd;else{fe=td;var xe=ed}else(ne=z.nodeName)&&ne.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(fe=nd);if(fe&&(fe=fe(e,N))){$i(O,fe,n,T);break e}xe&&xe(e,z,N),e==="focusout"&&(xe=z._wrapperState)&&xe.controlled&&z.type==="number"&&X(z,"number",z.value)}switch(xe=N?dr(N):window,e){case"focusin":(Oi(xe)||xe.contentEditable==="true")&&(ir=xe,As=N,Vr=null);break;case"focusout":Vr=As=ir=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,qi(O,n,T);break;case"selectionchange":if(od)break;case"keydown":case"keyup":qi(O,n,T)}var ge;if(Ds)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else or?Mi(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(zi&&n.locale!=="ko"&&(or||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&or&&(ge=_i()):(jn=T,Fs="value"in jn?jn.value:jn.textContent,or=!0)),xe=Il(N,ye),0<xe.length&&(ye=new Fi(ye,e,null,n,T),O.push({event:ye,listeners:xe}),ge?ye.data=ge:(ge=Di(n),ge!==null&&(ye.data=ge)))),(ge=qc?Jc(e,n):Yc(e,n))&&(N=Il(N,"onBeforeInput"),0<N.length&&(T=new Fi("onBeforeInput","beforeinput",null,n,T),O.push({event:T,listeners:N}),T.data=ge))}ra(O,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Ee(e,n),o!=null&&r.unshift(Kr(e,o,l)),o=Ee(e,t),o!=null&&r.push(Kr(e,o,l))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sa(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var u=n,c=u.alternate,N=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&N!==null&&(u=N,l?(c=Ee(n,o),c!=null&&i.unshift(Kr(n,c,u))):l||(c=Ee(n,o),c!=null&&i.push(Kr(n,c,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var cd=/\r\n?/g,dd=/\u0000|\uFFFD/g;function oa(e){return(typeof e=="string"?e:""+e).replace(cd,`
`).replace(dd,"")}function Fl(e,t,n){if(t=oa(t),oa(e)!==t&&n)throw Error(a(425))}function Ll(){}var qs=null,Js=null;function Ys(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xs=typeof setTimeout=="function"?setTimeout:void 0,fd=typeof clearTimeout=="function"?clearTimeout:void 0,ia=typeof Promise=="function"?Promise:void 0,pd=typeof queueMicrotask=="function"?queueMicrotask:typeof ia<"u"?function(e){return ia.resolve(null).then(e).catch(md)}:Xs;function md(e){setTimeout(function(){throw e})}function Gs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Dr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Dr(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),ln="__reactFiber$"+cr,qr="__reactProps$"+cr,dn="__reactContainer$"+cr,Zs="__reactEvents$"+cr,hd="__reactListeners$"+cr,xd="__reactHandles$"+cr;function Hn(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=aa(e);e!==null;){if(n=e[ln])return n;e=aa(e)}return t}e=n,n=e.parentNode}return null}function Jr(e){return e=e[ln]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function zl(e){return e[qr]||null}var eo=[],fr=-1;function En(e){return{current:e}}function Qe(e){0>fr||(e.current=eo[fr],eo[fr]=null,fr--)}function Ue(e,t){fr++,eo[fr]=e.current,e.current=t}var bn={},ht=En(bn),St=En(!1),Vn=bn;function pr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function jt(e){return e=e.childContextTypes,e!=null}function Tl(){Qe(St),Qe(ht)}function ua(e,t,n){if(ht.current!==bn)throw Error(a(168));Ue(ht,t),Ue(St,n)}function ca(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(a(108,S(e)||"Unknown",l));return q({},n,r)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Vn=ht.current,Ue(ht,e),Ue(St,St.current),!0}function da(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ca(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,Qe(St),Qe(ht),Ue(ht,e)):Qe(St),Ue(St,n)}var fn=null,Ml=!1,to=!1;function fa(e){fn===null?fn=[e]:fn.push(e)}function gd(e){Ml=!0,fa(e)}function _n(){if(!to&&fn!==null){to=!0;var e=0,t=Re;try{var n=fn;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Ml=!1}catch(l){throw fn!==null&&(fn=fn.slice(e+1)),mi(js,_n),l}finally{Re=t,to=!1}}return null}var mr=[],hr=0,Dl=null,Ol=0,Mt=[],Dt=0,Wn=null,pn=1,mn="";function Qn(e,t){mr[hr++]=Ol,mr[hr++]=Dl,Dl=e,Ol=t}function pa(e,t,n){Mt[Dt++]=pn,Mt[Dt++]=mn,Mt[Dt++]=Wn,Wn=e;var r=pn;e=mn;var l=32-Vt(r)-1;r&=~(1<<l),n+=1;var o=32-Vt(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,pn=1<<32-Vt(t)+l|n<<l|r,mn=o+e}else pn=1<<o|n<<l|r,mn=e}function no(e){e.return!==null&&(Qn(e,1),pa(e,1,0))}function ro(e){for(;e===Dl;)Dl=mr[--hr],mr[hr]=null,Ol=mr[--hr],mr[hr]=null;for(;e===Wn;)Wn=Mt[--Dt],Mt[Dt]=null,mn=Mt[--Dt],Mt[Dt]=null,pn=Mt[--Dt],Mt[Dt]=null}var Ft=null,Lt=null,Ke=!1,Qt=null;function ma(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ha(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:pn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,Lt=null,!0):!1;default:return!1}}function lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(Ke){var t=Lt;if(t){var n=t;if(!ha(e,t)){if(lo(e))throw Error(a(418));t=Cn(n.nextSibling);var r=Ft;t&&ha(e,t)?ma(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Ft=e)}}else{if(lo(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ke=!1,Ft=e}}}function xa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function $l(e){if(e!==Ft)return!1;if(!Ke)return xa(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ys(e.type,e.memoizedProps)),t&&(t=Lt)){if(lo(e))throw ga(),Error(a(418));for(;t;)ma(e,t),t=Cn(t.nextSibling)}if(xa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=Cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Ft?Cn(e.stateNode.nextSibling):null;return!0}function ga(){for(var e=Lt;e;)e=Cn(e.nextSibling)}function xr(){Lt=Ft=null,Ke=!1}function oo(e){Qt===null?Qt=[e]:Qt.push(e)}var vd=we.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var u=l.refs;i===null?delete u[o]:u[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ul(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){var t=e._init;return t(e._payload)}function ya(e){function t(h,d){if(e){var v=h.deletions;v===null?(h.deletions=[d],h.flags|=16):v.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function l(h,d){return h=Mn(h,d),h.index=0,h.sibling=null,h}function o(h,d,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<d?(h.flags|=2,d):v):(h.flags|=2,d)):(h.flags|=1048576,d)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function u(h,d,v,B){return d===null||d.tag!==6?(d=Go(v,h.mode,B),d.return=h,d):(d=l(d,v),d.return=h,d)}function c(h,d,v,B){var fe=v.type;return fe===Ie?T(h,d,v.props.children,B,v.key):d!==null&&(d.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ie&&va(fe)===d.type)?(B=l(d,v.props),B.ref=Yr(h,d,v),B.return=h,B):(B=cs(v.type,v.key,v.props,null,h.mode,B),B.ref=Yr(h,d,v),B.return=h,B)}function N(h,d,v,B){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Zo(v,h.mode,B),d.return=h,d):(d=l(d,v.children||[]),d.return=h,d)}function T(h,d,v,B,fe){return d===null||d.tag!==7?(d=er(v,h.mode,B,fe),d.return=h,d):(d=l(d,v),d.return=h,d)}function O(h,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Go(""+d,h.mode,v),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Pe:return v=cs(d.type,d.key,d.props,null,h.mode,v),v.ref=Yr(h,null,d),v.return=h,v;case Ne:return d=Zo(d,h.mode,v),d.return=h,d;case ie:var B=d._init;return O(h,B(d._payload),v)}if(oe(d)||te(d))return d=er(d,h.mode,v,null),d.return=h,d;Ul(h,d)}return null}function z(h,d,v,B){var fe=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return fe!==null?null:u(h,d,""+v,B);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pe:return v.key===fe?c(h,d,v,B):null;case Ne:return v.key===fe?N(h,d,v,B):null;case ie:return fe=v._init,z(h,d,fe(v._payload),B)}if(oe(v)||te(v))return fe!==null?null:T(h,d,v,B,null);Ul(h,v)}return null}function ne(h,d,v,B,fe){if(typeof B=="string"&&B!==""||typeof B=="number")return h=h.get(v)||null,u(d,h,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Pe:return h=h.get(B.key===null?v:B.key)||null,c(d,h,B,fe);case Ne:return h=h.get(B.key===null?v:B.key)||null,N(d,h,B,fe);case ie:var xe=B._init;return ne(h,d,v,xe(B._payload),fe)}if(oe(B)||te(B))return h=h.get(v)||null,T(d,h,B,fe,null);Ul(d,B)}return null}function ae(h,d,v,B){for(var fe=null,xe=null,ge=d,ye=d=0,ct=null;ge!==null&&ye<v.length;ye++){ge.index>ye?(ct=ge,ge=null):ct=ge.sibling;var ze=z(h,ge,v[ye],B);if(ze===null){ge===null&&(ge=ct);break}e&&ge&&ze.alternate===null&&t(h,ge),d=o(ze,d,ye),xe===null?fe=ze:xe.sibling=ze,xe=ze,ge=ct}if(ye===v.length)return n(h,ge),Ke&&Qn(h,ye),fe;if(ge===null){for(;ye<v.length;ye++)ge=O(h,v[ye],B),ge!==null&&(d=o(ge,d,ye),xe===null?fe=ge:xe.sibling=ge,xe=ge);return Ke&&Qn(h,ye),fe}for(ge=r(h,ge);ye<v.length;ye++)ct=ne(ge,h,ye,v[ye],B),ct!==null&&(e&&ct.alternate!==null&&ge.delete(ct.key===null?ye:ct.key),d=o(ct,d,ye),xe===null?fe=ct:xe.sibling=ct,xe=ct);return e&&ge.forEach(function(Dn){return t(h,Dn)}),Ke&&Qn(h,ye),fe}function de(h,d,v,B){var fe=te(v);if(typeof fe!="function")throw Error(a(150));if(v=fe.call(v),v==null)throw Error(a(151));for(var xe=fe=null,ge=d,ye=d=0,ct=null,ze=v.next();ge!==null&&!ze.done;ye++,ze=v.next()){ge.index>ye?(ct=ge,ge=null):ct=ge.sibling;var Dn=z(h,ge,ze.value,B);if(Dn===null){ge===null&&(ge=ct);break}e&&ge&&Dn.alternate===null&&t(h,ge),d=o(Dn,d,ye),xe===null?fe=Dn:xe.sibling=Dn,xe=Dn,ge=ct}if(ze.done)return n(h,ge),Ke&&Qn(h,ye),fe;if(ge===null){for(;!ze.done;ye++,ze=v.next())ze=O(h,ze.value,B),ze!==null&&(d=o(ze,d,ye),xe===null?fe=ze:xe.sibling=ze,xe=ze);return Ke&&Qn(h,ye),fe}for(ge=r(h,ge);!ze.done;ye++,ze=v.next())ze=ne(ge,h,ye,ze.value,B),ze!==null&&(e&&ze.alternate!==null&&ge.delete(ze.key===null?ye:ze.key),d=o(ze,d,ye),xe===null?fe=ze:xe.sibling=ze,xe=ze);return e&&ge.forEach(function(Xd){return t(h,Xd)}),Ke&&Qn(h,ye),fe}function et(h,d,v,B){if(typeof v=="object"&&v!==null&&v.type===Ie&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pe:e:{for(var fe=v.key,xe=d;xe!==null;){if(xe.key===fe){if(fe=v.type,fe===Ie){if(xe.tag===7){n(h,xe.sibling),d=l(xe,v.props.children),d.return=h,h=d;break e}}else if(xe.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ie&&va(fe)===xe.type){n(h,xe.sibling),d=l(xe,v.props),d.ref=Yr(h,xe,v),d.return=h,h=d;break e}n(h,xe);break}else t(h,xe);xe=xe.sibling}v.type===Ie?(d=er(v.props.children,h.mode,B,v.key),d.return=h,h=d):(B=cs(v.type,v.key,v.props,null,h.mode,B),B.ref=Yr(h,d,v),B.return=h,h=B)}return i(h);case Ne:e:{for(xe=v.key;d!==null;){if(d.key===xe)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(h,d.sibling),d=l(d,v.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Zo(v,h.mode,B),d.return=h,h=d}return i(h);case ie:return xe=v._init,et(h,d,xe(v._payload),B)}if(oe(v))return ae(h,d,v,B);if(te(v))return de(h,d,v,B);Ul(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(h,d.sibling),d=l(d,v),d.return=h,h=d):(n(h,d),d=Go(v,h.mode,B),d.return=h,h=d),i(h)):n(h,d)}return et}var gr=ya(!0),wa=ya(!1),Al=En(null),Bl=null,vr=null,io=null;function ao(){io=vr=Bl=null}function uo(e){var t=Al.current;Qe(Al),e._currentValue=t}function co(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){Bl=e,io=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(kt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(io!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(Bl===null)throw Error(a(308));vr=e,Bl.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Kn=null;function fo(e){Kn===null?Kn=[e]:Kn.push(e)}function Na(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,fo(t)):(n.next=l.next,l.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Le&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,hn(e,n)}return l=r.interleaved,l===null?(t.next=t,fo(r)):(t.next=l.next,l.next=t),r.interleaved=t,hn(e,n)}function Hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Es(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vl(e,t,n,r){var l=e.updateQueue;Pn=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,N=c.next;c.next=null,i===null?o=N:i.next=N,i=c;var T=e.alternate;T!==null&&(T=T.updateQueue,u=T.lastBaseUpdate,u!==i&&(u===null?T.firstBaseUpdate=N:u.next=N,T.lastBaseUpdate=c))}if(o!==null){var O=l.baseState;i=0,T=N=c=null,u=o;do{var z=u.lane,ne=u.eventTime;if((r&z)===z){T!==null&&(T=T.next={eventTime:ne,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var ae=e,de=u;switch(z=t,ne=n,de.tag){case 1:if(ae=de.payload,typeof ae=="function"){O=ae.call(ne,O,z);break e}O=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=de.payload,z=typeof ae=="function"?ae.call(ne,O,z):ae,z==null)break e;O=q({},O,z);break e;case 2:Pn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,z=l.effects,z===null?l.effects=[u]:z.push(u))}else ne={eventTime:ne,lane:z,tag:u.tag,payload:u.payload,callback:u.callback,next:null},T===null?(N=T=ne,c=O):T=T.next=ne,i|=z;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;z=u,u=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);if(T===null&&(c=O),l.baseState=c,l.firstBaseUpdate=N,l.lastBaseUpdate=T,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Yn|=i,e.lanes=i,e.memoizedState=O}}function ka(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(a(191,l));l.call(r)}}}var Xr={},sn=En(Xr),Gr=En(Xr),Zr=En(Xr);function qn(e){if(e===Xr)throw Error(a(174));return e}function mo(e,t){switch(Ue(Zr,t),Ue(Gr,e),Ue(sn,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ht(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ht(t,e)}Qe(sn),Ue(sn,t)}function wr(){Qe(sn),Qe(Gr),Qe(Zr)}function Ca(e){qn(Zr.current);var t=qn(sn.current),n=Ht(t,e.type);t!==n&&(Ue(Gr,e),Ue(sn,n))}function ho(e){Gr.current===e&&(Qe(sn),Qe(Gr))}var Ye=En(0);function Wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=[];function go(){for(var e=0;e<xo.length;e++)xo[e]._workInProgressVersionPrimary=null;xo.length=0}var Ql=we.ReactCurrentDispatcher,vo=we.ReactCurrentBatchConfig,Jn=0,Xe=null,st=null,at=null,Kl=!1,el=!1,tl=0,yd=0;function xt(){throw Error(a(321))}function yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,l,o){if(Jn=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ql.current=e===null||e.memoizedState===null?jd:kd,e=n(r,l),el){o=0;do{if(el=!1,tl=0,25<=o)throw Error(a(301));o+=1,at=st=null,t.updateQueue=null,Ql.current=Cd,e=n(r,l)}while(el)}if(Ql.current=Yl,t=st!==null&&st.next!==null,Jn=0,at=st=Xe=null,Kl=!1,t)throw Error(a(300));return e}function No(){var e=tl!==0;return tl=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Xe.memoizedState=at=e:at=at.next=e,at}function $t(){if(st===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=at===null?Xe.memoizedState:at.next;if(t!==null)at=t,st=e;else{if(e===null)throw Error(a(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},at===null?Xe.memoizedState=at=e:at=at.next=e}return at}function nl(e,t){return typeof t=="function"?t(e):t}function So(e){var t=$t(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=st,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var u=i=null,c=null,N=o;do{var T=N.lane;if((Jn&T)===T)c!==null&&(c=c.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),r=N.hasEagerState?N.eagerState:e(r,N.action);else{var O={lane:T,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};c===null?(u=c=O,i=r):c=c.next=O,Xe.lanes|=T,Yn|=T}N=N.next}while(N!==null&&N!==o);c===null?i=r:c.next=u,Wt(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Xe.lanes|=o,Yn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=$t(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);Wt(o,t.memoizedState)||(kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ea(){}function ba(e,t){var n=Xe,r=$t(),l=t(),o=!Wt(r.memoizedState,l);if(o&&(r.memoizedState=l,kt=!0),r=r.queue,ko(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,rl(9,Pa.bind(null,n,r,l,t),void 0,null),ut===null)throw Error(a(349));(Jn&30)!==0||_a(n,t,l)}return l}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&La(e)}function Ia(e,t,n){return n(function(){Fa(t)&&La(e)})}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function La(e){var t=hn(e,1);t!==null&&Yt(t,e,1,-1)}function za(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t.queue=e,e=e.dispatch=Sd.bind(null,Xe,e),[t.memoizedState,e]}function rl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ta(){return $t().memoizedState}function ql(e,t,n,r){var l=on();Xe.flags|=e,l.memoizedState=rl(1|t,n,void 0,r===void 0?null:r)}function Jl(e,t,n,r){var l=$t();r=r===void 0?null:r;var o=void 0;if(st!==null){var i=st.memoizedState;if(o=i.destroy,r!==null&&yo(r,i.deps)){l.memoizedState=rl(t,n,o,r);return}}Xe.flags|=e,l.memoizedState=rl(1|t,n,o,r)}function Ra(e,t){return ql(8390656,8,e,t)}function ko(e,t){return Jl(2048,8,e,t)}function Ma(e,t){return Jl(4,2,e,t)}function Da(e,t){return Jl(4,4,e,t)}function Oa(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $a(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4,4,Oa.bind(null,t,e),n)}function Co(){}function Ua(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return(Jn&21)===0?(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n):(Wt(n,t)||(n=vi(),Xe.lanes|=n,Yn|=n,e.baseState=!0),t)}function wd(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=vo.transition;vo.transition={};try{e(!1),t()}finally{Re=n,vo.transition=r}}function Ha(){return $t().memoizedState}function Nd(e,t,n){var r=Tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e))Wa(t,n);else if(n=Na(e,t,n,r),n!==null){var l=Nt();Yt(n,e,r,l),Qa(n,t,r)}}function Sd(e,t,n){var r=Tn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))Wa(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,u=o(i,n);if(l.hasEagerState=!0,l.eagerState=u,Wt(u,i)){var c=t.interleaved;c===null?(l.next=l,fo(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Na(e,t,l,r),n!==null&&(l=Nt(),Yt(n,e,r,l),Qa(n,t,r))}}function Va(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function Wa(e,t){el=Kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Es(e,n)}}var Yl={readContext:Ot,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},jd={readContext:Ot,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,Oa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nd.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:za,useDebugValue:Co,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=wd.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,l=on();if(Ke){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),ut===null)throw Error(a(349));(Jn&30)!==0||_a(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ra(Ia.bind(null,r,o,e),[e]),r.flags|=2048,rl(9,Pa.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=on(),t=ut.identifierPrefix;if(Ke){var n=mn,r=pn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kd={readContext:Ot,useCallback:Ua,useContext:Ot,useEffect:ko,useImperativeHandle:$a,useInsertionEffect:Ma,useLayoutEffect:Da,useMemo:Aa,useReducer:So,useRef:Ta,useState:function(){return So(nl)},useDebugValue:Co,useDeferredValue:function(e){var t=$t();return Ba(t,st.memoizedState,e)},useTransition:function(){var e=So(nl)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Ea,useSyncExternalStore:ba,useId:Ha,unstable_isNewReconciler:!1},Cd={readContext:Ot,useCallback:Ua,useContext:Ot,useEffect:ko,useImperativeHandle:$a,useInsertionEffect:Ma,useLayoutEffect:Da,useMemo:Aa,useReducer:jo,useRef:Ta,useState:function(){return jo(nl)},useDebugValue:Co,useDeferredValue:function(e){var t=$t();return st===null?t.memoizedState=e:Ba(t,st.memoizedState,e)},useTransition:function(){var e=jo(nl)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Ea,useSyncExternalStore:ba,useId:Ha,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xl={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),l=Tn(e),o=xn(r,l);o.payload=t,n!=null&&(o.callback=n),t=In(e,o,l),t!==null&&(Yt(t,e,l,r),Hl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),l=Tn(e),o=xn(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=In(e,o,l),t!==null&&(Yt(t,e,l,r),Hl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=Tn(e),l=xn(n,r);l.tag=2,t!=null&&(l.callback=t),t=In(e,l,r),t!==null&&(Yt(t,e,r,n),Hl(t,e,r))}};function Ka(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(l,o):!0}function qa(e,t,n){var r=!1,l=bn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(l=jt(t)?Vn:ht.current,r=t.contextTypes,o=(r=r!=null)?pr(e,l):bn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ja(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},po(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Ot(o):(o=jt(t)?Vn:ht.current,l.context=pr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Eo(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Xl.enqueueReplaceState(l,l.state,null),Vl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Nr(e,t){try{var n="",r=t;do n+=y(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Po(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ed=typeof WeakMap=="function"?WeakMap:Map;function Ya(e,t,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ls||(ls=!0,Vo=r),Po(e,t)},n}function Xa(e,t,n){n=xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Po(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Po(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ga(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ed;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ud.bind(null,e,t,n),t.then(e,e))}function Za(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xn(-1,1),t.tag=2,In(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var bd=we.ReactCurrentOwner,kt=!1;function wt(e,t,n,r){t.child=e===null?wa(t,null,n,r):gr(t,e.child,n,r)}function tu(e,t,n,r,l){n=n.render;var o=t.ref;return yr(t,l),r=wo(e,t,n,r,o,l),n=No(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,gn(e,t,l)):(Ke&&n&&no(t),t.flags|=1,wt(e,t,r,l),t.child)}function nu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Xo(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ru(e,t,o,r,l)):(e=cs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(i,r)&&e.ref===t.ref)return gn(e,t,l)}return t.flags|=1,e=Mn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ru(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Hr(o,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(kt=!0);else return t.lanes=e.lanes,gn(e,t,l)}return Io(e,t,n,r,l)}function lu(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(jr,zt),zt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(jr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(jr,zt),zt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ue(jr,zt),zt|=r;return wt(e,t,l,n),t.child}function su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,l){var o=jt(n)?Vn:ht.current;return o=pr(t,o),yr(t,l),n=wo(e,t,n,r,o,l),r=No(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,gn(e,t,l)):(Ke&&r&&no(t),t.flags|=1,wt(e,t,n,l),t.child)}function ou(e,t,n,r,l){if(jt(n)){var o=!0;Rl(t)}else o=!1;if(yr(t,l),t.stateNode===null)Zl(e,t),qa(t,n,r),bo(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var c=i.context,N=n.contextType;typeof N=="object"&&N!==null?N=Ot(N):(N=jt(n)?Vn:ht.current,N=pr(t,N));var T=n.getDerivedStateFromProps,O=typeof T=="function"||typeof i.getSnapshotBeforeUpdate=="function";O||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||c!==N)&&Ja(t,i,r,N),Pn=!1;var z=t.memoizedState;i.state=z,Vl(t,r,i,l),c=t.memoizedState,u!==r||z!==c||St.current||Pn?(typeof T=="function"&&(Eo(t,n,T,r),c=t.memoizedState),(u=Pn||Ka(t,n,u,r,z,c,N))?(O||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=N,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Sa(e,t),u=t.memoizedProps,N=t.type===t.elementType?u:Kt(t.type,u),i.props=N,O=t.pendingProps,z=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=jt(n)?Vn:ht.current,c=pr(t,c));var ne=n.getDerivedStateFromProps;(T=typeof ne=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==O||z!==c)&&Ja(t,i,r,c),Pn=!1,z=t.memoizedState,i.state=z,Vl(t,r,i,l);var ae=t.memoizedState;u!==O||z!==ae||St.current||Pn?(typeof ne=="function"&&(Eo(t,n,ne,r),ae=t.memoizedState),(N=Pn||Ka(t,n,N,r,z,ae,c)||!1)?(T||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,ae,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,ae,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ae),i.props=r,i.state=ae,i.context=c,r=N):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,o,l)}function Fo(e,t,n,r,l,o){su(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&da(t,n,!1),gn(e,t,o);r=t.stateNode,bd.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gr(t,e.child,null,o),t.child=gr(t,null,u,o)):wt(e,t,u,o),t.memoizedState=r.state,l&&da(t,n,!0),t.child}function iu(e){var t=e.stateNode;t.pendingContext?ua(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ua(e,t.context,!1),mo(e,t.containerInfo)}function au(e,t,n,r,l){return xr(),oo(l),t.flags|=256,wt(e,t,n,r),t.child}var Lo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function uu(e,t,n){var r=t.pendingProps,l=Ye.current,o=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ue(Ye,l&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ds(i,r,0,null),e=er(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Lo,e):To(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return _d(e,t,i,r,u,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,u=l.sibling;var c={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?o=Mn(u,o):(o=er(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?zo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return o=e.child,e=o.sibling,r=Mn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function To(e,t){return t=ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gl(e,t,n,r){return r!==null&&oo(r),gr(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _d(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=_o(Error(a(422))),Gl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=ds({mode:"visible",children:r.children},l,0,null),o=er(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&gr(t,e.child,null,i),t.child.memoizedState=zo(i),t.memoizedState=Lo,o);if((t.mode&1)===0)return Gl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(a(419)),r=_o(o,r,void 0),Gl(e,t,i,r)}if(u=(i&e.childLanes)!==0,kt||u){if(r=ut,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,hn(e,l),Yt(r,e,l,-1))}return Yo(),r=_o(Error(a(421))),Gl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ad.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Lt=Cn(l.nextSibling),Ft=t,Ke=!0,Qt=null,e!==null&&(Mt[Dt++]=pn,Mt[Dt++]=mn,Mt[Dt++]=Wn,pn=e.id,mn=e.overflow,Wn=t),t=To(t,r.children),t.flags|=4096,t)}function cu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),co(e.return,t,n)}function Ro(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function du(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(wt(e,t,r.children,n),r=Ye.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cu(e,n,t);else if(e.tag===19)cu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ye,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Wl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ro(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Wl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ro(t,!0,n,null,o);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pd(e,t,n){switch(t.tag){case 3:iu(t),xr();break;case 5:Ca(t);break;case 1:jt(t.type)&&Rl(t);break;case 4:mo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Ue(Al,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?uu(e,t,n):(Ue(Ye,Ye.current&1),e=gn(e,t,n),e!==null?e.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return du(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,lu(e,t,n)}return gn(e,t,n)}var fu,Mo,pu,mu;fu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},pu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,qn(sn.current);var o=null;switch(n){case"input":l=Je(e,l),r=Je(e,r),o=[];break;case"select":l=q({},l,{value:void 0}),r=q({},r,{value:void 0}),o=[];break;case"textarea":l=_e(e,l),r=_e(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}rr(n,r);var i;n=null;for(N in l)if(!r.hasOwnProperty(N)&&l.hasOwnProperty(N)&&l[N]!=null)if(N==="style"){var u=l[N];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(F.hasOwnProperty(N)?o||(o=[]):(o=o||[]).push(N,null));for(N in r){var c=r[N];if(u=l?.[N],r.hasOwnProperty(N)&&c!==u&&(c!=null||u!=null))if(N==="style")if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(N,n)),n=c;else N==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(N,c)):N==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(N,""+c):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(F.hasOwnProperty(N)?(c!=null&&N==="onScroll"&&We("scroll",e),o||u===c||(o=[])):(o=o||[]).push(N,c))}n&&(o=o||[]).push("style",n);var N=o;(t.updateQueue=N)&&(t.flags|=4)}},mu=function(e,t,n,r){n!==r&&(t.flags|=4)};function ll(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Id(e,t,n){var r=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return jt(t.type)&&Tl(),gt(t),null;case 3:return r=t.stateNode,wr(),Qe(St),Qe(ht),go(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(Ko(Qt),Qt=null))),Mo(e,t),gt(t),null;case 5:ho(t);var l=qn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)pu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return gt(t),null}if(e=qn(sn.current),$l(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ln]=t,r[qr]=o,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(l=0;l<Wr.length;l++)We(Wr[l],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":tr(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":Be(r,o),We("invalid",r)}rr(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Fl(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Fl(r.textContent,u,e),l=["children",""+u]):F.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&We("scroll",r)}switch(n){case"input":tt(r),j(r,o,!0);break;case"textarea":tt(r),He(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ln]=t,e[qr]=r,fu(e,t,!1,!1),t.stateNode=e;e:{switch(i=b(n,r),n){case"dialog":We("cancel",e),We("close",e),l=r;break;case"iframe":case"object":case"embed":We("load",e),l=r;break;case"video":case"audio":for(l=0;l<Wr.length;l++)We(Wr[l],e);l=r;break;case"source":We("error",e),l=r;break;case"img":case"image":case"link":We("error",e),We("load",e),l=r;break;case"details":We("toggle",e),l=r;break;case"input":tr(e,r),l=Je(e,r),We("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=q({},r,{value:void 0}),We("invalid",e);break;case"textarea":Be(e,r),l=_e(e,r),We("invalid",e);break;default:l=r}rr(n,l),u=l;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?fl(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&On(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$n(e,c):typeof c=="number"&&$n(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(F.hasOwnProperty(o)?c!=null&&o==="onScroll"&&We("scroll",e):c!=null&&ce(e,o,c,i))}switch(n){case"input":tt(e),j(e,r,!1);break;case"textarea":tt(e),He(e);break;case"option":r.value!=null&&e.setAttribute("value",""+L(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?me(e,!!r.multiple,o,!1):r.defaultValue!=null&&me(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)mu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=qn(Zr.current),qn(sn.current),$l(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(o=r.nodeValue!==n)&&(e=Ft,e!==null))switch(e.tag){case 3:Fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return gt(t),null;case 13:if(Qe(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ga(),xr(),t.flags|=98560,o=!1;else if(o=$l(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[ln]=t}else xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),o=!1}else Qt!==null&&(Ko(Qt),Qt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?ot===0&&(ot=3):Yo())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return wr(),Mo(e,t),e===null&&Qr(t.stateNode.containerInfo),gt(t),null;case 10:return uo(t.type._context),gt(t),null;case 17:return jt(t.type)&&Tl(),gt(t),null;case 19:if(Qe(Ye),o=t.memoizedState,o===null)return gt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ll(o,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Wl(e),i!==null){for(t.flags|=128,ll(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>kr&&(t.flags|=128,r=!0,ll(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ke)return gt(t),null}else 2*Ze()-o.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,ll(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Jo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(zt&1073741824)!==0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Fd(e,t){switch(ro(t),t.tag){case 1:return jt(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),Qe(St),Qe(ht),go(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ho(t),null;case 13:if(Qe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Ye),null;case 4:return wr(),null;case 10:return uo(t.type._context),null;case 22:case 23:return Jo(),null;case 24:return null;default:return null}}var es=!1,vt=!1,Ld=typeof WeakSet=="function"?WeakSet:Set,se=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function Do(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var hu=!1;function zd(e,t){if(qs=wl,e=Ki(),Us(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,u=-1,c=-1,N=0,T=0,O=e,z=null;t:for(;;){for(var ne;O!==n||l!==0&&O.nodeType!==3||(u=i+l),O!==o||r!==0&&O.nodeType!==3||(c=i+r),O.nodeType===3&&(i+=O.nodeValue.length),(ne=O.firstChild)!==null;)z=O,O=ne;for(;;){if(O===e)break t;if(z===n&&++N===l&&(u=i),z===o&&++T===r&&(c=i),(ne=O.nextSibling)!==null)break;O=z,z=O.parentNode}O=ne}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Js={focusedElem:e,selectionRange:n},wl=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var ae=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var de=ae.memoizedProps,et=ae.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?de:Kt(t.type,de),et);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(B){Ge(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return ae=hu,hu=!1,ae}function sl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Do(t,n,o)}l=l.next}while(l!==r)}}function ts(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xu(e){var t=e.alternate;t!==null&&(e.alternate=null,xu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[qr],delete t[Zs],delete t[hd],delete t[xd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gu(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}var ft=null,qt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:vt||Sr(n,t);case 6:var r=ft,l=qt;ft=null,Fn(e,t,n),ft=r,qt=l,ft!==null&&(qt?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(qt?(e=ft,n=n.stateNode,e.nodeType===8?Gs(e.parentNode,n):e.nodeType===1&&Gs(e,n),Dr(e)):Gs(ft,n.stateNode));break;case 4:r=ft,l=qt,ft=n.stateNode.containerInfo,qt=!0,Fn(e,t,n),ft=r,qt=l;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&((o&2)!==0||(o&4)!==0)&&Do(n,t,i),l=l.next}while(l!==r)}Fn(e,t,n);break;case 1:if(!vt&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ge(n,t,u)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Fn(e,t,n),vt=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ld),t.forEach(function(r){var l=Bd.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:ft=u.stateNode,qt=!1;break e;case 3:ft=u.stateNode.containerInfo,qt=!0;break e;case 4:ft=u.stateNode.containerInfo,qt=!0;break e}u=u.return}if(ft===null)throw Error(a(160));yu(o,i,l),ft=null,qt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(N){Ge(l,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nu(t,e),t=t.sibling}function Nu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),an(e),r&4){try{sl(3,e,e.return),ts(3,e)}catch(de){Ge(e,e.return,de)}try{sl(5,e,e.return)}catch(de){Ge(e,e.return,de)}}break;case 1:Jt(t,e),an(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Jt(t,e),an(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var l=e.stateNode;try{$n(l,"")}catch(de){Ge(e,e.return,de)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&nr(l,o),b(u,i);var N=b(u,o);for(i=0;i<c.length;i+=2){var T=c[i],O=c[i+1];T==="style"?fl(l,O):T==="dangerouslySetInnerHTML"?On(l,O):T==="children"?$n(l,O):ce(l,T,O,N)}switch(u){case"input":g(l,o);break;case"textarea":De(l,o);break;case"select":var z=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var ne=o.value;ne!=null?me(l,!!o.multiple,ne,!1):z!==!!o.multiple&&(o.defaultValue!=null?me(l,!!o.multiple,o.defaultValue,!0):me(l,!!o.multiple,o.multiple?[]:"",!1))}l[qr]=o}catch(de){Ge(e,e.return,de)}}break;case 6:if(Jt(t,e),an(e),r&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(de){Ge(e,e.return,de)}}break;case 3:if(Jt(t,e),an(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(de){Ge(e,e.return,de)}break;case 4:Jt(t,e),an(e);break;case 13:Jt(t,e),an(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Ho=Ze())),r&4&&wu(e);break;case 22:if(T=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(N=vt)||T,Jt(t,e),vt=N):Jt(t,e),an(e),r&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!T&&(e.mode&1)!==0)for(se=e,T=e.child;T!==null;){for(O=se=T;se!==null;){switch(z=se,ne=z.child,z.tag){case 0:case 11:case 14:case 15:sl(4,z,z.return);break;case 1:Sr(z,z.return);var ae=z.stateNode;if(typeof ae.componentWillUnmount=="function"){r=z,n=z.return;try{t=r,ae.props=t.memoizedProps,ae.state=t.memoizedState,ae.componentWillUnmount()}catch(de){Ge(r,n,de)}}break;case 5:Sr(z,z.return);break;case 22:if(z.memoizedState!==null){ku(O);continue}}ne!==null?(ne.return=z,se=ne):ku(O)}T=T.sibling}e:for(T=null,O=e;;){if(O.tag===5){if(T===null){T=O;try{l=O.stateNode,N?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=O.stateNode,c=O.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=dl("display",i))}catch(de){Ge(e,e.return,de)}}}else if(O.tag===6){if(T===null)try{O.stateNode.nodeValue=N?"":O.memoizedProps}catch(de){Ge(e,e.return,de)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;T===O&&(T=null),O=O.return}T===O&&(T=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Jt(t,e),an(e),r&4&&wu(e);break;case 21:break;default:Jt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&($n(l,""),r.flags&=-33);var o=vu(e);Uo(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,u=vu(e);$o(e,u,i);break;default:throw Error(a(161))}}catch(c){Ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Td(e,t,n){se=e,Su(e)}function Su(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var l=se,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||es;if(!i){var u=l.alternate,c=u!==null&&u.memoizedState!==null||vt;u=es;var N=vt;if(es=i,(vt=c)&&!N)for(se=l;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?Cu(l):c!==null?(c.return=i,se=c):Cu(l);for(;o!==null;)se=o,Su(o),o=o.sibling;se=l,es=u,vt=N}ju(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,se=o):ju(e)}}function ju(e){for(;se!==null;){var t=se;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||ts(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ka(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ka(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var T=N.memoizedState;if(T!==null){var O=T.dehydrated;O!==null&&Dr(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}vt||t.flags&512&&Oo(t)}catch(z){Ge(t,t.return,z)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function ku(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function Cu(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ts(4,t)}catch(c){Ge(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Ge(t,l,c)}}var o=t.return;try{Oo(t)}catch(c){Ge(t,o,c)}break;case 5:var i=t.return;try{Oo(t)}catch(c){Ge(t,i,c)}}}catch(c){Ge(t,t.return,c)}if(t===e){se=null;break}var u=t.sibling;if(u!==null){u.return=t.return,se=u;break}se=t.return}}var Rd=Math.ceil,ns=we.ReactCurrentDispatcher,Ao=we.ReactCurrentOwner,Ut=we.ReactCurrentBatchConfig,Le=0,ut=null,rt=null,pt=0,zt=0,jr=En(0),ot=0,ol=null,Yn=0,rs=0,Bo=0,il=null,Ct=null,Ho=0,kr=1/0,vn=null,ls=!1,Vo=null,Ln=null,ss=!1,zn=null,os=0,al=0,Wo=null,is=-1,as=0;function Nt(){return(Le&6)!==0?Ze():is!==-1?is:is=Ze()}function Tn(e){return(e.mode&1)===0?1:(Le&2)!==0&&pt!==0?pt&-pt:vd.transition!==null?(as===0&&(as=vi()),as):(e=Re,e!==0||(e=window.event,e=e===void 0?16:bi(e.type)),e)}function Yt(e,t,n,r){if(50<al)throw al=0,Wo=null,Error(a(185));Lr(e,n,r),((Le&2)===0||e!==ut)&&(e===ut&&((Le&2)===0&&(rs|=n),ot===4&&Rn(e,pt)),Et(e,r),n===1&&Le===0&&(t.mode&1)===0&&(kr=Ze()+500,Ml&&_n()))}function Et(e,t){var n=e.callbackNode;vc(e,t);var r=gl(e,e===ut?pt:0);if(r===0)n!==null&&hi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hi(n),t===1)e.tag===0?gd(bu.bind(null,e)):fa(bu.bind(null,e)),pd(function(){(Le&6)===0&&_n()}),n=null;else{switch(yi(r)){case 1:n=js;break;case 4:n=xi;break;case 16:n=pl;break;case 536870912:n=gi;break;default:n=pl}n=Ru(n,Eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eu(e,t){if(is=-1,as=0,(Le&6)!==0)throw Error(a(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=gl(e,e===ut?pt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=us(e,r);else{t=r;var l=Le;Le|=2;var o=Pu();(ut!==e||pt!==t)&&(vn=null,kr=Ze()+500,Gn(e,t));do try{Od();break}catch(u){_u(e,u)}while(!0);ao(),ns.current=o,Le=l,rt!==null?t=0:(ut=null,pt=0,t=ot)}if(t!==0){if(t===2&&(l=ks(e),l!==0&&(r=l,t=Qo(e,l))),t===1)throw n=ol,Gn(e,0),Rn(e,r),Et(e,Ze()),n;if(t===6)Rn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Md(l)&&(t=us(e,r),t===2&&(o=ks(e),o!==0&&(r=o,t=Qo(e,o))),t===1))throw n=ol,Gn(e,0),Rn(e,r),Et(e,Ze()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Zn(e,Ct,vn);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Ho+500-Ze(),10<t)){if(gl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Xs(Zn.bind(null,e,Ct,vn),t);break}Zn(e,Ct,vn);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Vt(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rd(r/1960))-r,10<r){e.timeoutHandle=Xs(Zn.bind(null,e,Ct,vn),r);break}Zn(e,Ct,vn);break;case 5:Zn(e,Ct,vn);break;default:throw Error(a(329))}}}return Et(e,Ze()),e.callbackNode===n?Eu.bind(null,e):null}function Qo(e,t){var n=il;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=us(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&Ko(t)),e}function Ko(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function Md(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Wt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Bo,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if((Le&6)!==0)throw Error(a(327));Cr();var t=gl(e,0);if((t&1)===0)return Et(e,Ze()),null;var n=us(e,t);if(e.tag!==0&&n===2){var r=ks(e);r!==0&&(t=r,n=Qo(e,r))}if(n===1)throw n=ol,Gn(e,0),Rn(e,t),Et(e,Ze()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,Ct,vn),Et(e,Ze()),null}function qo(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(kr=Ze()+500,Ml&&_n())}}function Xn(e){zn!==null&&zn.tag===0&&(Le&6)===0&&Cr();var t=Le;Le|=1;var n=Ut.transition,r=Re;try{if(Ut.transition=null,Re=1,e)return e()}finally{Re=r,Ut.transition=n,Le=t,(Le&6)===0&&_n()}}function Jo(){zt=jr.current,Qe(jr)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fd(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(ro(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tl();break;case 3:wr(),Qe(St),Qe(ht),go();break;case 5:ho(r);break;case 4:wr();break;case 13:Qe(Ye);break;case 19:Qe(Ye);break;case 10:uo(r.type._context);break;case 22:case 23:Jo()}n=n.return}if(ut=e,rt=e=Mn(e.current,null),pt=zt=t,ot=0,ol=null,Bo=rs=Yn=0,Ct=il=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}Kn=null}return e}function _u(e,t){do{var n=rt;try{if(ao(),Ql.current=Yl,Kl){for(var r=Xe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Kl=!1}if(Jn=0,at=st=Xe=null,el=!1,tl=0,Ao.current=null,n===null||n.return===null){ot=1,ol=t,rt=null;break}e:{var o=e,i=n.return,u=n,c=t;if(t=pt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var N=c,T=u,O=T.tag;if((T.mode&1)===0&&(O===0||O===11||O===15)){var z=T.alternate;z?(T.updateQueue=z.updateQueue,T.memoizedState=z.memoizedState,T.lanes=z.lanes):(T.updateQueue=null,T.memoizedState=null)}var ne=Za(i);if(ne!==null){ne.flags&=-257,eu(ne,i,u,o,t),ne.mode&1&&Ga(o,N,t),t=ne,c=N;var ae=t.updateQueue;if(ae===null){var de=new Set;de.add(c),t.updateQueue=de}else ae.add(c);break e}else{if((t&1)===0){Ga(o,N,t),Yo();break e}c=Error(a(426))}}else if(Ke&&u.mode&1){var et=Za(i);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),eu(et,i,u,o,t),oo(Nr(c,u));break e}}o=c=Nr(c,u),ot!==4&&(ot=2),il===null?il=[o]:il.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Ya(o,c,t);ja(o,h);break e;case 1:u=c;var d=o.type,v=o.stateNode;if((o.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=Xa(o,u,t);ja(o,B);break e}}o=o.return}while(o!==null)}Fu(n)}catch(fe){t=fe,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function Pu(){var e=ns.current;return ns.current=Yl,e===null?Yl:e}function Yo(){(ot===0||ot===3||ot===2)&&(ot=4),ut===null||(Yn&268435455)===0&&(rs&268435455)===0||Rn(ut,pt)}function us(e,t){var n=Le;Le|=2;var r=Pu();(ut!==e||pt!==t)&&(vn=null,Gn(e,t));do try{Dd();break}catch(l){_u(e,l)}while(!0);if(ao(),Le=n,ns.current=r,rt!==null)throw Error(a(261));return ut=null,pt=0,ot}function Dd(){for(;rt!==null;)Iu(rt)}function Od(){for(;rt!==null&&!uc();)Iu(rt)}function Iu(e){var t=Tu(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Fu(e):rt=t,Ao.current=null}function Fu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Id(n,t,zt),n!==null){rt=n;return}}else{if(n=Fd(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Zn(e,t,n){var r=Re,l=Ut.transition;try{Ut.transition=null,Re=1,$d(e,t,n,r)}finally{Ut.transition=l,Re=r}return null}function $d(e,t,n,r){do Cr();while(zn!==null);if((Le&6)!==0)throw Error(a(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yc(e,o),e===ut&&(rt=ut=null,pt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ss||(ss=!0,Ru(pl,function(){return Cr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Ut.transition,Ut.transition=null;var i=Re;Re=1;var u=Le;Le|=4,Ao.current=null,zd(e,n),Nu(n,e),sd(Js),wl=!!qs,Js=qs=null,e.current=n,Td(n),cc(),Le=u,Re=i,Ut.transition=o}else e.current=n;if(ss&&(ss=!1,zn=e,os=l),o=e.pendingLanes,o===0&&(Ln=null),pc(n.stateNode),Et(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ls)throw ls=!1,e=Vo,Vo=null,e;return(os&1)!==0&&e.tag!==0&&Cr(),o=e.pendingLanes,(o&1)!==0?e===Wo?al++:(al=0,Wo=e):al=0,_n(),null}function Cr(){if(zn!==null){var e=yi(os),t=Ut.transition,n=Re;try{if(Ut.transition=null,Re=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,os=0,(Le&6)!==0)throw Error(a(331));var l=Le;for(Le|=4,se=e.current;se!==null;){var o=se,i=o.child;if((se.flags&16)!==0){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var N=u[c];for(se=N;se!==null;){var T=se;switch(T.tag){case 0:case 11:case 15:sl(8,T,o)}var O=T.child;if(O!==null)O.return=T,se=O;else for(;se!==null;){T=se;var z=T.sibling,ne=T.return;if(xu(T),T===N){se=null;break}if(z!==null){z.return=ne,se=z;break}se=ne}}}var ae=o.alternate;if(ae!==null){var de=ae.child;if(de!==null){ae.child=null;do{var et=de.sibling;de.sibling=null,de=et}while(de!==null)}}se=o}}if((o.subtreeFlags&2064)!==0&&i!==null)i.return=o,se=i;else e:for(;se!==null;){if(o=se,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,se=h;break e}se=o.return}}var d=e.current;for(se=d;se!==null;){i=se;var v=i.child;if((i.subtreeFlags&2064)!==0&&v!==null)v.return=i,se=v;else e:for(i=d;se!==null;){if(u=se,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:ts(9,u)}}catch(fe){Ge(u,u.return,fe)}if(u===i){se=null;break e}var B=u.sibling;if(B!==null){B.return=u.return,se=B;break e}se=u.return}}if(Le=l,_n(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{Re=n,Ut.transition=t}}return!1}function Lu(e,t,n){t=Nr(n,t),t=Ya(e,t,1),e=In(e,t,1),t=Nt(),e!==null&&(Lr(e,1,t),Et(e,t))}function Ge(e,t,n){if(e.tag===3)Lu(e,e,n);else for(;t!==null;){if(t.tag===3){Lu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=Nr(n,e),e=Xa(t,e,1),t=In(t,e,1),e=Nt(),t!==null&&(Lr(t,1,e),Et(t,e));break}}t=t.return}}function Ud(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,ut===e&&(pt&n)===n&&(ot===4||ot===3&&(pt&130023424)===pt&&500>Ze()-Ho?Gn(e,0):Bo|=n),Et(e,t)}function zu(e,t){t===0&&((e.mode&1)===0?t=1:(t=xl,xl<<=1,(xl&130023424)===0&&(xl=4194304)));var n=Nt();e=hn(e,t),e!==null&&(Lr(e,t,n),Et(e,n))}function Ad(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zu(e,n)}function Bd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),zu(e,n)}var Tu;Tu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)kt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return kt=!1,Pd(e,t,n);kt=(e.flags&131072)!==0}else kt=!1,Ke&&(t.flags&1048576)!==0&&pa(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zl(e,t),e=t.pendingProps;var l=pr(t,ht.current);yr(t,n),l=wo(null,t,r,e,l,n);var o=No();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(o=!0,Rl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,po(t),l.updater=Xl,t.stateNode=l,l._reactInternals=t,bo(t,r,e,n),t=Fo(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&no(t),wt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Vd(r),e=Kt(r,e),l){case 0:t=Io(null,t,r,e,n);break e;case 1:t=ou(null,t,r,e,n);break e;case 11:t=tu(null,t,r,e,n);break e;case 14:t=nu(null,t,r,Kt(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),Io(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),ou(e,t,r,l,n);case 3:e:{if(iu(t),e===null)throw Error(a(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Sa(e,t),Vl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Nr(Error(a(423)),t),t=au(e,t,r,n,l);break e}else if(r!==l){l=Nr(Error(a(424)),t),t=au(e,t,r,n,l);break e}else for(Lt=Cn(t.stateNode.containerInfo.firstChild),Ft=t,Ke=!0,Qt=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===l){t=gn(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return Ca(t),e===null&&so(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,Ys(r,l)?i=null:o!==null&&Ys(r,o)&&(t.flags|=32),su(e,t),wt(e,t,i,n),t.child;case 6:return e===null&&so(t),null;case 13:return uu(e,t,n);case 4:return mo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),tu(e,t,r,l,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,Ue(Al,r._currentValue),r._currentValue=i,o!==null)if(Wt(o.value,i)){if(o.children===l.children&&!St.current){t=gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){i=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=xn(-1,n&-n),c.tag=2;var N=o.updateQueue;if(N!==null){N=N.shared;var T=N.pending;T===null?c.next=c:(c.next=T.next,T.next=c),N.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),co(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(a(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),co(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}wt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,yr(t,n),l=Ot(l),r=r(l),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,l=Kt(r,t.pendingProps),l=Kt(r.type,l),nu(e,t,r,l,n);case 15:return ru(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),Zl(e,t),t.tag=1,jt(r)?(e=!0,Rl(t)):e=!1,yr(t,n),qa(t,r,l),bo(t,r,l,n),Fo(null,t,r,!0,e,n);case 19:return du(e,t,n);case 22:return lu(e,t,n)}throw Error(a(156,t.tag))};function Ru(e,t){return mi(e,t)}function Hd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,r){return new Hd(e,t,n,r)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vd(e){if(typeof e=="function")return Xo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===A)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cs(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")Xo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ie:return er(n.children,l,o,t);case Me:i=8,l|=8;break;case qe:return e=At(12,n,t,l|2),e.elementType=qe,e.lanes=o,e;case je:return e=At(13,n,t,l),e.elementType=je,e.lanes=o,e;case _:return e=At(19,n,t,l),e.elementType=_,e.lanes=o,e;case K:return ds(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:i=10;break e;case ke:i=9;break e;case Se:i=11;break e;case A:i=14;break e;case ie:i=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=At(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function er(e,t,n,r){return e=At(7,e,r,t),e.lanes=n,e}function ds(e,t,n,r){return e=At(22,e,r,t),e.elementType=K,e.lanes=n,e.stateNode={isHidden:!1},e}function Go(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function Zo(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wd(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cs(0),this.expirationTimes=Cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ei(e,t,n,r,l,o,i,u,c){return e=new Wd(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=At(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},po(o),e}function Qd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mu(e){if(!e)return bn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(jt(n))return ca(e,n,t)}return t}function Du(e,t,n,r,l,o,i,u,c){return e=ei(n,r,!0,e,l,o,i,u,c),e.context=Mu(null),n=e.current,r=Nt(),l=Tn(n),o=xn(r,l),o.callback=t??null,In(n,o,l),e.current.lanes=l,Lr(e,l,r),Et(e,r),e}function fs(e,t,n,r){var l=t.current,o=Nt(),i=Tn(l);return n=Mu(n),t.context===null?t.context=n:t.pendingContext=n,t=xn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(l,t,i),e!==null&&(Yt(e,l,i,o),Hl(e,l,i)),i}function ps(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ti(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}function Kd(){return null}var $u=typeof reportError=="function"?reportError:function(e){console.error(e)};function ni(e){this._internalRoot=e}ms.prototype.render=ni.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));fs(e,t,null,null)},ms.prototype.unmount=ni.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){fs(null,e,null,null)}),t[dn]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=Si();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&Ci(e)}};function ri(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function qd(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var N=ps(i);o.call(N)}}var i=Du(t,r,e,0,null,!1,!1,"",Uu);return e._reactRootContainer=i,e[dn]=i.current,Qr(e.nodeType===8?e.parentNode:e),Xn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var N=ps(c);u.call(N)}}var c=ei(e,0,!1,null,null,!1,!1,"",Uu);return e._reactRootContainer=c,e[dn]=c.current,Qr(e.nodeType===8?e.parentNode:e),Xn(function(){fs(t,c,n,r)}),c}function xs(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var u=l;l=function(){var c=ps(i);u.call(c)}}fs(t,i,e,l)}else i=qd(n,t,e,l,r);return ps(i)}wi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fr(t.pendingLanes);n!==0&&(Es(t,n|1),Et(t,Ze()),(Le&6)===0&&(kr=Ze()+500,_n()))}break;case 13:Xn(function(){var r=hn(e,1);if(r!==null){var l=Nt();Yt(r,e,1,l)}}),ti(e,1)}},bs=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=Nt();Yt(t,e,134217728,n)}ti(e,134217728)}},Ni=function(e){if(e.tag===13){var t=Tn(e),n=hn(e,t);if(n!==null){var r=Nt();Yt(n,e,t,r)}ti(e,t)}},Si=function(){return Re},ji=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}},Ce=function(e,t,n){switch(t){case"input":if(g(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=zl(r);if(!l)throw Error(a(90));Tt(r),g(r,l)}}}break;case"textarea":De(e,n);break;case"select":t=n.value,t!=null&&me(e,!!n.multiple,t,!1)}},mt=qo,Te=Xn;var Jd={usingClientEntryPoint:!1,Events:[Jr,dr,zl,en,tn,qo]},ul={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yd={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fi(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||Kd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{ml=gs.inject(Yd),rn=gs}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jd,bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ri(t))throw Error(a(200));return Qd(e,t,null,n)},bt.createRoot=function(e,t){if(!ri(e))throw Error(a(299));var n=!1,r="",l=$u;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ei(e,1,!1,null,null,n,!1,r,l),e[dn]=t.current,Qr(e.nodeType===8?e.parentNode:e),new ni(t)},bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=fi(t),e=e===null?null:e.stateNode,e},bt.flushSync=function(e){return Xn(e)},bt.hydrate=function(e,t,n){if(!hs(t))throw Error(a(200));return xs(null,e,t,!0,n)},bt.hydrateRoot=function(e,t,n){if(!ri(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=$u;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Du(t,null,e,1,n??null,l,!1,o,i),e[dn]=t.current,Qr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ms(t)},bt.render=function(e,t,n){if(!hs(t))throw Error(a(200));return xs(null,e,t,!1,n)},bt.unmountComponentAtNode=function(e){if(!hs(e))throw Error(a(40));return e._reactRootContainer?(Xn(function(){xs(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1},bt.unstable_batchedUpdates=qo,bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hs(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return xs(e,t,n,!1,r)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var qu;function sf(){if(qu)return oi.exports;qu=1;function C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C)}catch(w){console.error(w)}}return C(),oi.exports=lf(),oi.exports}var Ju;function of(){if(Ju)return vs;Ju=1;var C=sf();return vs.createRoot=C.createRoot,vs.hydrateRoot=C.hydrateRoot,vs}var af=of(),M=ui();const sc=Gd(M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=C=>C.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cf=C=>C.replace(/^([A-Z])|[\s-_]+(\w)/g,(w,a,E)=>E?E.toUpperCase():a.toLowerCase()),Yu=C=>{const w=cf(C);return w.charAt(0).toUpperCase()+w.slice(1)},oc=(...C)=>C.filter((w,a,E)=>!!w&&w.trim()!==""&&E.indexOf(w)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=M.forwardRef(({color:C="currentColor",size:w=24,strokeWidth:a=2,absoluteStrokeWidth:E,className:F="",children:V,iconNode:k,...W},I)=>M.createElement("svg",{ref:I,...df,width:w,height:w,stroke:C,strokeWidth:E?Number(a)*24/Number(w):a,className:oc("lucide",F),...W},[...k.map(([x,H])=>M.createElement(x,H)),...Array.isArray(V)?V:[V]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(C,w)=>{const a=M.forwardRef(({className:E,...F},V)=>M.createElement(ff,{ref:V,iconNode:w,className:oc(`lucide-${uf(Yu(C))}`,`lucide-${C}`,E),...F}));return a.displayName=Yu(C),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Er=lt("check",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xt=lt("chevron-down",mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],br=lt("chevron-left",hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bt=lt("chevron-right",xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vf=lt("download",gf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],wf=lt("ellipsis-vertical",yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sf=lt("eye",Nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],kf=lt("graduation-cap",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ef=lt("house",Cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],_f=lt("maximize-2",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],If=lt("minimize-2",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lf=lt("pen",Ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gt=lt("plus",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Rf=lt("redo",Tf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Df=lt("rotate-ccw",Mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$f=lt("search",Of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ic=lt("settings",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Bf=lt("undo",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Vf=lt("upload",Hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],un=lt("x",Wf),Xu={},Gu=[],Zu="mechanics_formulas",ec="mechanics_scenarios",_t="uncategorized";class Qf{formulas;scenarios;listeners=new Set;constructor(){const w=localStorage.getItem(Zu),a=localStorage.getItem(ec);this.formulas=w?JSON.parse(w):{...Xu},this.scenarios=a?JSON.parse(a):[...Gu],this.migrateOldDataFormat(),this.ensureUncategorizedScenario()}migrateOldDataFormat(){let w=!1;this.scenarios.forEach(a=>{a.steps.forEach(E=>{E.formulas&&!E.formulaIds?(w=!0,E.formulaIds=E.formulas.map(F=>F.id||F),delete E.formulas):E.formulaIds||(E.formulaIds=[])})}),w&&this.persist()}ensureUncategorizedScenario(){this.scenarios.some(a=>a.id===_t)||this.scenarios.unshift({id:_t,name:"",icon:"",steps:[{id:"uncategorized-step",name:"",formulaIds:[]}]})}getFormulas(){return this.formulas}getFormula(w){return this.formulas[w]}saveFormula(w){if(this.formulas[w.id]=w,this.scenarios.forEach(a=>{a.steps.forEach(E=>{E.formulaIds=E.formulaIds.filter(F=>F!==w.id)})}),w.usedInContexts&&w.usedInContexts.length>0)w.usedInContexts.forEach(a=>{const E=this.scenarios.find(F=>F.id===a.scenarioId);if(E){const F=E.steps.find(V=>V.id===a.stepId);F&&F.formulaIds.push(w.id)}});else{const a=this.scenarios.find(E=>E.id===_t);a&&a.steps[0]&&a.steps[0].formulaIds.push(w.id)}this.persist(),this.notifyListeners()}deleteFormula(w){delete this.formulas[w],this.scenarios.forEach(a=>{a.steps.forEach(E=>{E.formulaIds=E.formulaIds.filter(F=>F!==w)})}),this.persist(),this.notifyListeners()}getScenarios(){return this.scenarios}getRootScenarios(){return this.scenarios.filter(w=>!w.parentId)}getChildScenarios(w){return this.scenarios.filter(a=>a.parentId===w)}getScenario(w){return this.scenarios.find(a=>a.id===w)}saveScenario(w){const a=this.scenarios.findIndex(E=>E.id===w.id);a>=0?this.scenarios[a]=w:this.scenarios.push(w),this.persist(),this.notifyListeners()}addStep(w,a){const E=this.scenarios.find(F=>F.id===w);if(E){const F={id:`step-${Date.now()}`,name:a,formulaIds:[]};E.steps.push(F),this.persist(),this.notifyListeners()}}deleteStep(w,a){const E=this.scenarios.find(F=>F.id===w);if(E){const F=E.steps.find(V=>V.id===a);F&&F.formulaIds.forEach(V=>{const k=this.formulas[V];if(k&&k.usedInContexts&&(k.usedInContexts=k.usedInContexts.filter(W=>!(W.scenarioId===w&&W.stepId===a)),k.usedInContexts.length===0)){const W=this.scenarios.find(I=>I.id===_t);W&&W.steps[0]&&W.steps[0].formulaIds.push(V)}}),E.steps=E.steps.filter(V=>V.id!==a),this.persist(),this.notifyListeners()}}addFormulaToStep(w,a,E){const F=this.scenarios.find(x=>x.id===w);if(!F)return;const V=F.steps.find(x=>x.id===a);if(!V)return;const k=this.formulas[E];if(!k)return;V.formulaIds.includes(E)||V.formulaIds.push(E),k.usedInContexts||(k.usedInContexts=[]),k.usedInContexts.some(x=>x.scenarioId===w&&x.stepId===a)||k.usedInContexts.push({scenarioId:w,stepId:a});const I=this.scenarios.find(x=>x.id===_t);I&&I.steps[0]&&(I.steps[0].formulaIds=I.steps[0].formulaIds.filter(x=>x!==E)),this.persist(),this.notifyListeners()}removeFormulaFromStep(w,a,E){const F=this.scenarios.find(W=>W.id===w);if(!F)return;const V=F.steps.find(W=>W.id===a);if(!V)return;const k=this.formulas[E];if(k){if(V.formulaIds=V.formulaIds.filter(W=>W!==E),k.usedInContexts&&(k.usedInContexts=k.usedInContexts.filter(W=>!(W.scenarioId===w&&W.stepId===a)),k.usedInContexts.length===0)){const W=this.scenarios.find(I=>I.id===_t);W&&W.steps[0]&&(W.steps[0].formulaIds.includes(E)||W.steps[0].formulaIds.push(E))}this.persist(),this.notifyListeners()}}deleteScenario(w){if(w===_t)return;this.getChildScenarios(w).forEach(E=>this.deleteScenario(E.id)),this.scenarios=this.scenarios.filter(E=>E.id!==w),this.persist(),this.notifyListeners()}subscribe(w){return this.listeners.add(w),()=>{this.listeners.delete(w)}}notifyListeners(){this.listeners.forEach(w=>w())}persist(){localStorage.setItem(Zu,JSON.stringify(this.formulas)),localStorage.setItem(ec,JSON.stringify(this.scenarios))}exportData(){const w={version:1,formulas:this.formulas,scenarios:this.scenarios,exportedAt:new Date().toISOString()};return JSON.stringify(w,null,2)}importData(w){const a=JSON.parse(w),E=a?.formulas,F=a?.scenarios;if(!E||typeof E!="object")throw new Error("Invalid formulas");if(!Array.isArray(F))throw new Error("Invalid scenarios");this.formulas=E,this.scenarios=F,this.migrateOldDataFormat(),this.ensureUncategorizedScenario(),this.persist(),this.notifyListeners()}reset(){this.formulas={...Xu},this.scenarios=[...Gu],this.persist(),this.notifyListeners()}}const he=new Qf;function ys({currentPage:C,onNavigateHome:w,onNavigateLearning:a}){return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-nav border-t border-border",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:w,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${C==="home"?"text-primary":"text-muted-foreground"}`,children:s.jsx(Ef,{className:"w-6 h-6"})}),s.jsx("button",{onClick:a,className:`flex-1 py-3 flex flex-col items-center justify-center transition-colors ${C==="learning"?"text-primary":"text-muted-foreground"}`,children:s.jsx(kf,{className:"w-6 h-6"})})]})})}function _r({root:C,fallback:w,className:a,maskBlocks:E=[],isMaskRevealed:F,onRevealMask:V}){const k=(I,x)=>s.jsx("span",{className:"inline-flex items-center gap-0.5 leading-none",children:I.children.map((H,G)=>s.jsx(sc.Fragment,{children:W(H,[...x,G])},`${x.join("-")}-${G}`))}),W=(I,x)=>{const H=`formula-${x.join("-")}`,G=E.find(U=>U.id===H);if(G&&!(F?F(G.id):!0))return s.jsx("button",{type:"button",onClick:()=>V?.(G.id),className:"inline-block px-2 py-0.5 mx-0.5 rounded bg-muted/50 text-muted-foreground hover:bg-muted transition-colors",children:"?"});switch(I.type){case"symbol":return s.jsx("span",{className:"font-mono leading-none",children:I.value});case"number":return s.jsx("span",{className:"font-mono leading-none",children:I.text});case"fraction":return s.jsxs("span",{className:"inline-grid mx-1 align-middle justify-items-center",style:{lineHeight:1},children:[s.jsx("span",{className:"px-1",style:{paddingBottom:"0.20em"},children:k(I.numerator,[...x,"numerator"])}),s.jsx("span",{className:"w-full border-t border-foreground/70",style:{marginTop:"0.10em",marginBottom:"0.10em"},"aria-hidden":"true"}),s.jsx("span",{className:"px-1",style:{paddingTop:"0.42em"},children:k(I.denominator,[...x,"denominator"])})]});case"superscript":return s.jsxs("span",{className:"inline-flex items-start",children:[k(I.base,[...x,"base"]),s.jsx("sup",{className:"text-xs ml-0.5 leading-none",children:k(I.exponent,[...x,"exponent"])})]});case"subscript":return s.jsxs("span",{className:"inline-flex items-center leading-none",children:[k(I.base,[...x,"base"]),s.jsx("sub",{className:"text-xs ml-0.5 leading-none",children:k(I.index,[...x,"index"])})]});case"sqrt":return s.jsx("span",{className:"inline-block mx-0.5 align-bottom leading-none",children:s.jsxs("span",{className:"inline-flex items-center leading-none",children:[s.jsx("span",{className:"mr-0.5 leading-none",children:""}),s.jsx("span",{className:"border-t border-foreground/70 px-0.5",style:{paddingTop:"0.14em"},children:k(I.content,[...x,"content"])})]})});case"abs":return s.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[s.jsx("span",{className:"mx-0.5",children:"|"}),k(I.content,[...x,"content"]),s.jsx("span",{className:"mx-0.5",children:"|"})]});case"function":return s.jsxs("span",{className:"inline-flex items-baseline mx-0.5",children:[s.jsx("span",{className:"font-mono",children:I.name}),s.jsx("span",{className:"mx-0.5",children:"("}),k(I.argument,[...x,"argument"]),s.jsx("span",{className:"mx-0.5",children:")"})]});case"sum":return s.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[s.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[s.jsx("span",{className:"text-base leading-none",children:""}),s.jsx("sub",{className:"text-[10px] leading-none",children:k(I.lower,[...x,"lower"])}),s.jsx("sup",{className:"text-[10px] leading-none",children:k(I.upper,[...x,"upper"])})]}),k(I.body,[...x,"body"])]});case"integral":return s.jsxs("span",{className:"inline-flex items-center mx-0.5",children:[s.jsxs("span",{className:"inline-flex flex-col items-center mr-1",children:[s.jsx("span",{className:"text-base leading-none",children:""}),s.jsx("sub",{className:"text-[10px] leading-none",children:k(I.lower,[...x,"lower"])}),s.jsx("sup",{className:"text-[10px] leading-none",children:k(I.upper,[...x,"upper"])})]}),k(I.body,[...x,"body"])]});default:return null}};return C?s.jsx("span",{className:a,children:k(C,[])}):w?s.jsx("span",{className:a,children:w}):null}function Kf({onScenarioClick:C,onFormulaClick:w,onCreateFormula:a,onLearningClick:E}){const[F,V]=M.useState("scenario"),[k,W]=M.useState(""),[I,x]=M.useState(new Set([_t])),[H,G]=M.useState(null),[U,ee]=M.useState(null),[Q,Y]=M.useState(null),[J,ve]=M.useState(""),[Z,ce]=M.useState(!1),we=M.useRef(null),Pe=M.useRef(null),Ne=M.useRef(!1),Me=(()=>{if(!k.trim())return[];const p=k.toLowerCase(),y=[],D=he.getFormulas();return Object.values(D).forEach(S=>{(S.name.toLowerCase().includes(p)||S.expression.toLowerCase().includes(p))&&y.push({type:"formula",id:S.id,name:S.name,secondaryInfo:S.expression})}),F==="scenario"&&he.getScenarios().forEach(L=>{L.name.toLowerCase().includes(p)&&y.push({type:"scenario",id:L.id,name:L.name}),L.steps.forEach(le=>{le.name.toLowerCase().includes(p)&&y.push({type:"step",id:le.id,name:le.name,secondaryInfo:L.name,scenarioId:L.id,stepId:le.id})})}),y})(),qe=k.trim().length>0,re=p=>{p.type==="formula"?w(p.id):p.type==="scenario"?C(p.id):p.type==="step"&&p.scenarioId&&p.stepId&&C(p.scenarioId,p.stepId),W("")},ke=p=>{const y=new Set(I);y.has(p)?y.delete(p):y.add(p),x(y)},Se=(p,y,D)=>{Ne.current=!1,Pe.current=setTimeout(()=>{Ne.current=!0;const S=p.target.getBoundingClientRect();G({type:y,id:D,x:S.left+S.width/2,y:S.top+S.height/2})},500)},je=()=>{Pe.current&&(clearTimeout(Pe.current),Pe.current=null)},_=()=>{Pe.current&&(clearTimeout(Pe.current),Pe.current=null),H||(Ne.current=!1)},A=(p,y)=>{p.stopPropagation(),Ne.current||y(),setTimeout(()=>{Ne.current=!1},100)},ie=(p,y)=>{const D=p==="scenario"?he.getScenario(y)?.name||"":he.getFormula(y)?.name||"";ee({type:p,id:y,name:D}),G(null)},K=()=>{if(U){if(U.type==="scenario"){const p=he.getScenario(U.id);p&&he.saveScenario({...p,name:U.name})}else{const p=he.getFormula(U.id);p&&he.saveFormula({...p,name:U.name})}ee(null)}},P=(p,y)=>{const D=p==="scenario"?"":"";window.confirm(D)&&(p==="scenario"?he.deleteScenario(y):he.deleteFormula(y)),G(null)},te=p=>{Y({parentId:p}),ve(""),G(null)},q=()=>{if(!J.trim())return;const p={id:`scenario-${Date.now()}`,name:J.trim(),icon:"",parentId:Q?.parentId,steps:[{id:`step-${Date.now()}`,name:"",formulaIds:[]}]};he.saveScenario(p),Y(null),ve("")},f=()=>{try{const p=he.exportData(),y=new Blob([p],{type:"application/json;charset=utf-8"}),D=URL.createObjectURL(y),S=document.createElement("a"),L=new Date,le=L.getFullYear(),pe=String(L.getMonth()+1).padStart(2,"0"),tt=String(L.getDate()).padStart(2,"0");S.href=D,S.download=`formula-lab-backup-${le}${pe}${tt}.json`,document.body.appendChild(S),S.click(),S.remove(),URL.revokeObjectURL(D)}catch(p){console.error(p),window.alert("")}finally{ce(!1)}},m=async p=>{try{const y=await p.text();if(!window.confirm(""))return;he.importData(y),window.alert("")}catch(y){console.error(y),window.alert("JSON")}finally{ce(!1),we.current&&(we.current.value="")}},R=(p,y=0)=>(p?he.getChildScenarios(p):he.getRootScenarios()).map(S=>{const L=I.has(S.id),le=he.getChildScenarios(S.id).length>0;return S.id,s.jsxs("div",{children:[s.jsx("div",{className:"relative group",children:s.jsxs("button",{onTouchStart:pe=>Se(pe,"scenario",S.id),onTouchEnd:je,onTouchCancel:_,onMouseDown:pe=>Se(pe,"scenario",S.id),onMouseUp:je,onMouseLeave:_,onClick:pe=>A(pe,()=>{le?ke(S.id):C(S.id)}),className:"w-full glass-card rounded-xl px-4 py-3 hover:shadow-md transition-all text-left flex items-center gap-3",style:{marginLeft:`${y*1.25}rem`},children:[le&&s.jsx("div",{className:"text-primary",children:L?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 text-card-foreground",children:S.name})]})}),L&&le&&s.jsx("div",{className:"mt-2 space-y-2",children:R(S.id,y+1)})]},S.id)});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("header",{className:"bg-background px-4 pt-3 pb-2 sticky top-0 z-10 relative",children:[s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",value:k,onChange:p=>W(p.target.value),placeholder:F==="scenario"?"...":"...",className:"w-full pl-10 pr-3 py-2.5 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"})]}),s.jsx("button",{onClick:()=>ce(p=>!p),className:"px-3 py-2.5 glass-card rounded-xl hover:shadow-md transition-all flex items-center justify-center","aria-label":"Home menu",children:s.jsx(ic,{className:"w-5 h-5 text-muted-foreground"})})]}),Z&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ce(!1)}),s.jsxs("div",{className:"absolute right-4 mt-1 z-50 glass-card rounded-2xl shadow-2xl py-2 min-w-[180px] border border-border",children:[s.jsxs("button",{onClick:()=>f(),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors flex items-center gap-2",children:[s.jsx(vf,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("button",{onClick:()=>we.current?.click(),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors flex items-center gap-2",children:[s.jsx(Vf,{className:"w-4 h-4 text-primary"}),""]}),s.jsx("input",{ref:we,type:"file",accept:"application/json",className:"hidden",onChange:p=>{const y=p.target.files?.[0];y&&m(y)}})]})]}),s.jsxs("div",{className:"flex gap-1 p-1 glass-card rounded-xl",children:[s.jsx("button",{onClick:()=>V("scenario"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${F==="scenario"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""}),s.jsx("button",{onClick:()=>V("formula"),className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${F==="formula"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:""})]}),qe&&s.jsx("div",{className:"absolute left-4 right-4 mt-2 glass-card rounded-xl shadow-lg max-h-80 overflow-y-auto z-50 border border-border",children:Me.length===0?s.jsx("div",{className:"px-4 py-8 text-sm text-muted-foreground text-center",children:""}):Me.map((p,y)=>s.jsx("button",{onClick:()=>re(p),className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 transition-colors first:rounded-t-xl last:rounded-b-xl",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-md",children:[p.type==="formula"&&"",p.type==="scenario"&&"",p.type==="step"&&""]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-foreground",children:p.name}),p.secondaryInfo&&s.jsx("div",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:p.secondaryInfo})]})]})},`${p.type}-${p.id}-${y}`))})]}),s.jsx("main",{className:"flex-1 p-4 pb-20 overflow-y-auto space-y-2",children:F==="scenario"?s.jsxs(s.Fragment,{children:[R(),s.jsxs("button",{onClick:()=>te(),className:"w-full glass-card rounded-2xl px-4 py-3 text-sm text-muted-foreground hover:shadow-md hover:text-primary transition-all flex items-center justify-center gap-2 border border-dashed border-primary/30",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})]}):Object.values(he.getFormulas()).map(p=>s.jsx("div",{className:"relative group",children:s.jsxs("button",{onTouchStart:y=>Se(y,"formula",p.id),onTouchEnd:je,onTouchCancel:_,onMouseDown:y=>Se(y,"formula",p.id),onMouseUp:je,onMouseLeave:_,onClick:y=>A(y,()=>w(p.id)),className:"w-full glass-card rounded-2xl px-4 py-3 hover:shadow-md transition-all text-left",children:[s.jsx("div",{className:"text-foreground mb-1",children:p.name}),s.jsx("div",{className:"text-sm text-muted-foreground font-mono",children:p.structureTree||p.structureData?s.jsx(_r,{root:p.structureTree||p.structureData,fallback:p.structureTree||p.structureData?s.jsx(_r,{root:p.structureTree||p.structureData,fallback:p.expression,maskBlocks:[],className:""}):p.expression,maskBlocks:[],className:""}):p.expression})]})},p.id))}),s.jsx("button",{onClick:a,"aria-label":"Create formula",style:{width:60,height:60,borderRadius:9999,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"0.2s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgb(83, 190, 232)",background:"rgb(83, 190, 232)",color:"white",boxShadow:"rgba(83, 190, 232, 0.5) 0px 8px 24px -6px",outline:"none",padding:0,opacity:1,position:"fixed",right:16,bottom:"calc(16px + env(safe-area-inset-bottom) + 56px)",zIndex:110,transform:"scale(1)"},children:s.jsx(Gt,{width:24,height:24})}),s.jsx(ys,{currentPage:"home",onNavigateHome:()=>{},onNavigateLearning:E}),H&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>G(null)}),s.jsxs("div",{className:"fixed glass-card rounded-2xl shadow-2xl py-2 z-50 min-w-[160px]",style:{left:`${H.x}px`,top:`${H.y}px`,transform:"translate(-50%, -50%)"},children:[s.jsx("button",{onClick:()=>ie(H.type,H.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),H.type==="scenario"&&s.jsx("button",{onClick:()=>te(H.id),className:"w-full px-5 py-3 text-left text-sm hover:bg-primary/5 text-foreground transition-colors",children:""}),H.id!==_t&&s.jsx("button",{onClick:()=>P(H.type,H.id),className:"w-full px-5 py-3 text-left text-sm text-destructive hover:bg-destructive/5 transition-colors",children:""})]})]}),U&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>ee(null)}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:s.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsx("h3",{className:"text-foreground mb-4",children:U.type==="scenario"?"":""}),s.jsx("input",{type:"text",value:U.name,onChange:p=>ee({...U,name:p.target.value}),onKeyDown:p=>{p.key==="Enter"&&K(),p.key==="Escape"&&ee(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ee(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),s.jsx("button",{onClick:K,className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity",children:""})]})]})})]}),Q&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>Y(null)}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:s.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsx("h3",{className:"text-foreground mb-4",children:Q.parentId?"":""}),s.jsx("input",{type:"text",value:J,onChange:p=>ve(p.target.value),onKeyDown:p=>{p.key==="Enter"&&q(),p.key==="Escape"&&Y(null)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Y(null),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),s.jsx("button",{onClick:q,disabled:!J.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function qf({scenarioId:C,targetStepId:w,onBack:a,onFormulaClick:E,onLearningClick:F}){const[V,k]=M.useState(()=>he.getScenario(C)),[W,I]=M.useState(new Set),[x,H]=M.useState(!1),[G,U]=M.useState(""),[ee,Q]=M.useState(null),[Y,J]=M.useState(null),ve=(re,ke)=>{const A=window.innerWidth||0,ie=window.innerHeight||0;let K=ke?ke.right-220:A-220-12,P=ke?ke.bottom+8:12;K<12&&(K=12),K+220>A-12&&(K=Math.max(12,A-220-12)),P+110>ie-12&&ke&&(P=ke.top-110-8),P<12&&(P=12),J({stepId:re,x:K,y:P})},Z=()=>{J(null)};if(M.useEffect(()=>{if(!Y)return;const re=ke=>{ke.key==="Escape"&&Z()};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[Y]),M.useEffect(()=>he.subscribe(()=>{k(he.getScenario(C))}),[C]),!V)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"text-muted-foreground",children:""})});const ce=re=>{const ke=new Set(W);ke.has(re)?ke.delete(re):ke.add(re),I(ke)},we=()=>{I(new Set(V.steps.map(re=>re.id)))},Pe=()=>{I(new Set)};M.useEffect(()=>{w&&I(new Set([w]))},[w]);const Ne=()=>{G.trim()&&(he.addStep(C,G),U(""),H(!1))},Ie=re=>{confirm("")&&he.deleteStep(C,re)},Me=(re,ke)=>{he.addFormulaToStep(C,re,ke),Q(null)},qe=(re,ke,Se)=>{Se.stopPropagation(),he.removeFormulaFromStep(C,re,ke)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[Y&&s.jsx("div",{className:"fixed inset-0 z-50",onPointerDown:()=>Z(),onContextMenu:re=>re.preventDefault(),children:s.jsxs("div",{className:"absolute bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md shadow-xl rounded-xl border border-border p-1 min-w-[200px]",style:{left:Y.x,top:Y.y},onPointerDown:re=>re.stopPropagation(),children:[s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors",onClick:()=>{Q(Y.stepId),Z()},children:" "}),s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg hover:bg-accent transition-colors text-red-600",onClick:()=>{Ie(Y.stepId),Z()},children:""})]})}),s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[s.jsx("button",{onClick:a,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:s.jsx(br,{className:"w-5 h-5 text-foreground"})}),s.jsx("h1",{className:"flex-1 text-center text-foreground",children:V.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:we,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:s.jsx(_f,{className:"w-5 h-5"})}),s.jsx("button",{onClick:Pe,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:s.jsx(If,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>H(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",title:"",children:s.jsx(Gt,{className:"w-5 h-5"})})]})]}),s.jsx("main",{className:"flex-1 p-4 pb-4 overflow-y-auto space-y-2",children:V.steps.map((re,ke)=>{const Se=W.has(re.id);return s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between select-none",onContextMenu:je=>{je.preventDefault(),ve(re.id,je.currentTarget?.getBoundingClientRect?.())},children:[s.jsxs("button",{type:"button",onClick:()=>ce(re.id),className:"flex items-center gap-2 flex-1 text-left",children:[s.jsx(Xt,{className:`w-4 h-4 transition-transform ${Se?"rotate-180":""}`}),s.jsxs("span",{className:"font-medium text-foreground",children:["",ke+1,": ",re.name]})]}),s.jsx("button",{type:"button","aria-label":"",onClick:je=>{je.stopPropagation(),ve(re.id,je.currentTarget.getBoundingClientRect())},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-xl transition-colors",children:s.jsx(wf,{className:"w-4 h-4"})})]}),Se&&s.jsxs("div",{className:"border-t border-border",children:[(re.formulaIds||[]).map(je=>{const _=he.getFormula(je);return _?s.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:()=>E(_.id),className:"flex-1 text-left",children:[s.jsx("div",{className:"text-sm text-foreground mb-1",children:_.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsx(_r,{root:_.structureTree||_.structureData,fallback:_.expression,className:"text-sm text-muted-foreground"})})]}),C!==_t&&s.jsx("button",{onClick:A=>qe(re.id,je,A),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-colors",children:s.jsx(un,{className:"w-4 h-4"})})]},_.id):null}),C!==_t&&s.jsx("div",{className:"p-4",children:ee===re.id?s.jsx("div",{className:"glass-card rounded-xl max-h-60 overflow-y-auto",children:Object.values(he.getFormulas()).map(je=>{const _=re.formulaIds.includes(je.id);return s.jsxs("button",{onClick:()=>Me(re.id,je.id),disabled:_,className:"w-full px-4 py-3 text-left hover:bg-primary/5 border-b border-border last:border-b-0 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:[s.jsx("div",{className:"text-sm text-foreground",children:je.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:je.expression})]},je.id)})}):s.jsx("div",{className:"text-xs text-muted-foreground px-1",children:" / "})})]})]},re.id)})}),s.jsx(ys,{currentPage:"home",onNavigateHome:a,onNavigateLearning:F}),x&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>H(!1)}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-6",children:s.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsx("h2",{className:"text-foreground mb-4",children:""}),s.jsx("input",{type:"text",value:G,onChange:re=>U(re.target.value),onKeyDown:re=>{re.key==="Enter"&&Ne(),re.key==="Escape"&&H(!1)},className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground mb-4",placeholder:"",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>H(!1),className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm text-muted-foreground hover:bg-muted/10 transition-colors",children:""}),s.jsx("button",{onClick:Ne,disabled:!G.trim(),className:"flex-1 px-4 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function Jf({formulaId:C,onBack:w,onEdit:a,onLearningClick:E,onFormulaClick:F,onContextClick:V}){const k=he.getFormula(C),[W,I]=M.useState(!1),[x,H]=M.useState(!1),[G,U]=M.useState(!1);return k?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[s.jsx("button",{onClick:w,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:s.jsx(br,{className:"w-5 h-5 text-foreground"})}),s.jsx("h1",{className:"flex-1 text-center text-foreground",children:k.name}),s.jsx("button",{onClick:a,className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:s.jsx(Lf,{className:"w-5 h-5"})})]}),s.jsxs("main",{className:"flex-1 p-4 pb-4 space-y-3 overflow-y-auto",children:[s.jsx("div",{className:"glass-card rounded-2xl p-5",children:s.jsx("div",{className:"text-2xl text-foreground text-center",children:s.jsx(_r,{root:k.structureTree||k.structureData,fallback:k.expression,className:"",maskBlocks:[]})})}),k.usedInContexts&&k.usedInContexts.length>0&&s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>H(!x),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),s.jsx("div",{className:"text-primary",children:x?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),x&&s.jsx("div",{className:"border-t border-border",children:k.usedInContexts.map((ee,Q)=>{const J=he.getScenarios().find(Z=>Z.id===ee.scenarioId),ve=J?.steps.find(Z=>Z.id===ee.stepId);return s.jsxs("button",{onClick:()=>V(ee.scenarioId,ee.stepId),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors border-b border-border last:border-b-0",children:[s.jsx("div",{className:"text-foreground text-sm",children:J?.name}),s.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:ve?.name})]},Q)})})]}),k.symbols&&k.symbols.length>0&&s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>U(!G),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),s.jsx("div",{className:"text-primary",children:G?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),G&&s.jsx("div",{className:"border-t border-border",children:k.symbols.map((ee,Q)=>s.jsxs("div",{className:"px-5 py-3 flex items-center gap-4 text-sm border-b border-border last:border-b-0",children:[s.jsx("div",{className:"font-mono text-foreground text-lg w-10 text-center",children:ee.symbol}),s.jsx("div",{className:"flex-1 text-foreground",children:ee.meaning}),ee.unit&&s.jsx("div",{className:"text-muted-foreground text-xs",children:ee.unit})]},Q))})]}),k.equivalentExpressions&&k.equivalentExpressions.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),s.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.equivalentExpressions.map((ee,Q)=>s.jsx("div",{className:"px-5 py-3 text-sm font-mono text-foreground",children:ee},Q))})]}),k.description&&s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>I(!W),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),s.jsx("div",{className:"text-primary",children:W?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),W&&s.jsx("div",{className:"px-5 py-4 pt-2 text-sm text-foreground leading-relaxed border-t border-border",children:k.description})]}),k.usedFormulas.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),s.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.usedFormulas.map(ee=>{const Q=he.getFormula(ee);return Q?s.jsxs("button",{onClick:()=>F(ee),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"text-sm text-foreground mb-1",children:Q.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Q.expression})]},ee):null})})]}),k.derivableFormulas.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),s.jsx("div",{className:"glass-card rounded-2xl divide-y divide-border",children:k.derivableFormulas.map(ee=>{const Q=he.getFormula(ee);return Q?s.jsxs("button",{onClick:()=>F(ee),className:"w-full px-5 py-3 text-left hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"text-sm text-foreground mb-1",children:Q.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Q.expression})]},ee):null})})]})]}),s.jsx(ys,{currentPage:"home",onNavigateHome:w,onNavigateLearning:E})]}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[s.jsx("button",{onClick:w,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",children:s.jsx(br,{className:"w-5 h-5 text-foreground"})}),s.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),s.jsx("div",{className:"w-9"})]}),s.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-muted-foreground mb-6",children:""}),s.jsx("button",{onClick:w,className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl hover:opacity-90 transition-opacity",children:""})]})})]})}function Yf({selectedScenarioIds:C,onToggleScenario:w,contentTypes:a,onToggleContentType:E,stepCoverMode:F,onStepCoverModeChange:V,mode:k,ratio:W,isRandom:I,onModeChange:x,onRatioChange:H,onToggleRandom:G,onApply:U,onClose:ee}){const Q=he.getScenarios(),Y=C.length>0&&a.length>0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:ee}),s.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-full max-w-md bg-background shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-5 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-foreground",children:""}),s.jsx("button",{onClick:ee,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted/10 rounded-xl transition-colors",children:s.jsx(un,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-5 space-y-6 pb-32",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),s.jsx("div",{className:"space-y-2",children:Q.map(J=>s.jsxs("button",{onClick:()=>w(J.id),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${C.includes(J.id)?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${C.includes(J.id)?"border-primary bg-primary":"border-muted-foreground"}`,children:C.includes(J.id)&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:J.name})]},J.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>E("formula"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("formula")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("formula")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("formula")&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:""})]}),s.jsxs("button",{onClick:()=>E("symbols"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("symbols")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("symbols")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("symbols")&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:""})]}),s.jsxs("button",{onClick:()=>E("relations"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("relations")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("relations")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("relations")&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:""})]}),s.jsxs("button",{onClick:()=>E("steps"),className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${a.includes("steps")?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.includes("steps")?"border-primary bg-primary":"border-muted-foreground"}`,children:a.includes("steps")&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:""})]})]})]}),a.length>0&&s.jsxs(s.Fragment,{children:[(a.includes("formula")||a.includes("symbols"))&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x("left"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="left"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),s.jsx("button",{onClick:()=>x("right"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="right"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),s.jsx("button",{onClick:()=>x("whole"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${k==="whole"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),a.includes("steps")&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>V("title"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${F==="title"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),s.jsx("button",{onClick:()=>V("formulas"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${F==="formulas"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""}),s.jsx("button",{onClick:()=>V("random"),className:`flex-1 py-2.5 rounded-xl text-sm transition-all ${F==="random"?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:""})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-foreground mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:[30,50,70,100].map(J=>s.jsxs("button",{onClick:()=>H(J),className:`py-2.5 rounded-xl text-sm transition-all ${W===J?"bg-primary text-primary-foreground shadow-md":"glass-card text-foreground hover:shadow-md"}`,children:[J,"%"]},J))})]}),s.jsx("div",{children:s.jsxs("button",{onClick:G,className:`w-full glass-card rounded-xl px-4 py-3 text-left flex items-center gap-3 transition-all ${I?"ring-2 ring-primary bg-primary/5":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${I?"border-primary bg-primary":"border-muted-foreground"}`,children:I&&s.jsx(Er,{className:"w-3 h-3 text-primary-foreground"})}),s.jsx("span",{className:"flex-1 text-foreground",children:""})]})})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md ml-auto glass-nav px-5 py-4",children:s.jsx("button",{onClick:U,disabled:!Y,className:"w-full py-4 bg-primary text-primary-foreground rounded-2xl shadow-lg hover:opacity-90 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",children:Y?" / ":""})})]})]})}function Xf({onBack:C,onNavigateHome:w}){const[a,E]=M.useState(!1),[F,V]=M.useState([]),[k,W]=M.useState(["formula"]),[I,x]=M.useState("right"),[H,G]=M.useState(50),[U,ee]=M.useState(!0),[Q,Y]=M.useState("random"),[J,ve]=M.useState(!1),[Z,ce]=M.useState(new Set),[we,Pe]=M.useState(0),[Ne,Ie]=M.useState([]),Me=()=>{const m=new Set;F.forEach(p=>{const y=he.getScenario(p);y&&y.steps.forEach(D=>{D.formulaIds.forEach(S=>m.add(S))})});const R=[];return m.forEach(p=>{const y=he.getFormula(p);y&&R.push(y)}),R},qe=()=>{const m=[];return F.forEach(R=>{const p=he.getScenario(R);p&&p.steps.forEach(y=>{m.push({scenarioId:R,scenarioName:p.name,stepId:y.id,stepName:y.name,formulaIds:y.formulaIds||[]})})}),m},re=m=>{if(Q==="title"?!0:Q==="formulas"?!1:Math.random()<.5)return[{id:`step-${m.stepId}-title`,content:{kind:"title"}}];const p=m.formulaIds||[];if(p.length===0)return[{id:`step-${m.stepId}-title`,content:{kind:"title"}}];const y=Math.max(1,Math.ceil(p.length*(H/100)));let D;return U?D=[...Array(p.length).keys()].sort(()=>Math.random()-.5).slice(0,y):D=[...Array(p.length).keys()].slice(0,y),D.map(S=>({id:`step-${m.stepId}-formula-${S}`,content:{kind:"formula",index:S}}))},ke=(m,R=[])=>{const p=[],y=(D,S)=>{D.children.forEach((L,le)=>{const pe=[...S,le];p.push(pe),L.type==="fraction"?(y(L.numerator,[...pe,"numerator"]),y(L.denominator,[...pe,"denominator"])):L.type==="superscript"?(y(L.base,[...pe,"base"]),y(L.exponent,[...pe,"exponent"])):L.type==="subscript"?(y(L.base,[...pe,"base"]),y(L.index,[...pe,"index"])):L.type==="sqrt"||L.type==="abs"?y(L.content,[...pe,"content"]):L.type==="sum"||L.type==="integral"?(y(L.lower,[...pe,"lower"]),y(L.upper,[...pe,"upper"]),y(L.body,[...pe,"body"])):L.type==="function"&&y(L.argument,[...pe,"argument"])})};return y(m,R),p},Se=m=>{for(let R=0;R<m.children.length;R++){const p=m.children[R];if(p.type==="symbol"&&p.value==="=")return R}return-1},je=m=>{const R=ke(m),p=Se(m);let y=[];I==="left"&&p>=0?y=R.filter(L=>{const le=L[0];return typeof le=="number"&&le<p}):I==="right"&&p>=0?y=R.filter(L=>{const le=L[0];return typeof le=="number"&&le>p}):y=R;const D=Math.ceil(y.length*(H/100));let S;return U?S=[...y].sort(()=>Math.random()-.5).slice(0,D):S=y.slice(0,D),S.map(L=>({id:`formula-${L.join("-")}`,content:L}))},_=m=>{const R=Math.ceil(m.length*(H/100));let p;return U?p=m.map((D,S)=>S).sort(()=>Math.random()-.5).slice(0,R):p=Array.from({length:R},(y,D)=>D),p.map(y=>({id:`symbol-${y}-${I}`,content:{index:y,mode:I}}))},A=m=>{const R=Math.ceil(m.length*(H/100));let p;return U?p=m.map((D,S)=>S).sort(()=>Math.random()-.5).slice(0,R):p=Array.from({length:R},(y,D)=>D),p.map(y=>({id:`relation-${y}`,content:y}))},ie=()=>{const m=Me(),R=qe(),p=[];if(m.forEach(D=>{if(k.includes("formula")&&(D.structureTree||D.structureData)){const S=D.structureTree||D.structureData,L=je(S);p.push({type:"formula",formula:D,maskBlocks:L})}if(k.includes("symbols")&&D.symbols&&D.symbols.length>0){const S=_(D.symbols);p.push({type:"symbols",formula:D,maskBlocks:S})}if(k.includes("relations")){const S=[...D.usedFormulas||[],...D.derivableFormulas||[],...D.equivalentExpressions||[]];if(S.length>0){const L=A(S);p.push({type:"relations",formula:D,maskBlocks:L})}}}),k.includes("steps")&&R.forEach(D=>{const S=re({stepId:D.stepId,formulaIds:D.formulaIds});p.push({type:"steps",step:D,maskBlocks:S})}),p.length===0){alert("");return}const y=U?[...p].sort(()=>Math.random()-.5):p;Ie(y),Pe(0),ve(!0),ce(new Set),E(!1)},K=()=>{if(!J||Ne.length===0)return s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"text-muted-foreground",children:["",s.jsx("br",{})," / "]})});const m=Ne[we];if(m.type==="steps"&&m.step){const y=m.step,D=le=>{const pe=new Set(Z);pe.add(le),ce(pe)},S=`step-${y.stepId}-title`,L=m.maskBlocks.some(le=>le.id===S)&&!Z.has(S);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:y.scenarioName}),L?s.jsx("button",{onClick:()=>D(S),className:"inline-block px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):s.jsx("div",{className:"text-xl text-foreground font-medium",children:y.stepName})]}),s.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),s.jsxs("div",{className:"space-y-2",children:[(y.formulaIds||[]).length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),(y.formulaIds||[]).map((le,pe)=>{const tt=he.getFormula(le);if(!tt)return null;const Tt=`step-${y.stepId}-formula-${pe}`;return m.maskBlocks.some(Je=>Je.id===Tt)&&!Z.has(Tt)?s.jsx("button",{onClick:()=>D(Tt),className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},le):s.jsx("div",{className:"font-mono text-foreground",children:tt.expression},le)})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground text-center",children:""})]})}const R=m.formula,p=m.type==="formula"?R.structureTree||R.structureData:null;return s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:R.name||R.expression}),p&&s.jsx("div",{className:"text-3xl inline-block",children:s.jsx(_r,{root:p,fallback:R.expression,className:"",maskBlocks:m.type==="formula"?m.maskBlocks:[],isMaskRevealed:y=>Z.has(y),onRevealMask:y=>{ce(D=>new Set([...Array.from(D),y]))}})})]}),m.type==="symbols"&&s.jsx("div",{className:"space-y-3",children:R.symbols.map((y,D)=>{const S=m.maskBlocks.find(pe=>pe.content.index===D),L=S&&Z.has(S.id),le=S?.content.mode;return s.jsxs("div",{className:"glass-card rounded-2xl p-4 flex items-center gap-4",children:[le==="left"&&S&&!L?s.jsx("button",{onClick:()=>{const pe=new Set(Z);pe.add(S.id),ce(pe)},className:"w-12 text-center px-2 py-0.5 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):s.jsx("div",{className:"text-2xl font-mono w-12 text-center",children:y.symbol}),(le==="right"||le==="whole")&&S&&!L?s.jsx("button",{onClick:()=>{const pe=new Set(Z);pe.add(S.id),ce(pe)},className:"flex-1 px-3 py-1 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"}):s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-foreground",children:y.meaning}),y.unit&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[": ",y.unit]})]})]},D)})}),m.type==="relations"&&s.jsxs("div",{className:"space-y-3",children:[R.usedFormulas&&R.usedFormulas.length>0&&s.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),s.jsx("div",{className:"space-y-2",children:R.usedFormulas.map((y,D)=>{const S=he.getFormula(y);if(!S)return null;const L=m.maskBlocks.find(pe=>pe.content===D),le=L&&Z.has(L.id);return L&&!le?s.jsx("button",{onClick:()=>{const pe=new Set(Z);pe.add(L.id),ce(pe)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},y):s.jsx("div",{className:"font-mono text-foreground",children:S.expression},y)})})]}),R.derivableFormulas&&R.derivableFormulas.length>0&&s.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),s.jsx("div",{className:"space-y-2",children:R.derivableFormulas.map((y,D)=>{const S=he.getFormula(y);if(!S)return null;const L=R.usedFormulas?.length||0,le=m.maskBlocks.find(tt=>tt.content===L+D),pe=le&&Z.has(le.id);return le&&!pe?s.jsx("button",{onClick:()=>{const tt=new Set(Z);tt.add(le.id),ce(tt)},className:"w-full px-3 py-2 bg-muted/50 text-muted rounded cursor-pointer hover:bg-muted transition-colors",children:"?"},y):s.jsx("div",{className:"font-mono text-foreground",children:S.expression},y)})})]})]})]})},P=()=>{we>0&&(Pe(we-1),ce(new Set))},te=()=>{we<Ne.length-1&&(Pe(we+1),ce(new Set))},q=()=>{if(Ne.length>0){const m=new Set(Ne[we].maskBlocks.map(R=>R.id));ce(m)}},f=()=>{ce(new Set)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-16",children:[s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>E(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-xl transition-colors",children:s.jsx(ic,{className:"w-6 h-6"})}),s.jsx("div",{className:"text-sm text-muted-foreground",children:J&&`${we+1} / ${Ne.length}`}),s.jsx("div",{className:"w-10"})]}),s.jsx("main",{className:"flex-1 flex items-center justify-center px-6 pb-24 overflow-y-auto",children:s.jsx("div",{className:"w-full max-w-2xl",children:K()})}),s.jsx("div",{className:"fixed bottom-20 left-0 right-0 px-6 pb-4 bg-gradient-to-t from-background via-background to-transparent pt-8",children:J?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:q,className:"flex-1 py-3.5 bg-primary text-primary-foreground rounded-2xl shadow-md hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(Sf,{className:"w-5 h-5"}),s.jsx("span",{children:""})]}),s.jsx("button",{onClick:f,className:"px-4 py-3.5 glass-card rounded-2xl shadow-md hover:shadow-lg transition-all",children:s.jsx(Df,{className:"w-5 h-5 text-primary"})})]}),Ne.length>1&&s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:P,disabled:we===0,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[s.jsx(br,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:""})]}),s.jsxs("button",{onClick:te,disabled:we>=Ne.length-1,className:"flex-1 py-3 glass-card rounded-xl disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-foreground hover:shadow-md transition-all",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx(Bt,{className:"w-4 h-4"})]})]})]}):null}),s.jsx(ys,{currentPage:"learning",onNavigateHome:w,onNavigateLearning:()=>{}}),a&&s.jsx(Yf,{selectedScenarioIds:F,onToggleScenario:m=>{F.includes(m)?V(F.filter(R=>R!==m)):V([...F,m])},contentTypes:k,onToggleContentType:m=>{k.includes(m)?W(k.filter(R=>R!==m)):W([...k,m])},mode:I,ratio:H,isRandom:U,stepCoverMode:Q,onStepCoverModeChange:Y,onModeChange:x,onRatioChange:G,onToggleRandom:()=>ee(!U),onApply:ie,onClose:()=>E(!1)})]})}const Gf=300,tc=650,nc=14;function rc(C){return C.length===1&&C>="0"&&C<="9"}function Zf({api:C}){const w=M.useMemo(()=>[{label:"",type:"fraction"},{label:"x",type:"superscript"},{label:"x",type:"subscript"},{label:"",type:"sqrt"},{label:"",type:"sum"},{label:"",type:"integral"},{label:"|x|",type:"abs"}],[]),a=M.useMemo(()=>["","","","","","","","","","","","","","","","","","","","","","","",""],[]),E=M.useMemo(()=>["=","+","","",""],[]),F=M.useMemo(()=>["","(",")","[","]","","","","","","","","",""],[]),V=M.useMemo(()=>[{id:"1",letters:[],digit:"1"},{id:"2",letters:["a","b","c"],digit:"2"},{id:"3",letters:["d","e","f"],digit:"3"},{id:"4",letters:["g","h","i"],digit:"4"},{id:"5",letters:["j","k","l"],digit:"5"},{id:"6",letters:["m","n","o"],digit:"6"},{id:"7",letters:["p","q","r","s"],digit:"7"},{id:"8",letters:["t","u","v"],digit:"8"},{id:"9",letters:["w","x","y","z"],digit:"9"}],[]),[k,W]=M.useState("off"),I=M.useRef(0),x=_=>{if(!_)return _;const A=k==="off"?_:_.toUpperCase();return k==="once"&&W("off"),A},H=()=>{const _=Date.now();if(_-I.current<350){W(A=>A==="lock"?"off":"lock"),I.current=0;return}I.current=_,W(A=>A==="lock"||A==="once"?"off":"once")},G=M.useRef(null),U=_=>{const A=_.letters;return A.length?[...A,_.digit]:[_.digit]},ee=_=>{const A=U(_),ie=Date.now(),K=G.current,P=K&&K.id===_.id&&ie-K.at<=tc,te=P?(K.idx+1)%A.length:0,q=A[te],f=rc(q)?q:x(q);P&&C.replacePrevAtom(f)||C.insert(f),G.current={id:_.id,at:ie,idx:te}};M.useEffect(()=>{const _=setInterval(()=>{const A=G.current;A&&Date.now()-A.at>tc&&(G.current=null)},200);return()=>clearInterval(_)},[]);const[Q,Y]=M.useState(null),J=M.useRef(null),ve=M.useRef(null),Z=M.useRef(null),ce=M.useRef(null),[we,Pe]=M.useState(null);M.useEffect(()=>{const _=ce.current;if(!_)return;const A=()=>Pe(_.getBoundingClientRect().height);A();const ie=new ResizeObserver(A);return ie.observe(_),()=>ie.disconnect()},[]);const Ne=()=>{J.current&&(window.clearTimeout(J.current),J.current=null)},Ie=(_,A)=>{const ie=Math.abs(_),K=Math.abs(A);return ie<nc&&K<nc?"center":ie>K?_>0?"right":"left":A>0?"down":"up"},Me=(_,A)=>{const ie=_.letters;let K="";ie.length===0?K=_.digit:ie.length===3?A==="down"?K=_.digit:A==="up"?K=ie[0]:A==="left"?K=ie[1]:A==="right"?K=ie[2]:K=ie[0]:A==="down"?K=_.digit:A==="up"?K=ie[0]:A==="left"?K=ie[1]:A==="right"?K=ie[2]:K=ie[3],rc(K)||(K=x(K)),C.insert(K)},qe=(_,A)=>{_.currentTarget.setPointerCapture(_.pointerId),ve.current={x:_.clientX,y:_.clientY},Z.current=A,Ne(),J.current=window.setTimeout(()=>{const ie=ve.current;ie&&Y({def:A,anchor:{x:ie.x,y:ie.y},direction:"center"})},Gf)},re=_=>{if(!Q||!ve.current)return;const A=_.clientX-ve.current.x,ie=_.clientY-ve.current.y,K=Ie(A,ie);K!==Q.direction&&Y({...Q,direction:K})},ke=(_,A)=>{const ie=!!Q;if(Ne(),ve.current=null,Z.current=null,ie){Me(A,Q.direction),Y(null);return}ee(A)},Se=()=>{Ne(),ve.current=null,Z.current=null,Y(null)},je=()=>{if(!Q)return null;const{anchor:_,direction:A,def:ie}=Q,K=ie.letters,P=[];K.length===0?P.push({dir:"center",label:ie.digit}):K.length===3?(P.push({dir:"up",label:K[0]}),P.push({dir:"left",label:K[1]}),P.push({dir:"right",label:K[2]}),P.push({dir:"down",label:ie.digit}),P.push({dir:"center",label:K[0]})):(P.push({dir:"up",label:K[0]}),P.push({dir:"left",label:K[1]}),P.push({dir:"right",label:K[2]}),P.push({dir:"down",label:ie.digit}),P.push({dir:"center",label:K[3]}));const te=L=>{const le=P.find(Tt=>Tt.dir===L);if(!le)return null;const tt="w-10 h-10 rounded-xl flex items-center justify-center text-base select-none "+(A===L?"bg-primary text-primary-foreground shadow-lg":"bg-card border border-border/60 text-foreground");return s.jsx("div",{className:tt,children:x(le.label)})},f=140/2,m=10,R=typeof window<"u"?window.innerWidth:0,p=typeof window<"u"?window.innerHeight:0,y=R?Math.min(Math.max(_.x,m+f),R-m-f):_.x,D=p?Math.min(Math.max(_.y,m+f),p-m-f):_.y,S={position:"fixed",left:y,top:D,transform:"translate(-50%, -50%)",zIndex:1e3,pointerEvents:"none"};return s.jsx("div",{style:S,children:s.jsxs("div",{className:"relative w-[140px] h-[140px]",children:[s.jsx("div",{className:"absolute left-1/2 top-0 -translate-x-1/2",children:te("up")}),s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:te("left")}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:te("right")}),s.jsx("div",{className:"absolute left-1/2 bottom-0 -translate-x-1/2",children:te("down")}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:te("center")})]})})};return s.jsxs("div",{className:"w-full bg-card border-t safe-area-bottom",style:{userSelect:"none",WebkitUserSelect:"none"},onContextMenu:_=>_.preventDefault(),children:[je(),s.jsx("div",{className:"flex gap-2 px-3 py-2 border-b overflow-x-auto",children:a.map(_=>s.jsx("button",{type:"button",className:"shrink-0 px-3 py-2 rounded-lg bg-muted",onMouseDown:A=>A.preventDefault(),onClick:()=>C.insert(_),children:_},_))}),s.jsx("div",{className:"flex gap-2 px-3 py-2 border-b overflow-x-auto",children:w.map(_=>s.jsx("button",{type:"button",className:"shrink-0 px-4 py-2 rounded-lg bg-muted",onMouseDown:A=>A.preventDefault(),onClick:()=>C.insertStructure(_.type),children:_.label},_.type))}),s.jsx("div",{className:"px-3 py-3",children:s.jsxs("div",{className:"flex gap-3 items-stretch",children:[s.jsx("div",{className:"w-14 overflow-y-auto pr-1 flex flex-col gap-2 min-h-0",style:{height:we??240,maxHeight:we??240},children:[...E,...F].map(_=>s.jsx("button",{type:"button",className:"h-12 rounded-xl bg-muted flex items-center justify-center text-lg shrink-0",onMouseDown:A=>A.preventDefault(),onClick:()=>C.insert(_),children:_},_))}),s.jsxs("div",{ref:ce,className:"flex-1 flex flex-col gap-2",children:[s.jsx("div",{className:"grid grid-cols-3 gap-2",children:V.map(_=>s.jsxs("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex flex-col items-center justify-center",onMouseDown:A=>A.preventDefault(),onPointerDown:A=>qe(A,_),onPointerMove:re,onPointerUp:A=>ke(A,_),onPointerCancel:Se,children:[s.jsx("div",{className:"text-lg leading-none",children:_.id}),s.jsx("div",{className:"text-[11px] text-muted-foreground leading-none mt-1",children:_.letters.length?_.letters.join(""):""})]},_.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center",onMouseDown:_=>_.preventDefault(),onClick:()=>C.insert(" "),children:""}),s.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:_=>_.preventDefault(),onClick:()=>C.insert("0"),children:"0"}),s.jsx("button",{type:"button",className:"h-12 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:_=>_.preventDefault(),onClick:()=>C.insert("."),children:"."})]})]}),s.jsxs("div",{className:"w-14 flex flex-col gap-2",style:{height:we??240,maxHeight:we??240},children:[s.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:_=>_.preventDefault(),onClick:C.backspace,onPointerDown:_=>{_.currentTarget.setPointerCapture(_.pointerId);const A=window.setTimeout(()=>{const K=window.setInterval(C.backspace,80),P=()=>{window.clearInterval(K),window.removeEventListener("pointerup",P),window.removeEventListener("pointercancel",P)};window.addEventListener("pointerup",P),window.addEventListener("pointercancel",P)},320),ie=()=>{window.clearTimeout(A),window.removeEventListener("pointerup",ie),window.removeEventListener("pointercancel",ie)};window.addEventListener("pointerup",ie),window.addEventListener("pointercancel",ie)},children:""}),s.jsx(lc,{label:"",onClick:C.moveLeft,onHold:C.enterStructure}),s.jsx(lc,{label:"",onClick:C.moveRight,onHold:C.exitStructure}),s.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:_=>_.preventDefault(),onClick:H,children:k==="off"||k==="once"?"":""})]})]})})]})}function lc({label:C,onClick:w,onHold:a}){const E=M.useRef(null),F=M.useRef(!1),V=()=>{E.current&&(window.clearTimeout(E.current),E.current=null)};return s.jsx("button",{type:"button",className:"h-14 rounded-2xl bg-muted flex items-center justify-center text-lg",onMouseDown:k=>k.preventDefault(),onPointerDown:k=>{k.currentTarget.setPointerCapture(k.pointerId),F.current=!1,V(),E.current=window.setTimeout(()=>{F.current=!0,a()},350)},onPointerUp:()=>{const k=F.current;V(),F.current=!1,k||w()},onPointerCancel:()=>{V(),F.current=!1},children:C})}function ep({formulaId:C,onNext:w,onCancel:a,draftExpression:E,draftStructureData:F}){const V=C?he.getFormula(C):null,k=F||(V?.structureData?V.structureData:{children:E??V?.expression?[{type:"symbol",value:E??V?.expression}]:[]}),[W,I]=M.useState(k),[x,H]=M.useState({path:[],index:0}),[G,U]=M.useState(null),[ee,Q]=M.useState([{root:k,cursor:{path:[],index:0}}]),[Y,J]=M.useState(0);M.useRef(null);const ve=M.useRef(null),Z=M.useRef(!1),[ce,we]=M.useState(!1),[Pe,Ne]=M.useState(0),[Ie,Me]=M.useState(0),qe=M.useRef(null),re=()=>{if(ce)return;const g=ve.current;g&&g.focus()};M.useEffect(()=>{const g=window.matchMedia?window.matchMedia("(pointer: coarse)"):null,j=()=>we(!!g&&g.matches);if(j(),!!g)return g.addEventListener?.("change",j),()=>g.removeEventListener?.("change",j)},[]);const ke=()=>{ve.current&&(ve.current.value="")};M.useEffect(()=>{if(ce){Ne(0);return}const g=window.visualViewport;if(!g)return;const j=()=>{const X=Math.max(0,window.innerHeight-g.height-g.offsetTop);Ne(X)};return j(),g.addEventListener("resize",j),g.addEventListener("scroll",j),()=>{g.removeEventListener("resize",j),g.removeEventListener("scroll",j)}},[ce]),M.useEffect(()=>{const g=qe.current;if(!g)return;const j=()=>Me(g.getBoundingClientRect().height),X=new ResizeObserver(j);return X.observe(g),()=>X.disconnect()},[]);const Se=(g,j)=>{const X=ee.slice(0,Y+1);X.push({root:JSON.parse(JSON.stringify(g)),cursor:{...j}}),Q(X),J(X.length-1)},je=()=>{if(Y>0){const g=ee[Y-1];I(JSON.parse(JSON.stringify(g.root))),H({...g.cursor}),J(Y-1),U(null)}},_=()=>{if(Y<ee.length-1){const g=ee[Y+1];I(JSON.parse(JSON.stringify(g.root))),H({...g.cursor}),J(Y+1),U(null)}},A=(g,j)=>{if(j.length===0)return"children"in g?g:null;const[X,...oe]=j;if("children"in g){const me=g;if(typeof X=="number"&&me.children[X])return A(me.children[X],oe)}if(typeof X=="string"&&X in g){const me=g[X];if(me&&"children"in me)return A(me,oe)}return null},ie=g=>g.path.length>=2&&g.path[g.path.length-1]==="text"&&typeof g.path[g.path.length-2]=="number",K=(g,j)=>{if(!ie(j))return null;const X=j.path.slice(0,-2),oe=j.path[j.path.length-2],me=A(g,X);if(!me)return null;const _e=me.children[oe];return!_e||_e.type!=="number"?null:{parentPath:X,parent:me,nodeIndex:oe,node:_e}},P=g=>{if(g)for(const j of Array.from(g))q(j)},te=g=>g.length===1&&g>="0"&&g<="9",q=g=>{const j=JSON.parse(JSON.stringify(W)),X=K(j,x);if(X){const _e=Math.max(0,Math.min(x.index,X.node.text.length));if(te(g)||g==="."){if(g==="."&&X.node.text.includes("."))return;const Zt=g==="."&&_e===0?"0.":g,Ht=X.node.text.slice(0,_e),cn=X.node.text.slice(_e);X.node.text=Ht+Zt+cn;const On={path:x.path,index:_e+Zt.length};I(j),H(On),Se(j,On),U(null);return}const Be={path:X.parentPath,index:X.nodeIndex+1},De=A(j,Be.path);if(!De)return;De.children.splice(Be.index,0,{type:"symbol",value:g});const He={...Be,index:Be.index+1};I(j),H(He),Se(j,He),U(null);return}const oe=A(j,x.path);if(!oe)return;if(te(g)||g==="."){const _e=x.index>0?oe.children[x.index-1]:null,Be=x.index<oe.children.length?oe.children[x.index]:null;if(g==="."&&(!_e||_e.type!=="number")){oe.children.splice(x.index,0,{type:"number",text:"0."});const He={...x,index:x.index+1};I(j),H(He),Se(j,He),U(null);return}if(_e&&_e.type==="number"){if(g==="."&&_e.text.includes("."))return;_e.text+=g;const He={...x,index:x.index};I(j),H(He),Se(j,He),U(null);return}if(Be&&Be.type==="number"&&te(g)){Be.text=g+Be.text;const He={...x,index:x.index+1};I(j),H(He),Se(j,He),U(null);return}oe.children.splice(x.index,0,{type:"number",text:g});const De={...x,index:x.index+1};I(j),H(De),Se(j,De),U(null);return}oe.children.splice(x.index,0,{type:"symbol",value:g});const me={...x,index:x.index+1};I(j),H(me),Se(j,me),U(null)},f=g=>{if(!g||x.index<=0)return!1;const j=JSON.parse(JSON.stringify(W)),X=A(j,x.path);if(!X)return!1;const oe=x.index-1,me=X.children[oe];return me?me.type==="symbol"?(me.value=g,I(j),Se(j,x),U(null),!0):me.type==="number"?me.text.length!==1?!1:(te(g)||g==="."?me.text=g==="."?"0.":g:X.children[oe]={type:"symbol",value:g},I(j),Se(j,x),U(null),!0):!1:!1},m=g=>{let j;switch(g){case"fraction":j={type:"fraction",numerator:{children:[]},denominator:{children:[]}};break;case"superscript":j={type:"superscript",base:{children:[]},exponent:{children:[]}};break;case"subscript":j={type:"subscript",base:{children:[]},index:{children:[]}};break;case"sqrt":j={type:"sqrt",content:{children:[]}};break;case"sum":j={type:"sum",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"integral":j={type:"integral",lower:{children:[]},upper:{children:[]},body:{children:[]}};break;case"abs":j={type:"abs",content:{children:[]}};break;default:return}const X=JSON.parse(JSON.stringify(W)),oe=A(X,x.path);if(oe){oe.children.splice(x.index,0,j);const me=R(g),_e=me?{path:[...x.path,x.index,me],index:0}:{...x,index:x.index+1};I(X),H(_e),Se(X,_e),U(null),requestAnimationFrame(re)}},R=g=>{switch(g){case"fraction":return"numerator";case"superscript":case"subscript":return"base";case"sqrt":case"abs":return"content";case"function":return"argument";case"sum":case"integral":return"lower";default:return null}},p=()=>{const g=JSON.parse(JSON.stringify(W)),j=K(g,x);if(j){const oe=Math.max(0,Math.min(x.index,j.node.text.length));if(oe===0){U(null);return}const me=j.node.text.slice(0,oe-1),_e=j.node.text.slice(oe),Be=me+_e;if(Be.length===0){j.parent.children.splice(j.nodeIndex,1);const He={path:j.parentPath,index:j.nodeIndex};I(g),H(He),Se(g,He),U(null);return}j.node.text=Be;const De={...x,index:oe-1};I(g),H(De),Se(g,De),U(null);return}if(x.index===0&&x.path.length===0){U(null);return}const X=A(g,x.path);if(X){if(x.index>0){const oe=x.index-1,me=[...x.path,oe],_e=X.children[oe],Be=G&&JSON.stringify(G)===JSON.stringify(me);if(_e.type==="symbol"||_e.type==="number"){X.children.splice(oe,1);const De={...x,index:x.index-1};I(g),H(De),Se(g,De),U(null)}else if(Be){X.children.splice(oe,1);const De={...x,index:x.index-1};I(g),H(De),Se(g,De),U(null)}else U(me)}else if(x.path.length>0&&typeof x.path[x.path.length-1]=="string"){const me=x.path.slice(0,-1),_e=me[me.length-1];if(typeof _e=="number"){const Be=me.slice(0,-1),De=A(g,Be);if(De){const He=me;if(G&&JSON.stringify(G)===JSON.stringify(He)){De.children.splice(_e,1);const Ht={path:Be,index:_e};I(g),H(Ht),Se(g,Ht),U(null)}else U(He)}}}}},y=()=>{const g=K(W,x);if(g){H({path:g.parentPath,index:g.nodeIndex+1}),U(null),re();return}if(x.path.length===0)return;const j=x.path.slice(0,-1),X=j[j.length-1];typeof X=="number"&&(H({path:j.slice(0,-1),index:X+1}),U(null),re())},D=()=>{if(ie(x))return;const g=A(W,x.path);if(!g)return;const j=x.index>0?x.index-1:g.children[x.index]?x.index:-1;if(j===-1)return;const X=g.children[j];if(X.type==="number"){H({path:[...x.path,j,"text"],index:X.text.length}),U(null),re();return}if(X.type==="symbol")return;const oe=R(X.type);oe&&(H({path:[...x.path,j,oe],index:0}),U(null),re())},S=()=>{const g=K(W,x);if(g){x.index>0?H({...x,index:x.index-1}):H({path:g.parentPath,index:g.nodeIndex}),U(null),re();return}if(x.index>0)H({...x,index:x.index-1});else if(x.path.length>0){const j=x.path.slice(0,-1),X=j[j.length-1];typeof X=="number"&&H({path:j.slice(0,-1),index:X})}U(null),re()},L=()=>{const g=K(W,x);if(g){const X=g.node.text.length;x.index<X?H({...x,index:x.index+1}):H({path:g.parentPath,index:g.nodeIndex+1}),U(null),re();return}const j=A(W,x.path);if(j&&x.index<j.children.length)H({...x,index:x.index+1});else if(x.path.length>0){const X=x.path.slice(0,-1),oe=X[X.length-1];typeof oe=="number"&&H({path:X.slice(0,-1),index:oe+1})}U(null),re()},le=g=>{const j=g.nativeEvent,X=j.inputType||"";if(X==="insertCompositionText")return;const oe=j.data;if(X==="insertFromComposition"&&oe){for(const me of Array.from(oe))P(me);requestAnimationFrame(()=>{ke()})}},pe=g=>{if(Z.current)return;const j=g.target.value;if(j){for(const X of Array.from(j))P(X);ke()}},tt=g=>{Z.current=!1;const j=g.data,X=g.currentTarget.value,oe=j&&j.length>0?j:X;if(oe)for(const me of Array.from(oe))P(me);requestAnimationFrame(()=>{ke()})},Tt=g=>{Z.current||(g.key==="Backspace"?(g.preventDefault(),p()):g.key==="ArrowLeft"?(g.preventDefault(),S()):g.key==="ArrowRight"&&(g.preventDefault(),L()))},Ae=g=>{if("children"in g&&!("type"in g))return g.children.map(X=>Ae(X)).join("");const j=g;switch(j.type){case"symbol":return j.value;case"number":return j.text;case"fraction":return`(${Ae(j.numerator)})/(${Ae(j.denominator)})`;case"superscript":return`${Ae(j.base)}^{${Ae(j.exponent)}}`;case"subscript":return`${Ae(j.base)}_{${Ae(j.index)}}`;case"sqrt":return`(${Ae(j.content)})`;case"abs":return`|${Ae(j.content)}|`;case"function":return`${j.name}(${Ae(j.argument)})`;case"sum":return`[${Ae(j.lower)}${Ae(j.upper)}](${Ae(j.body)})`;case"integral":return`[${Ae(j.lower)}${Ae(j.upper)}](${Ae(j.body)})`;default:return""}},Je=(g,j)=>{const X=JSON.stringify(x.path)===JSON.stringify(j);return s.jsxs("div",{className:"inline-flex items-center gap-0.5 min-h-[1.5em]",children:[g.children.length===0?s.jsx("span",{className:`inline-block w-4 h-6 border border-dashed ${X?"border-primary bg-primary/10":"border-muted-foreground/30"} rounded cursor-text`,onClick:oe=>{oe.stopPropagation(),H({path:j,index:0}),re()}}):g.children.map((oe,me)=>s.jsxs(sc.Fragment,{children:[X&&x.index===me&&s.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"}),tr(oe,[...j,me])]},me)),X&&x.index===g.children.length&&s.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse"})]})},tr=(g,j)=>{const oe=G&&JSON.stringify(G)===JSON.stringify(j)?"ring-2 ring-destructive bg-destructive/10":"",me=_e=>{_e.stopPropagation();const Be=j.slice(0,-1),De=j[j.length-1];H({path:Be,index:De+1}),U(null),re()};switch(g.type){case"symbol":return s.jsx("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded ${oe}`,onClick:me,children:g.value});case"number":{if(!(JSON.stringify(x.path)===JSON.stringify([...j,"text"])))return s.jsx("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded font-mono ${oe}`,onClick:me,children:g.text});const De=Math.max(0,Math.min(x.index,g.text.length)),He=g.text.slice(0,De),Zt=g.text.slice(De);return s.jsxs("span",{className:`inline-block px-0.5 cursor-text hover:bg-muted rounded font-mono ${oe}`,onClick:me,children:[s.jsx("span",{children:He}),s.jsx("span",{className:"inline-block w-0.5 h-6 bg-primary animate-pulse align-middle"}),s.jsx("span",{children:Zt})]})}case"fraction":return s.jsxs("div",{className:`inline-flex flex-col items-center px-1 mx-1 border border-transparent rounded ${oe}`,children:[s.jsx("div",{className:"border-b border-foreground px-1",children:Je(g.numerator,[...j,"numerator"])}),s.jsx("div",{className:"px-1 mt-[4px] pt-[1px]",children:Je(g.denominator,[...j,"denominator"])})]});case"superscript":return s.jsxs("div",{className:`inline-flex items-start mx-0.5 ${oe}`,children:[s.jsx("span",{children:Je(g.base,[...j,"base"])}),s.jsx("span",{className:"text-xs scale-75 origin-top-left -mt-1",children:Je(g.exponent,[...j,"exponent"])})]});case"subscript":return s.jsxs("div",{className:`inline-flex items-end mx-0.5 ${oe}`,children:[s.jsx("span",{children:Je(g.base,[...j,"base"])}),s.jsx("span",{className:"text-xs scale-75 origin-bottom-left -mb-1",children:Je(g.index,[...j,"index"])})]});case"sqrt":return s.jsxs("div",{className:`inline-flex items-center mx-1 border-t-2 border-foreground pt-0.5 ${oe}`,children:[s.jsx("span",{className:"text-xl mr-0.5 -ml-1",children:""}),Je(g.content,[...j,"content"])]});case"abs":return s.jsx("div",{className:`inline-flex items-center mx-1 px-1 border-x border-foreground ${oe}`,children:Je(g.content,[...j,"content"])});case"function":return s.jsxs("div",{className:`inline-flex items-center ${oe}`,children:[g.name,"(",Je(g.argument,[...j,"argument"]),")"]});case"sum":case"integral":const _e=g.type==="sum"?"":"";return s.jsxs("div",{className:`inline-flex items-center gap-1 mx-1 ${oe}`,children:[s.jsxs("div",{className:"flex flex-col items-center text-[10px]",children:[s.jsx("div",{children:Je(g.upper,[...j,"upper"])}),s.jsx("span",{className:"text-2xl leading-none",children:_e}),s.jsx("div",{children:Je(g.lower,[...j,"lower"])})]}),Je(g.body,[...j,"body"])]});default:return s.jsx("span",{children:"?"})}},nr={insert:P,replacePrevAtom:f,backspace:p,moveLeft:S,moveRight:L,enterStructure:D,exitStructure:y,insertStructure:m};return s.jsxs("div",{className:"min-h-screen h-[100dvh] flex flex-col bg-background text-foreground overflow-hidden",children:[s.jsx("textarea",{ref:ve,className:"fixed opacity-0 pointer-events-none",inputMode:ce?"none":"text",onBeforeInput:le,onInput:pe,onKeyDown:Tt,onCompositionStart:()=>Z.current=!0,onCompositionEnd:tt,autoFocus:!ce}),s.jsxs("header",{className:"h-14 flex items-center justify-between px-4 border-b shrink-0",children:[s.jsx("button",{onClick:a,className:"p-2",children:s.jsx(br,{})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:je,disabled:Y===0,className:"p-2 disabled:opacity-30",children:s.jsx(Bf,{})}),s.jsx("button",{onClick:_,disabled:Y===ee.length-1,className:"p-2 disabled:opacity-30",children:s.jsx(Rf,{})})]}),s.jsxs("button",{onClick:()=>w(Ae(W),W),className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-lg flex items-center gap-1",children:[" ",s.jsx(Bt,{size:16})]})]}),s.jsx("main",{className:"flex-1 overflow-auto p-8 flex justify-center items-start",onClick:()=>re(),children:s.jsx("div",{className:"text-4xl",children:Je(W,[])})}),s.jsx("footer",{ref:qe,className:"w-full bg-card border-t safe-area-bottom shrink-0 z-50",style:{marginBottom:Pe},children:s.jsx(Zf,{api:nr})})]})}function tp({onAdd:C}){const[w,a]=M.useState(""),[E,F]=M.useState(""),[V,k]=M.useState(""),[W,I]=M.useState(""),x=()=>w?he.getScenario(w)?.steps||[]:[],H=()=>{if(E.trim())if(w){const Q={id:`scenario-${Date.now()}`,name:E.trim(),icon:"",parentId:w,steps:[]};he.saveScenario(Q),F("")}else{const Q={id:`scenario-${Date.now()}`,name:E.trim(),icon:"",steps:[]};he.saveScenario(Q),a(Q.id),F("")}},G=()=>{if(!W.trim())return;let Q=w;Q||(Q=_t,a(_t)),he.addStep(Q,W.trim());const Y=he.getScenario(Q);if(Y&&Y.steps.length>0){const J=Y.steps[Y.steps.length-1];k(J.id),I("")}},U=()=>{w&&V&&(C(w,V),a(""),k(""))},ee=()=>{const Q=he.getRootScenarios(),Y=(J,ve=0)=>{const Z=he.getChildScenarios(J.id);return[s.jsxs("option",{value:J.id,children:["".repeat(ve*2),J.name]},J.id),...Z.flatMap(ce=>Y(ce,ve+1))]};return Q.flatMap(J=>Y(J))};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-2",children:""}),s.jsxs("select",{value:w,onChange:Q=>{a(Q.target.value),k("")},className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400 mb-2",children:[s.jsx("option",{value:"",children:""}),ee()]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:E,onChange:Q=>F(Q.target.value),placeholder:w?"":"",className:"flex-1 px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),s.jsx("button",{onClick:H,disabled:!E.trim(),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Gt,{className:"w-4 h-4 text-gray-600"})})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-2",children:""}),s.jsxs("select",{value:V,onChange:Q=>k(Q.target.value),disabled:!w,className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400 mb-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:w?"":""}),x().map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:W,onChange:Q=>I(Q.target.value),placeholder:w?"":"",className:"flex-1 px-3 py-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),s.jsx("button",{onClick:G,disabled:!W.trim(),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Gt,{className:"w-4 h-4 text-gray-600"})})]})]}),s.jsx("button",{onClick:U,disabled:!w||!V,className:"w-full px-3 py-2 bg-gray-800 text-white rounded text-sm hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}function np({formulaId:C,expression:w,structureData:a,onSave:E,onBack:F,onCancel:V}){const k=C?he.getFormula(C):null,[W,I]=M.useState(k?.name||""),[x,H]=M.useState(k?.description||""),[G,U]=M.useState(k?.equivalentExpressions||[]),[ee,Q]=M.useState(k?.symbols||[]),[Y,J]=M.useState(k?.usedInContexts||[]),[ve,Z]=M.useState(k?.usedFormulas||[]),[ce,we]=M.useState(k?.derivableFormulas||[]),[Pe,Ne]=M.useState(!1),[Ie,Me]=M.useState(!1),[qe,re]=M.useState(!1),[ke,Se]=M.useState(!0),[je,_]=M.useState(!1),[A,ie]=M.useState(!1),[K,P]=M.useState(!1),[te,q]=M.useState(!1),[f,m]=M.useState(!1),[R,p]=M.useState(null),[y,D]=M.useState(!1),[S,L]=M.useState(null);M.useEffect(()=>{if(!k&&w&&ee.length===0){const b=le(w);Q(b),b.length>0&&Se(!0)}},[w]);const le=b=>{const $=(b||"").trim();if(!$)return[];const ue={"\\alpha":"","\\beta":"","\\gamma":"","\\delta":"","\\epsilon":"","\\theta":"","\\lambda":"","\\mu":"","\\nu":"","\\omega":"","\\pi":"","\\sigma":"","\\Sigma":""},Ce=new Set(["frac","sqrt","times","cdot","div","pm","le","ge","neq","approx","to","infty","left","right","mathrm","text","operatorname","sum","int"]),Fe=Ee=>/[A-Za-z]/.test(Ee),Ve=Ee=>/[--]/.test(Ee)||Ee===""||Ee===""||Ee==="",nt=Ee=>Fe(Ee)||Ve(Ee),en=(Ee,$e)=>{let dt=0,Pt=$e;for(;Pt<Ee.length;Pt++){const it=Ee[Pt];if(it==="{")dt++;else if(it==="}"&&(dt--,dt===0))break}return{value:Ee.slice($e+1,Pt),next:Math.min(Pt+1,Ee.length)}},tn=(Ee,$e)=>$e>=Ee.length?{value:"",next:$e}:Ee[$e]==="{"?en(Ee,$e):{value:Ee[$e]??"",next:$e+1},mt=[],Te=$;let Oe=0;for(;Oe<Te.length;){const Ee=Te[Oe];if(Ee===" "||Ee===`
`||Ee==="	"){Oe++;continue}if(Ee==="\\"){let $e=Oe+1;for(;$e<Te.length&&/[A-Za-z]/.test(Te[$e]);)$e++;const dt=Te.slice(Oe,$e);if(ue[dt]){let it=ue[dt],Rt="",nn="",yt=$e;for(;yt<Te.length&&(Te[yt]==="_"||Te[yt]==="^");){const Ss=Te[yt],Ir=tn(Te,yt+1);Ss==="_"?Rt=Ir.value:nn=Ir.value,yt=Ir.next}let Pr=it;Rt&&(Pr+=`_${Rt}`),nn&&(Pr+=`^${nn}`),mt.push(Pr),Oe=yt;continue}const Pt=dt.replace("\\","");if(Ce.has(Pt)){Oe=$e;continue}Oe=$e;continue}if(nt(Ee)){let $e=Ee,dt="",Pt="",it=Oe+1;for(;it<Te.length&&(Te[it]==="_"||Te[it]==="^");){const nn=Te[it],yt=tn(Te,it+1);nn==="_"?dt=yt.value:Pt=yt.value,it=yt.next}let Rt=$e;dt&&(Rt+=`_${dt}`),Pt&&(Rt+=`^${Pt}`),mt.push(Rt),Oe=it;continue}Oe++}return Array.from(new Set(mt.filter(Boolean))).map(Ee=>({symbol:Ee,meaning:"",unit:""}))},pe=b=>{const $=(b||"").trim();if(!$)return s.jsx("span",{className:"text-muted-foreground",children:""});const ue={"\\sigma":"","\\Sigma":"","\\pi":"","\\alpha":"","\\beta":"","\\gamma":"","\\delta":"","\\epsilon":"","\\theta":"","\\lambda":"","\\mu":"","\\nu":"","\\omega":""};let Ce=$.replace(/\\[A-Za-z]+/g,Te=>ue[Te]??Te.replace("\\",""));const Fe=(Te,Oe)=>{if(Te[Oe]==="{"){let An=0,Ee=Oe;for(;Ee<Te.length;Ee++){const $e=Te[Ee];if($e==="{")An++;else if($e==="}"&&(An--,An===0))break}return{value:Te.slice(Oe+1,Ee),next:Ee+1}}return{value:Te[Oe]??"",next:Oe+1}};let Ve="",nt="",en="";const tn=Ce.match(/^([A-Za-z--]+|\d+|[-]+)/);tn?(Ve=tn[0],Ce=Ce.slice(Ve.length)):(Ve=Ce[0]??"",Ce=Ce.slice(1));let mt=0;for(;mt<Ce.length;){const Te=Ce[mt];if(Te==="_"){const Oe=Fe(Ce,mt+1);nt=Oe.value,mt=Oe.next;continue}if(Te==="^"){const Oe=Fe(Ce,mt+1);en=Oe.value,mt=Oe.next;continue}mt++}return s.jsxs("span",{className:"inline-flex items-baseline leading-none",children:[s.jsx("span",{className:"font-medium",children:Ve}),nt?s.jsx("sub",{className:"text-sm leading-none relative top-1 ml-0.5",children:nt}):null,en?s.jsx("sup",{className:"text-sm leading-none relative -top-1 ml-0.5",children:en}):null]})},tt=()=>{U([...G,""])},Tt=(b,$)=>{const ue=[...G];ue[b]=$,U(ue)},Ae=b=>{U(G.filter(($,ue)=>ue!==b))},Je=(b,$,ue)=>{const Ce=[...ee];Ce[b]={...Ce[b],[$]:ue},Q(Ce)},tr=b=>{Q(ee.filter(($,ue)=>ue!==b))},nr=()=>{Q([...ee,{symbol:"",meaning:"",unit:""}])},g=(b,$)=>{Y.find(ue=>ue.scenarioId===b&&ue.stepId===$)||J([...Y,{scenarioId:b,stepId:$}]),P(!1)},j=b=>{J(Y.filter(($,ue)=>ue!==b))},X=b=>{ve.includes(b)||Z([...ve,b]),q(!1)},oe=b=>{Z(ve.filter($=>$!==b))},me=b=>{ce.includes(b)||we([...ce,b]),m(!1)},_e=b=>{we(ce.filter($=>$!==b))},Be=b=>{const $=he.getScenario(b.scenarioId);if(!$)return"";const ue=$.steps.find(Ce=>Ce.id===b.stepId);return`${$.name} > ${ue?.name??""}`},De=()=>{E({name:W,description:x,equivalentExpressions:G.filter(b=>b.trim()),symbols:ee.filter(b=>b.symbol.trim()),usedInContexts:Y,usedFormulas:ve,derivableFormulas:ce})},He=b=>{let $=b.columns,ue=b.rows;return(!$||$.length===0)&&($=[{id:"col1",label:""}]),!ue||ue.length===0?ue=[{cells:new Array($.length).fill("")}]:ue=ue.map(Ce=>{const Fe=[...Ce.cells];if(Fe.length<$.length)for(;Fe.length<$.length;)Fe.push("");else Fe.length>$.length&&(Fe.length=$.length);return{cells:Fe}}),{...b,columns:$,rows:ue}},Zt=b=>{const $=ee[b];let ue;$.coeffTable?ue=He($.coeffTable):ue={title:`${$.symbol||""}`,columns:[{id:"col1",label:""},{id:"col2",label:""}],rows:[{cells:["",""]}],note:""},p(b),L(ue),D(!0)},Ht=()=>{D(!1),p(null),L(null)},cn=(b,$)=>{S&&L({...S,[b]:$})},On=(b,$)=>{if(!S)return;const ue=S.columns.map((Ce,Fe)=>Fe===b?{...Ce,label:$}:Ce);L(He({...S,columns:ue}))},$n=()=>{if(!S)return;const $={id:`col${S.columns.length+1}`,label:""},ue=[...S.columns,$],Ce=S.rows.map(Fe=>({cells:[...Fe.cells,""]}));L({...S,columns:ue,rows:Ce})},Un=b=>{if(!S)return;let $=S.columns.filter((Ce,Fe)=>Fe!==b),ue=S.rows.map(Ce=>({cells:Ce.cells.filter((Fe,Ve)=>Ve!==b)}));$.length===0&&($=[{id:"col1",label:""}],ue=[{cells:[""]}]),L({...S,columns:$,rows:ue})},ws=(b,$,ue)=>{if(!S)return;const Ce=S.rows.map((Fe,Ve)=>{if(Ve!==b)return Fe;const nt=[...Fe.cells];return nt[$]=ue,{cells:nt}});L({...S,rows:Ce})},dl=()=>{if(!S)return;const b={cells:new Array(S.columns.length).fill("")};L({...S,rows:[...S.rows,b]})},fl=b=>{if(!S)return;let $=S.rows.filter((ue,Ce)=>Ce!==b);$.length===0&&($=[{cells:new Array(S.columns.length).fill("")}]),L({...S,rows:$})},Ns=()=>{if(R===null||!S)return;let b=S.rows.filter(Ve=>Ve.cells.some(nt=>nt.trim()!==""));b.length===0&&(b=[{cells:new Array(S.columns.length).fill("")}]);let $=S.columns;const ue=[];$.forEach((Ve,nt)=>{const en=Ve.label.trim()!=="",tn=b.some(mt=>(mt.cells[nt]??"").trim()!=="");(en||tn)&&ue.push(nt)}),ue.length===0?($=[{id:"col1",label:""}],b=[{cells:[""]}]):ue.length!==$.length&&($=ue.map((Ve,nt)=>({id:`col${nt+1}`,label:$[Ve].label})),b=b.map(Ve=>({cells:ue.map(nt=>Ve.cells[nt]??"")})));const Ce={...S,columns:$,rows:b},Fe=[...ee];Fe[R]={...Fe[R],coeffTable:Ce},Q(Fe),Ht()},rr=R!==null?ee[R]:null;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between border-b border-border",children:[s.jsx("button",{onClick:F,className:"p-2 hover:bg-primary/10 rounded-xl transition-colors",title:"",children:s.jsx(br,{className:"w-5 h-5 text-foreground"})}),s.jsx("h1",{className:"flex-1 text-center text-foreground",children:""}),s.jsx("button",{onClick:V,className:"px-3 py-1.5 text-sm text-destructive hover:bg-destructive/10 rounded-xl transition-colors",title:"",children:""})]}),s.jsxs("main",{className:"flex-1 p-4 pb-20 overflow-y-auto space-y-3",children:[s.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:""}),s.jsx("div",{className:"text-2xl text-foreground text-center overflow-x-auto",children:a||k?.structureTree||k?.structureData?s.jsx(_r,{root:a||k?.structureTree||k?.structureData,fallback:w||"",maskBlocks:[]}):s.jsx("span",{className:"font-mono",children:w||""})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2 px-1",children:""}),s.jsx("input",{type:"text",value:W,onChange:b=>I(b.target.value),placeholder:"",className:"w-full px-4 py-3 glass-card rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>Me(!Ie),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",G.length>0&&s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",G.length,")"]})]}),s.jsx("div",{className:"text-primary",children:Ie?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),Ie&&s.jsxs("div",{className:"border-t border-border p-4 space-y-2",children:[G.map((b,$)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:b,onChange:ue=>Tt($,ue.target.value),placeholder:"",className:"flex-1 px-4 py-2.5 glass-card rounded-xl text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground"}),s.jsx("button",{onClick:()=>Ae($),className:"p-2.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-colors",children:s.jsx(un,{className:"w-4 h-4"})})]},$)),s.jsxs("button",{onClick:tt,className:"w-full glass-card rounded-xl px-4 py-3 text-sm text-muted-foreground hover:text-primary hover:shadow-md transition-all flex items-center justify-center gap-2 border border-dashed border-primary/30",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})]})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>Ne(!Pe),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"flex-1 text-left text-sm text-foreground",children:""}),s.jsx("div",{className:"text-primary",children:Pe?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),Pe&&s.jsx("div",{className:"border-t border-border p-4",children:s.jsx("textarea",{value:x,onChange:b=>H(b.target.value),placeholder:"...",rows:4,className:"w-full px-4 py-3 glass-card rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground resize-none"})})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>re(!qe),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",Y.length>0&&s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",Y.length,")"]})]}),s.jsx("div",{className:"text-primary",children:qe?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),qe&&s.jsxs("div",{className:"border-t border-border p-4",children:[Y.map((b,$)=>s.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[s.jsx("div",{className:"flex-1 text-sm text-gray-700",children:Be(b)}),s.jsx("button",{onClick:()=>j($),className:"p-1 text-gray-400 hover:text-red-500",children:s.jsx(un,{className:"w-3 h-3"})})]},$)),s.jsx(tp,{onAdd:g})]})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>Se(!ke),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",ee.length>0&&s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",ee.length,")"]})]}),s.jsx("div",{className:"text-primary",children:ke?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),ke&&s.jsxs("div",{className:"border-t border-border p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:" /  /   "}),ee.map((b,$)=>s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx("div",{className:"w-12 h-10 px-2 border border-gray-200 rounded bg-white flex items-center justify-center",children:pe(b.symbol)}),s.jsx("input",{type:"text",value:b.symbol,onChange:ue=>Je($,"symbol",ue.target.value),placeholder:"",className:"w-16 sm:w-20 md:w-24 h-10 px-2 border border-gray-200 rounded text-sm text-center font-mono focus:outline-none focus:border-gray-400"})]}),s.jsx("input",{type:"text",value:b.meaning,onChange:ue=>Je($,"meaning",ue.target.value),placeholder:"",className:"flex-1 min-w-0 h-10 px-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),s.jsx("input",{type:"text",value:b.unit,onChange:ue=>Je($,"unit",ue.target.value),placeholder:"",className:"w-14 sm:w-20 md:w-24 h-10 px-2 border border-gray-200 rounded text-sm focus:outline-none focus:border-gray-400"}),s.jsxs("div",{className:"flex flex-col items-end gap-1 shrink-0",children:[s.jsx("button",{type:"button",onClick:()=>Zt($),className:"px-2 py-1 border border-gray-200 rounded text-[11px] text-gray-600 hover:bg-gray-50",children:""}),b.coeffTable&&s.jsxs("span",{className:"px-1.5 py-0.5 rounded-full bg-primary/10 text-primary text-[10px] leading-none",children:[b.coeffTable.rows.length," ",b.coeffTable.columns.length>0&&`  ${b.coeffTable.columns.length} `]})]}),s.jsx("button",{onClick:()=>tr($),className:"p-2 text-gray-400 hover:text-red-500 shrink-0",children:s.jsx(un,{className:"w-4 h-4"})})]},$)),s.jsxs("button",{onClick:nr,className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})]})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>_(!je),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",ve.length>0&&s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",ve.length,")"]})]}),s.jsx("div",{className:"text-primary",children:je?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),je&&s.jsxs("div",{className:"border-t border-border p-4",children:[ve.map(b=>{const $=he.getFormula(b);return s.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-700",children:$?.name||b}),s.jsx("div",{className:"text-xs text-gray-400 font-mono",children:$?.expression})]}),s.jsx("button",{onClick:()=>oe(b),className:"p-1 text-gray-400 hover:text-red-500",children:s.jsx(un,{className:"w-3 h-3"})})]},b)}),te?s.jsx("div",{className:"border border-gray-300 rounded max-h-60 overflow-y-auto mb-2",children:Object.values(he.getFormulas()).map(b=>s.jsxs("button",{onClick:()=>X(b.id),className:"w-full px-3 py-2 text-left hover:bg-gray-50 border-b border-gray-100",disabled:ve.includes(b.id),children:[s.jsx("div",{className:"text-sm text-gray-700",children:b.name}),s.jsx("div",{className:"text-xs text-gray-400 font-mono",children:b.expression})]},b.id))}):s.jsxs("button",{onClick:()=>q(!0),className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})]})]}),s.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>ie(!A),className:"w-full px-5 py-4 flex items-center gap-3 hover:bg-primary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left text-sm text-foreground",children:["",ce.length>0&&s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",ce.length,")"]})]}),s.jsx("div",{className:"text-primary",children:A?s.jsx(Xt,{className:"w-5 h-5"}):s.jsx(Bt,{className:"w-5 h-5"})})]}),A&&s.jsxs("div",{className:"border-t border-border p-4",children:[ce.map(b=>{const $=he.getFormula(b);return s.jsxs("div",{className:"flex items-center gap-2 mb-2 px-3 py-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-700",children:$?.name||b}),s.jsx("div",{className:"text-xs text-gray-400 font-mono",children:$?.expression})]}),s.jsx("button",{onClick:()=>_e(b),className:"p-1 text-gray-400 hover:text-red-500",children:s.jsx(un,{className:"w-3 h-3"})})]},b)}),f?s.jsx("div",{className:"border border-gray-300 rounded max-h-60 overflow-y-auto mb-2",children:Object.values(he.getFormulas()).map(b=>s.jsxs("button",{onClick:()=>me(b.id),className:"w-full px-3 py-2 text-left hover:bg-gray-50 border-b border-gray-100",disabled:ce.includes(b.id),children:[s.jsx("div",{className:"text-sm text-gray-700",children:b.name}),s.jsx("div",{className:"text-xs text-gray-400 font-mono",children:b.expression})]},b.id))}):s.jsxs("button",{onClick:()=>m(!0),className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50 flex items-center justify-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})]})]})]}),y&&S&&rr&&s.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-black/40",children:s.jsxs("div",{className:"w-full max-h-[80vh] bg-background rounded-t-3xl shadow-xl p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:rr.symbol||""}),s.jsx("div",{className:"text-sm font-medium",children:""})]}),s.jsx("button",{onClick:Ht,className:"p-2 rounded-full hover:bg-muted",children:s.jsx(un,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:""}),s.jsx("input",{type:"text",value:S.title,onChange:b=>cn("title",b.target.value),className:"w-full px-3 py-2 border border-input rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("button",{type:"button",onClick:$n,className:"flex items-center gap-1 text-xs px-2 py-1 border border-input rounded-lg hover:bg-muted",children:[s.jsx(Gt,{className:"w-3 h-3"}),""]})]}),s.jsx("div",{className:"space-y-1",children:S.columns.map((b,$)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground w-10",children:[$+1,""]}),s.jsx("input",{type:"text",value:b.label,onChange:ue=>On($,ue.target.value),placeholder:`${$+1} `,className:"flex-1 px-3 py-1.5 border border-input rounded-xl text-sm focus:outline-none focus:ring-1 focus:ring-primary/30"}),s.jsx("button",{type:"button",onClick:()=>Un($),className:"p-1 text-muted-foreground hover:text-destructive",disabled:S.columns.length<=1,children:s.jsx(un,{className:"w-3 h-3"})})]},b.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:""}),s.jsxs("div",{className:"border border-border rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"grid items-center bg-muted text-xs text-muted-foreground px-3 py-2",style:{gridTemplateColumns:`repeat(${S.columns.length}, minmax(0, 1fr)) auto`},children:[S.columns.map((b,$)=>s.jsx("div",{children:b.label||`${$+1}`},b.id)),s.jsx("div",{className:"text-right",children:""})]}),S.rows.map((b,$)=>s.jsxs("div",{className:"grid items-center gap-2 px-3 py-2 border-t border-border text-sm",style:{gridTemplateColumns:`repeat(${S.columns.length}, minmax(0, 1fr)) auto`},children:[S.columns.map((ue,Ce)=>s.jsx("input",{type:"text",value:b.cells[Ce]??"",onChange:Fe=>ws($,Ce,Fe.target.value),className:"px-2 py-1 border border-input rounded-lg focus:outline-none focus:ring-1 focus:ring-primary/30"},ue.id)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>fl($),className:"p-1 text-muted-foreground hover:text-destructive",children:s.jsx(un,{className:"w-3 h-3"})})})]},$)),s.jsxs("button",{type:"button",onClick:dl,className:"w-full px-3 py-2 text-xs text-muted-foreground hover:bg-muted/60 flex items-center justify-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),""]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:""}),s.jsx("textarea",{value:S.note??"",onChange:b=>cn("note",b.target.value),rows:2,className:"w-full px-3 py-2 border border-input rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"button",onClick:Ns,className:"w-full py-3 rounded-2xl bg-primary text-primary-foreground text-sm font-medium shadow-md hover:opacity-90 transition-opacity",children:""})})]})]})}),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-nav px-5 py-4",children:s.jsx("button",{onClick:De,className:"w-full py-4 bg-primary text-primary-foreground rounded-2xl shadow-lg hover:opacity-90 transition-opacity",children:""})})]})}function rp(){const[C,w]=M.useState(0),[a,E]=M.useState({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null});M.useEffect(()=>he.subscribe(()=>{w(ce=>ce+1)}),[]);const F=(Z,ce)=>{E({...a,currentPage:"stepList",selectedScenario:Z,targetStepId:ce||null,previousPage:a.currentPage,returnSource:"home-scenario"})},V=Z=>{E({...a,currentPage:"formulaDetail",selectedFormula:Z,previousPage:"stepList",returnSource:"stepList"})},k=Z=>{E({...a,currentPage:"formulaDetail",selectedFormula:Z,previousPage:"home",returnSource:"home-formula"})},W=(Z,ce)=>{E({...a,currentPage:"stepList",selectedScenario:Z,targetStepId:ce,previousPage:"formulaDetail",returnSource:"home-scenario"})},I=Z=>{E({...a,currentPage:"formulaDetail",selectedFormula:Z,previousPage:"formulaDetail"})},x=()=>{E({...a,currentPage:"learning",previousPage:a.currentPage})},H=()=>{E({...a,currentPage:"formulaStructureEdit",selectedFormula:null,previousPage:"home",editEntryState:{returnPage:"home",returnSource:"home-formula",selectedScenario:null,selectedFormula:null}})},G=()=>{E({...a,currentPage:"formulaStructureEdit",previousPage:"formulaDetail",editEntryState:{returnPage:"formulaDetail",returnSource:a.returnSource,selectedScenario:a.selectedScenario,selectedFormula:a.selectedFormula}})},U=(Z,ce)=>{E({...a,currentPage:"formulaInfoEdit",tempFormula:{...a.tempFormula,expression:Z,structureData:ce},previousPage:"formulaStructureEdit"})},ee=()=>{E({...a,currentPage:"formulaStructureEdit",previousPage:"formulaInfoEdit"})},Q=()=>{if(confirm(""))if(a.editEntryState){const Z=a.editEntryState;E({currentPage:Z.returnPage,selectedScenario:Z.selectedScenario,selectedFormula:Z.selectedFormula,targetStepId:null,previousPage:null,tempFormula:null,returnSource:Z.returnSource,editEntryState:null})}else ve()},Y=Z=>{const ce=a.selectedFormula||"f"+Date.now(),we=a.tempFormula?.expression||"",Pe=a.tempFormula?.structureData,Ne={id:ce,name:Z.name||` ${ce}`,expression:we,description:Z.description,equivalentExpressions:Z.equivalentExpressions,symbols:Z.symbols.map(Ie=>({symbol:Ie.symbol,meaning:Ie.meaning,unit:Ie.unit||void 0})),usedInContexts:Z.usedInContexts,usedFormulas:Z.usedFormulas,derivableFormulas:Z.derivableFormulas,structureData:Pe,structureTree:Pe};if(he.saveFormula(Ne),a.editEntryState){const Ie=a.editEntryState,Me=a.selectedFormula||ce;E({currentPage:Ie.returnPage,selectedFormula:Me,selectedScenario:Ie.selectedScenario,targetStepId:null,previousPage:null,tempFormula:null,returnSource:Ie.returnSource,editEntryState:null})}else ve()},J=()=>{a.currentPage==="formulaDetail"?a.returnSource==="stepList"?E({...a,currentPage:"stepList",selectedFormula:null,previousPage:null}):E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):a.currentPage==="stepList"?E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null}):a.previousPage&&E({...a,currentPage:a.previousPage,previousPage:null})},ve=()=>{E({currentPage:"home",selectedScenario:null,selectedFormula:null,targetStepId:null,previousPage:null,tempFormula:null,returnSource:null,editEntryState:null})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.currentPage==="home"&&s.jsx(Kf,{onScenarioClick:F,onFormulaClick:k,onCreateFormula:H,onLearningClick:x}),a.currentPage==="stepList"&&a.selectedScenario&&s.jsx(qf,{scenarioId:a.selectedScenario,targetStepId:a.targetStepId,onBack:J,onFormulaClick:V,onLearningClick:x}),a.currentPage==="formulaDetail"&&a.selectedFormula&&s.jsx(Jf,{formulaId:a.selectedFormula,onBack:J,onEdit:G,onLearningClick:x,onFormulaClick:I,onContextClick:W}),a.currentPage==="learning"&&s.jsx(Xf,{onBack:J,onNavigateHome:ve}),a.currentPage==="formulaStructureEdit"&&s.jsx(ep,{formulaId:a.selectedFormula,draftExpression:a.tempFormula?.expression||void 0,draftStructureData:a.tempFormula?.structureData||a.tempFormula?.structureTree||void 0,onNext:U,onCancel:Q}),a.currentPage==="formulaInfoEdit"&&s.jsx(np,{formulaId:a.selectedFormula,expression:a.tempFormula?.expression||"",structureData:a.tempFormula?.structureTree||a.tempFormula?.structureData,onSave:Y,onBack:ee,onCancel:Q})]})}af.createRoot(document.getElementById("root")).render(s.jsx(rp,{}));
